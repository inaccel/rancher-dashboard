{"version":3,"file":"js/2516.e03bcdb4.js","mappings":"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","sources":["webpack://dashboard/./shell/pages/c/_cluster/monitoring/route-receiver/index.vue?9ae4","webpack://dashboard/./shell/pages/c/_cluster/monitoring/route-receiver/index.vue","webpack://dashboard/./shell/pages/c/_cluster/monitoring/route-receiver/index.vue?b00f","webpack://dashboard/./shell/pages/c/_cluster/monitoring/route-receiver/index.vue?4073"],"sourcesContent":["// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.header[data-v-35fa13b0]{display:flex}.header H1[data-v-35fa13b0]{flex:1}`, \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","<script>\n/**\n * The Route and Receiver resources are deprecated. Going forward,\n * routes and receivers should be configured within AlertmanagerConfigs.\n * Any updates to receiver configuration forms, such as Slack/email/PagerDuty\n * etc, should be made to the receiver forms that are based on the\n * AlertmanagerConfig resource, which has a different API. The new forms are\n * located in @shell/edit/monitoring.coreos.com.alertmanagerconfig/types.\n */\nimport ResourceTable from '@shell/components/ResourceTable';\nimport Loading from '@shell/components/Loading';\nimport Tabbed from '@shell/components/Tabbed';\nimport Tab from '@shell/components/Tabbed/Tab';\nimport { Banner } from '@components/Banner';\nimport { MONITORING } from '@shell/config/types';\nimport { areRoutesSupportedFormat, getSecret } from '@shell/utils/alertmanagerconfig';\nimport { MODE, _EDIT } from '@shell/config/query-params';\n\nexport default {\n  name:       'ListRoute',\n  components: {\n    Banner,\n    Loading,\n    ResourceTable,\n    Tab,\n    Tabbed,\n  },\n\n  async fetch() {\n    this.routeSchema = this.$store.getters['cluster/schemaFor'](MONITORING.SPOOFED.ROUTE);\n    this.receiverSchema = this.$store.getters['cluster/schemaFor'](MONITORING.SPOOFED.RECEIVER);\n\n    const routes = this.$store.dispatch('cluster/findAll', { type: MONITORING.SPOOFED.ROUTE });\n\n    this.receivers = await this.$store.dispatch('cluster/findAll', { type: MONITORING.SPOOFED.RECEIVER });\n\n    const secret = await getSecret(this.$store.dispatch);\n    const areSomeRoutesInvalidFormat = areRoutesSupportedFormat(secret);\n\n    if (areSomeRoutesInvalidFormat) {\n      this.$store.dispatch('type-map/configureType', { match: MONITORING.SPOOFED.ROUTE, isCreatable: true });\n      this.routes = await routes;\n    } else {\n      this.$store.dispatch('type-map/configureType', { match: MONITORING.SPOOFED.ROUTE, isCreatable: false });\n      this.secretTo = { ...secret.detailLocation };\n      this.secretTo.query = { [MODE]: _EDIT };\n    }\n  },\n\n  data() {\n    const initTab = this.$route.query.resource || MONITORING.SPOOFED.RECEIVER;\n\n    return {\n      routes: [], receivers: [], secretTo: null, routeSchema: null, receiverSchema: null, initTab\n    };\n  },\n  computed: {\n\n    createRoute() {\n      const activeResource = this.$refs?.tabs?.activeTabName || this.routeSchema.id;\n\n      return {\n        name:   'c-cluster-monitoring-route-receiver-create',\n        params: { cluster: this.$route.params.cluster },\n        query:  { resource: activeResource }\n      };\n    },\n  },\n\n};\n</script>\n\n<template>\n  <Loading v-if=\"$fetchState.pending\" />\n  <div v-else>\n    <div class=\"row header mb-10\">\n      <h1>  {{ t('monitoring.routesAndReceivers') }}</h1>\n      <div>\n        <button\n          class=\"btn btn-lg role-primary float right\"\n          @click=\"$router.push(createRoute)\"\n        >\n          {{ t('resourceList.head.create') }}\n        </button>\n      </div>\n    </div>\n    <div class=\"row\">\n      <Banner\n        color=\"info\"\n        :label=\"t('monitoring.alertmanagerConfig.deprecationWarning')\"\n      />\n    </div>\n    <Tabbed\n      ref=\"tabs\"\n      :default-tab=\"initTab\"\n    >\n      <Tab\n        :name=\"routeSchema.id\"\n        :label=\"$store.getters['type-map/labelFor'](routeSchema, 2)\"\n      >\n        <div v-if=\"secretTo\">\n          We don't support the current route format stored in alertmanager.yaml. Click\n          <router-link :to=\"secretTo\">\n            here\n          </router-link> to update manually.\n        </div>\n        <ResourceTable\n          v-else\n          :schema=\"routeSchema\"\n          :rows=\"routes\"\n        />\n      </Tab>\n      <Tab\n        :name=\"receiverSchema.id\"\n        :label=\"$store.getters['type-map/labelFor'](receiverSchema, 2)\"\n      >\n        <ResourceTable\n          :schema=\"receiverSchema\"\n          :rows=\"receivers\"\n        />\n      </Tab>\n    </Tabbed>\n  </div>\n</template>\n\n<style lang='scss' scoped>\n.header{\n  display: flex;\n  H1{\n    flex: 1;\n  }\n}\n</style>\n","import { render } from \"./index.vue?vue&type=template&id=35fa13b0&scoped=true\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport \"./index.vue?vue&type=style&index=0&id=35fa13b0&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-35fa13b0\"]])\n\nexport default __exports__","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??clonedRuleSet-22.use[1]!../../../../../../node_modules/vue-loader/dist/stylePostLoader.js!../../../../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-22.use[2]!../../../../../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-22.use[3]!../../../../../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-22.use[4]!../../../../../../node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!../../../../../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[1]!./index.vue?vue&type=style&index=0&id=35fa13b0&lang=scss&scoped=true\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"448e1deb\", content, true, {\"sourceMap\":false,\"shadowMode\":false});"],"names":["___CSS_LOADER_EXPORT___","push","module","id","class","$fetchState","t","$router","createRoute","color","label","ref","initTab","name","routeSchema","$store","getters","to","secretTo","schema","rows","routes","receiverSchema","receivers","components","Banner","Loading","ResourceTable","Tab","Tabbed","fetch","this","SPOOFED","ROUTE","RECEIVER","dispatch","type","secret","areSomeRoutesInvalidFormat","match","isCreatable","detailLocation","query","data","$route","resource","computed","activeResource","$refs","tabs","activeTabName","params","cluster","__exports__","render","content","__esModule","default","locals","exports","add"],"sourceRoot":""}