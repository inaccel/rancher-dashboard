{"version":3,"file":"js/3448.e26d6701.js","mappings":"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","sources":["webpack://dashboard/./shell/components/BannerGraphic.vue?6bd6","webpack://dashboard/./shell/components/CommunityLinks.vue?04bc","webpack://dashboard/./shell/components/IndentedPanel.vue?92e0","webpack://dashboard/./shell/config/home-links.js","webpack://dashboard/./shell/components/BannerGraphic.vue","webpack://dashboard/./shell/components/BannerGraphic.vue?6847","webpack://dashboard/./shell/components/CommunityLinks.vue","webpack://dashboard/./shell/components/CommunityLinks.vue?5340","webpack://dashboard/./shell/components/IndentedPanel.vue","webpack://dashboard/./shell/components/IndentedPanel.vue?e8ca","webpack://dashboard/./shell/components/BannerGraphic.vue?bf18","webpack://dashboard/./shell/components/CommunityLinks.vue?7a62","webpack://dashboard/./shell/components/IndentedPanel.vue?4336"],"sourcesContent":["// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../node_modules/@vue/cli-service/node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/@vue/cli-service/node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.banner-graphic{position:relative}.banner-graphic .close-button{position:absolute;visibility:hidden}.banner-graphic:hover .close-button{visibility:visible;position:absolute;right:4px;top:4px;font-size:16px;padding:4px;display:flex;align-items:center;cursor:pointer;opacity:.4}.banner-graphic:hover .close-button:hover{background-color:var(--accent-btn-hover);color:var(--accent-btn-hover-text);opacity:1}.banner-graphic .graphic{display:flex;flex-direction:column;height:240px;overflow:hidden}.banner-graphic .graphic>img.banner{flex:1;-o-object-fit:cover;object-fit:cover}.banner-graphic .title{display:flex;justify-content:center;align-items:center;position:absolute;text-align:center;top:0;height:100%;width:100%;margin-top:-20px}.banner-graphic.small .graphic{height:200px}.banner-graphic.small .graphic img.banner{margin-top:-20px}`, \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../node_modules/@vue/cli-service/node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/@vue/cli-service/node_modules/css-loader/dist/runtime/api.js\";\nimport ___CSS_LOADER_GET_URL_IMPORT___ from \"../../node_modules/@vue/cli-service/node_modules/css-loader/dist/runtime/getUrl.js\";\nvar ___CSS_LOADER_URL_IMPORT_0___ = new URL(\"../assets/images/wechat-qr-code.jpg\", import.meta.url);\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\nvar ___CSS_LOADER_URL_REPLACEMENT_0___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_0___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `h2[data-v-5eb9ba53]{display:flex;align-items:center}h2 i[data-v-5eb9ba53]{font-size:12px;margin-left:5px}.support-link[data-v-5eb9ba53]:not(:last-child){margin-bottom:15px}.wechat-modal[data-v-5eb9ba53]{margin:60px;display:flex;flex-direction:column;align-items:center}.link[data-v-5eb9ba53]{cursor:pointer}.btn[data-v-5eb9ba53]{margin:20px auto 0}.qr-img[data-v-5eb9ba53]{background-image:url(${___CSS_LOADER_URL_REPLACEMENT_0___});background-repeat:no-repeat;background-size:cover;background-position:50%;height:128px;width:128px;margin:15px auto 10px}`, \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../../node_modules/@vue/cli-service/node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../node_modules/@vue/cli-service/node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.indented-panel{height:100%;width:90%;margin-left:5%}@media only screen and (max-width:992px){.indented-panel{margin:0 20px;width:auto}}`, \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","import { DOCS_BASE } from '@shell/config/private-label';\nimport { MANAGEMENT } from '@shell/config/types';\nimport { SETTING } from '@shell/config/settings';\nimport { allHash } from '@shell/utils/promise';\nimport { isRancherPrime } from '@shell/config/version';\n\n// i18n-uses customLinks.defaults.*\nconst DEFAULT_LINKS = [\n  {\n    key:     'docs',\n    value:   DOCS_BASE,\n    enabled: true,\n  },\n  {\n    key:     'forums',\n    value:   'https://forums.rancher.com/',\n    enabled: true,\n  },\n  {\n    key:     'slack',\n    value:   'https://slack.rancher.io/',\n    enabled: true,\n  },\n  {\n    key:     'issues',\n    value:   'https://github.com/rancher/dashboard/issues/new/choose',\n    enabled: true,\n  },\n  {\n    key:     'getStarted',\n    value:   `${ DOCS_BASE }/getting-started/overview`,\n    enabled: true,\n  },\n];\n\nconst COLLECTIVE_LINK = {\n  key:     'suseCollective',\n  value:   'https://susecollective.suse.com/join/prime',\n  enabled: true,\n};\n\nconst SUPPORT_LINK = {\n  key:      'commercialSupport',\n  value:    '/support',\n  enabled:  true,\n  readonly: true\n};\n\nconst CN_FORUMS_LINK = {\n  key:     'cnforums',\n  value:   'https://forums.rancher.cn/',\n  enabled: true,\n};\n\n// We add a version attribute to the setting so we know what has been migrated and which version of the setting we have\nexport const CUSTOM_LINKS_VERSION = 'v1';\n\n// Version with collective added (Prime)\nexport const CUSTOM_LINKS_COLLECTIVE_VERSION = 'v1.1';\n\n// Fetch the settings required for the links, taking into account legacy settings if we have not migrated\nexport async function fetchLinks(store, hasSupport, isSupportPage, t) {\n  let uiLinks = {};\n\n  try {\n    const uiLinksSetting = await store.dispatch('management/find', { type: MANAGEMENT.SETTING, id: SETTING.UI_CUSTOM_LINKS });\n\n    // Don't try and parse empty string\n    if (uiLinksSetting.value) {\n      uiLinks = JSON.parse(uiLinksSetting.value);\n    }\n  } catch (e) {\n    console.warn('Could not parse custom link settings', e); // eslint-disable-line no-console\n  }\n\n  // If uiLinks is set and has the correct version, then we are okay, otherwise we need to migrate from the old settings\n  if (uiLinks?.version?.startsWith(CUSTOM_LINKS_VERSION)) {\n    // v1 > v1.1 migration\n    if (uiLinks?.version === CUSTOM_LINKS_VERSION) {\n      uiLinks.version = CUSTOM_LINKS_COLLECTIVE_VERSION;\n\n      // Add collective link so that it is enabled by default\n      if (!uiLinks.defaults.includes(COLLECTIVE_LINK.key)) {\n        uiLinks.defaults.push(COLLECTIVE_LINK.key);\n      }\n    }\n\n    // Map out the default settings, as we only store keys of the ones to show\n    if (uiLinks.defaults) {\n      const defaults = [...DEFAULT_LINKS];\n\n      // Add prime link if necessary\n      if (isRancherPrime()) {\n        defaults.push(COLLECTIVE_LINK);\n      }\n\n      // Map the link name stored to the default link, if it exists\n      defaults.forEach((link) => {\n        const enabled = uiLinks.defaults.find((linkName) => linkName === link.key);\n\n        link.enabled = !!enabled;\n      });\n\n      uiLinks.defaults = defaults;\n    }\n\n    return ensureSupportLink(uiLinks, hasSupport, isSupportPage, t, store);\n  }\n\n  // No new setting, so return the required structure\n  // We don't migrate here, as we may not have permissions to create the setting\n  const links = {\n    version:  CUSTOM_LINKS_VERSION,\n    defaults: [...DEFAULT_LINKS],\n    custom:   []\n  };\n\n  // Add prime link if necessary\n  if (isRancherPrime()) {\n    links.defaults.push(COLLECTIVE_LINK);\n  }\n\n  // There are two legacy settings:\n  // SETTING.ISSUES - can specify a custom link to use for 'File an issue'\n  // SETTING.COMMUNITY_LINKS - can specify whether to hide all of the default links (other than 'File an issue')\n  try {\n    const { uiIssuesSetting, uiCommunitySetting } = await allHash({\n      uiIssuesSetting:    store.dispatch('management/find', { type: MANAGEMENT.SETTING, id: SETTING.ISSUES }),\n      uiCommunitySetting: store.dispatch('management/find', { type: MANAGEMENT.SETTING, id: SETTING.COMMUNITY_LINKS })\n    });\n\n    // Should we show the default set of links?\n    if (uiCommunitySetting?.value === 'false') {\n      // Hide all of the default links\n      links.defaults.forEach((link) => (link.enabled = false));\n    }\n\n    // Do we have a custom 'File an issue' link ?\n    if (uiIssuesSetting?.value) {\n      links.custom.push({\n        label: t ? t('customLinks.defaults.issues') : 'Issues',\n        value: uiIssuesSetting.value\n      });\n\n      // Hide the default 'File an issue' link\n      const issueLink = links.defaults?.find((link) => link.key === 'issues');\n\n      if (issueLink) {\n        issueLink.enabled = false;\n        issueLink.readOnly = true;\n      }\n    }\n  } catch (e) {\n    console.warn('Could not parse legacy link settings', e); // eslint-disable-line no-console\n  }\n\n  return ensureSupportLink(links, hasSupport, isSupportPage, t, store);\n}\n\n// Ensure the support link is added if needed\nexport function ensureSupportLink(links, hasSupport, isSupportPage, t, store) {\n  if (!hasSupport && !isSupportPage) {\n    const supportLink = links.defaults?.find((link) => link.key === 'commercialSupport');\n\n    if (!supportLink) {\n      links.defaults.push(SUPPORT_LINK);\n    }\n  }\n\n  const selectedLocaleLabel = store.getters['i18n/selectedLocaleLabel'];\n\n  if (selectedLocaleLabel === t('locale.zh-hans')) {\n    links.defaults.push(CN_FORUMS_LINK);\n  }\n\n  // Localise the default links\n  links.defaults = links.defaults.map((link) => {\n    return {\n      ...link,\n      label: t(`'customLinks.defaults.${ link.key }`)\n    };\n  });\n\n  // Ensure that if any custom links have the same name as a default link, we use the custom link\n  const customNamesMap = links.custom.reduce((linkMap, link) => {\n    linkMap[link.label] = link;\n\n    return linkMap;\n  }, {});\n\n  // If any custom links have the same name as a default link, then hide and mark readonly the default link\n  // Main use case if the 'File an Issue' link when migrating the old settings\n  links.defaults.forEach((link) => {\n    if (customNamesMap[link.label]) {\n      link.enabled = false;\n      link.readonly = true;\n    }\n  });\n\n  return links;\n}\n","<script>\nimport Closeable from '@shell/mixins/closeable';\nimport BrandImage from '@shell/components/BrandImage';\n\nexport default {\n  components: { BrandImage },\n  mixins:     [Closeable],\n\n  props: {\n    title: {\n      type:    String,\n      default: null,\n    },\n    titleKey: {\n      type:    String,\n      default: null,\n    },\n\n    small: {\n      type:    Boolean,\n      default: false\n    }\n  },\n};\n</script>\n\n<template>\n  <div\n    v-if=\"shown\"\n    class=\"banner-graphic\"\n    :class=\"{'small': small}\"\n  >\n    <div class=\"graphic\">\n      <BrandImage\n        class=\"banner\"\n        data-testid=\"banner-brand__img\"\n        file-name=\"banner.svg\"\n        :draggable=\"false\"\n      />\n    </div>\n    <div\n      v-if=\"titleKey\"\n      data-testid=\"banner-title-key\"\n      class=\"title\"\n    >\n      <t :k=\"titleKey\" />\n    </div>\n    <h1\n      v-else-if=\"title\"\n      v-clean-html=\"title\"\n      data-testid=\"banner-title\"\n      class=\"title\"\n    />\n    <div\n      v-if=\"pref\"\n      class=\"close-button\"\n      data-testid=\"graphic-banner-close\"\n      @click=\"hide()\"\n    >\n      <i class=\"icon icon-close\" />\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\">\n  $banner-height: 240px;\n  $banner-height-small: 200px;\n\n  .banner-graphic {\n    position: relative;\n\n    .close-button {\n      position: absolute;\n      visibility: hidden;\n    }\n\n    &:hover .close-button {\n      visibility: visible;\n      position: absolute;\n      right: 4px;\n      top: 4px;\n      font-size: 16px;\n      padding: 4px;\n      display: flex;\n      align-items: center;\n      cursor: pointer;\n      opacity: 0.4;\n\n      &:hover {\n        background-color: var(--accent-btn-hover);\n        color: var(--accent-btn-hover-text);\n        opacity: 1;\n      }\n    }\n\n    .graphic {\n      display: flex;\n      flex-direction: column;\n      height: $banner-height;\n      overflow: hidden;\n      > img.banner {\n        flex: 1;\n        object-fit: cover;\n      }\n    }\n    .title {\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      position: absolute;\n      text-align: center;\n      top: 0;\n      height: 100%;\n      width: 100%;\n      margin-top: -20px;\n    }\n    &.small {\n      .graphic {\n        height: $banner-height-small;\n        img.banner {\n          margin-top: math.div(($banner-height-small - $banner-height), 2);\n        }\n      }\n    }\n  }\n</style>\n","import { render } from \"./BannerGraphic.vue?vue&type=template&id=8d9afd5c\"\nimport script from \"./BannerGraphic.vue?vue&type=script&lang=js\"\nexport * from \"./BannerGraphic.vue?vue&type=script&lang=js\"\n\nimport \"./BannerGraphic.vue?vue&type=style&index=0&id=8d9afd5c&lang=scss\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<script>\nimport SimpleBox from '@shell/components/SimpleBox';\nimport AppModal from '@shell/components/AppModal.vue';\nimport Closeable from '@shell/mixins/closeable';\nimport { MANAGEMENT } from '@shell/config/types';\nimport { SETTING } from '@shell/config/settings';\nimport { mapGetters } from 'vuex';\nimport { isRancherPrime } from '@shell/config/version';\nimport { fetchLinks } from '@shell/config/home-links';\n\n// i18n-ignore footer.wechat.title, footer.wechat.modalText, footer.wechat.modalText2\nexport default {\n  name: 'CommunityLinks',\n\n  components: { SimpleBox, AppModal },\n\n  props: {\n    linkOptions: {\n      type:    Object,\n      default: () => {\n        return {};\n      },\n    },\n    isSupportPage: {\n      type:    Boolean,\n      default: false,\n    },\n  },\n\n  mixins: [Closeable],\n\n  async fetch() {\n    this.links = await fetchLinks(this.$store, this.hasSupport, this.isSupportPage, (str) => this.t(str));\n  },\n\n  data() {\n    return { links: {}, showWeChatModal: false };\n  },\n\n  computed: {\n    ...mapGetters('i18n', [\n      'selectedLocaleLabel'\n    ]),\n\n    hasOptions() {\n      return !!Object.keys(this.options).length || !!Object.keys(this.$slots).length;\n    },\n\n    hasSupport() {\n      return isRancherPrime() || this.$store.getters['management/byId'](MANAGEMENT.SETTING, SETTING.SUPPORTED )?.value === 'true';\n    },\n\n    options() {\n      // Use linkOptions if provided - used by Harvester\n      if (this.linkOptions && Object.keys(this.linkOptions).length) {\n        const options = [];\n\n        Object.keys(this.linkOptions).forEach((key) => {\n          options.push({\n            key,\n            label: this.t(key),\n            value: this.linkOptions[key]\n          });\n        });\n\n        return options;\n      }\n\n      // Combine the links\n      const all = [];\n\n      if (this.links.custom) {\n        all.push(...this.links.custom);\n      }\n\n      if (this.links.defaults) {\n        all.push(...this.links.defaults.filter((link) => link.enabled));\n      }\n\n      return all;\n    }\n  },\n  methods: {\n    show() {\n      this.showWeChatModal = true;\n    },\n    close() {\n      this.showWeChatModal = false;\n    }\n  },\n};\n</script>\n\n<template>\n  <div v-if=\"hasOptions\">\n    <SimpleBox\n      :pref=\"pref\"\n      :pref-key=\"prefKey\"\n    >\n      <template #title>\n        <h2>\n          {{ t('customLinks.displayTitle') }}\n        </h2>\n      </template>\n      <div\n        v-for=\"(link, i) in options\"\n        :key=\"i\"\n        class=\"support-link\"\n      >\n        <router-link\n          v-if=\"link.value.startsWith('/') \"\n          :to=\"link.value\"\n        >\n          {{ link.label }}\n        </router-link>\n        <a\n          v-else\n          :href=\"link.value\"\n          rel=\"noopener noreferrer nofollow\"\n          target=\"_blank\"\n        > {{ link.label }} </a>\n      </div>\n      <slot />\n      <div\n        v-if=\"selectedLocaleLabel === t('locale.zh-hans')\"\n        class=\"support-link\"\n      >\n        <a\n          class=\"link\"\n          @click=\"show\"\n        >\n          {{ t('footer.wechat.title') }}\n        </a>\n      </div>\n    </SimpleBox>\n    <app-modal\n      v-if=\"showWeChatModal\"\n      name=\"wechat-modal\"\n      height=\"auto\"\n      :width=\"640\"\n      @close=\"close\"\n    >\n      <div class=\"wechat-modal\">\n        <h1>{{ t('footer.wechat.modalText') }}</h1>\n        <h1>{{ t('footer.wechat.modalText2') }}</h1>\n        <div class=\"qr-img\" />\n        <div>\n          <button\n            class=\"btn role-primary\"\n            @click=\"close\"\n          >\n            {{ t('generic.close') }}\n          </button>\n        </div>\n      </div>\n    </app-modal>\n  </div>\n</template>\n\n<style lang='scss' scoped>\n  h2 {\n    display: flex;\n    align-items: center;\n\n    i {\n      font-size: 12px;\n      margin-left: 5px;\n    }\n  }\n  .support-link:not(:last-child) {\n    margin-bottom: 15px;\n  }\n\n  .wechat-modal {\n    margin: 60px;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n  }\n\n  .link {\n    cursor: pointer;\n  }\n\n  .btn {\n    margin: 20px auto 0;\n  }\n\n  .qr-img {\n    background-image: url('../assets/images/wechat-qr-code.jpg');\n    background-repeat: no-repeat;\n    background-size: cover;\n    background-position: center center;\n    height: 128px;\n    width: 128px;\n    margin: 15px auto 10px;\n  }\n</style>\n","import { render } from \"./CommunityLinks.vue?vue&type=template&id=5eb9ba53&scoped=true\"\nimport script from \"./CommunityLinks.vue?vue&type=script&lang=js\"\nexport * from \"./CommunityLinks.vue?vue&type=script&lang=js\"\n\nimport \"./CommunityLinks.vue?vue&type=style&index=0&id=5eb9ba53&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-5eb9ba53\"]])\n\nexport default __exports__","<script>\nexport default {};\n</script>\n\n<template>\n  <div\n    class=\"indented-panel\"\n  >\n    <slot />\n  </div>\n</template>\n\n<style lang=\"scss\">\n  .indented-panel {\n    height: 100%;\n    width: 90%;\n    margin-left: 5%;\n  }\n\n  @media only screen and (max-width: map-get($breakpoints, '--viewport-9')) {\n    .indented-panel {\n      margin: 0 20px;\n      width: initial;\n    }\n  }\n</style>\n","import { render } from \"./IndentedPanel.vue?vue&type=template&id=95c46f86\"\nimport script from \"./IndentedPanel.vue?vue&type=script&lang=js\"\nexport * from \"./IndentedPanel.vue?vue&type=script&lang=js\"\n\nimport \"./IndentedPanel.vue?vue&type=style&index=0&id=95c46f86&lang=scss\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??clonedRuleSet-22.use[1]!../../node_modules/vue-loader/dist/stylePostLoader.js!../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-22.use[2]!../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-22.use[3]!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-22.use[4]!../../node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[1]!./BannerGraphic.vue?vue&type=style&index=0&id=8d9afd5c&lang=scss\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"36d4209a\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??clonedRuleSet-22.use[1]!../../node_modules/vue-loader/dist/stylePostLoader.js!../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-22.use[2]!../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-22.use[3]!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-22.use[4]!../../node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[1]!./CommunityLinks.vue?vue&type=style&index=0&id=5eb9ba53&lang=scss&scoped=true\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"7312c9c6\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??clonedRuleSet-22.use[1]!../../node_modules/vue-loader/dist/stylePostLoader.js!../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-22.use[2]!../../node_modules/postcss-loader/dist/cjs.js??clonedRuleSet-22.use[3]!../../node_modules/sass-loader/dist/cjs.js??clonedRuleSet-22.use[4]!../../node_modules/cache-loader/dist/cjs.js??ruleSet[0].use[0]!../../node_modules/vue-loader/dist/index.js??ruleSet[0].use[1]!./IndentedPanel.vue?vue&type=style&index=0&id=95c46f86&lang=scss\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"17f7cb0e\", content, true, {\"sourceMap\":false,\"shadowMode\":false});"],"names":["___CSS_LOADER_EXPORT___","push","module","id","___CSS_LOADER_URL_IMPORT_0___","URL","___CSS_LOADER_URL_REPLACEMENT_0___","DEFAULT_LINKS","key","value","enabled","COLLECTIVE_LINK","SUPPORT_LINK","readonly","CN_FORUMS_LINK","CUSTOM_LINKS_VERSION","CUSTOM_LINKS_COLLECTIVE_VERSION","async","fetchLinks","store","hasSupport","isSupportPage","t","uiLinks","uiLinksSetting","dispatch","type","SETTING","UI_CUSTOM_LINKS","JSON","parse","e","console","warn","version","startsWith","defaults","includes","forEach","link","find","linkName","ensureSupportLink","links","custom","uiIssuesSetting","uiCommunitySetting","ISSUES","COMMUNITY_LINKS","label","issueLink","readOnly","supportLink","selectedLocaleLabel","getters","map","customNamesMap","reduce","linkMap","class","small","draggable","k","titleKey","title","hide","components","BrandImage","mixins","props","String","default","Boolean","__exports__","render","pref","prefKey","options","i","to","href","rel","target","show","name","height","width","close","SimpleBox","AppModal","linkOptions","Object","fetch","this","$store","str","data","showWeChatModal","computed","hasOptions","keys","length","$slots","SUPPORTED","all","filter","methods","content","__esModule","locals","exports","add"],"sourceRoot":""}