(self["webpackChunkdashboard"]=self["webpackChunkdashboard"]||[]).push([[423],{37915:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});var s=a(45522),i=a.n(s),l=a(67643),o=a.n(l),n=o()(i());n.push([e.id,".install-steps[data-v-15bb22d2]{padding-top:0;height:0;position:relative;overflow:hidden}.install-steps.isPlainLayout[data-v-15bb22d2]{padding:20px}.install-steps .description[data-v-15bb22d2]{display:flex;flex-direction:column;margin-top:0}.wizard .logo-bg[data-v-15bb22d2]{margin-right:10px;height:50px;width:50px;background-color:#fff;border:5px solid #fff;border-radius:calc(var(--border-radius)*3);position:relative}.wizard .logo[data-v-15bb22d2]{max-height:40px;max-width:40px;position:absolute;width:auto;height:auto;top:0;right:0;bottom:0;left:0;margin:auto}.wizard.windowsIncompatible[data-v-15bb22d2]  .header{padding-bottom:15px}.wizard .os-label[data-v-15bb22d2]{position:absolute;background-color:var(--warning-banner-bg);color:var(--warning);margin-top:5px}.step__basic[data-v-15bb22d2]{display:flex;flex-direction:column;flex:1}.step__basic .spacer[data-v-15bb22d2]{line-height:2}.step__basic .namespace-create-banner[data-v-15bb22d2]{margin-bottom:70px}.step__values__controls[data-v-15bb22d2]{display:flex;margin-bottom:15px}.step__values__controls[data-v-15bb22d2]>:not(:last-of-type){margin-right:10px}.step__values__content[data-v-15bb22d2],.step__values__controls--spacer[data-v-15bb22d2]{flex:1}.step__values__content[data-v-15bb22d2]  .tab-container{overflow:auto}.slideIn[data-v-15bb22d2]{border-left:var(--header-border-size) solid var(--header-border);position:absolute;top:0;right:-35%;height:100%;background-color:var(--topmenu-bg);width:35%;z-index:10;display:flex;flex-direction:column;padding:10px;transition:right .5s ease}.slideIn__header[data-v-15bb22d2]{display:flex;align-items:center;justify-content:space-between}.slideIn__header__buttons[data-v-15bb22d2]{display:flex}.slideIn__header__button[data-v-15bb22d2]{cursor:pointer;display:flex;align-items:center;justify-content:center;padding:2px}.slideIn__header__button>i[data-v-15bb22d2]{font-size:20px;opacity:.5}.slideIn__header__button[data-v-15bb22d2]:hover{background-color:var(--wm-closer-hover-bg)}.slideIn .chart-content__tabs[data-v-15bb22d2]{display:flex;flex-direction:column;flex:1;height:0;padding-bottom:10px}.slideIn .chart-content__tabs[data-v-15bb22d2]  .chart-readmes{flex:1;overflow:auto}.slideIn__show[data-v-15bb22d2]{right:0}.scroll__container[data-v-15bb22d2]{min-height:200px;margin-bottom:60px}.scroll__container[data-v-15bb22d2],.scroll__content[data-v-15bb22d2]{overflow:auto;display:flex;flex:1}[data-v-15bb22d2]  .yaml-editor{flex:1}.outer-container[data-v-15bb22d2]{display:flex;flex-direction:column;padding:0;overflow:auto}.header[data-v-15bb22d2]{display:flex;align-content:space-between;align-items:center;border-bottom:var(--header-border-size) solid var(--header-border)}.header>.title[data-v-15bb22d2]{flex:1;min-height:75px}.header .choice-banner[data-v-15bb22d2]{flex-basis:40%;display:flex;align-items:center}.header .choice-banner.top H2[data-v-15bb22d2]{margin:0}.header .choice-banner.top .title[data-v-15bb22d2]{display:flex;align-items:center;justify-content:space-evenly}.header .choice-banner.top .title>.subtitle[data-v-15bb22d2]{margin:0 20px}.header .choice-banner.top .subtitle[data-v-15bb22d2]{display:flex;flex-direction:column}.header .choice-banner.top .subtitle .subtext[data-v-15bb22d2]{color:var(--input-label)}.header .choice-banner[data-v-15bb22d2]:not(.top){box-shadow:0 0 12px 3px var(--box-bg);flex-direction:row;align-items:center;justify-content:start}.header .choice-banner[data-v-15bb22d2]:not(.top):hover{outline:var(--outline-width) solid var(--outline);cursor:pointer}.header .choice-banner .round-image[data-v-15bb22d2]{min-width:50px;height:50px;margin:10px 10px 10px 0;border-radius:50%;overflow:hidden}.header .choice-banner .round-image .logo[data-v-15bb22d2]{min-width:50px;height:50px}",""]);const r=n},423:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>Me});var s=a(20641),i=a(90033);const l=e=>((0,s.Qi)("data-v-15bb22d2"),e=e(),(0,s.jt)(),e),o={class:"logo-bg"},n={key:0,class:"os-label"},r={class:"step__basic"},c={key:0,class:"mt-10"},u={key:1,class:"mb-15"},p={key:2,class:"row mb-20"},h={class:"col span-4"},d={key:0},m={key:1,style:{position:"relative",left:"-2.5px"}},g={class:"row"},b={class:"col span-6"},v=l((()=>(0,s.Lk)("div",{class:"step__values__controls--spacer",style:{flex:"1"}},"\n \n          ",-1))),y={class:"row mb-20"},f={class:"col span-4"},w=l((()=>(0,s.Lk)("div",{class:"step__values__controls--spacer"},"\n \n          ",-1))),k={class:"btn-group"},C=["disabled"],x={class:"step__values__controls"},_=l((()=>(0,s.Lk)("div",{class:"step__values__controls--spacer"},"\n \n          ",-1))),O={key:1,class:"btn-group"},I={class:"scroll__container"},R={class:"scroll__content"},V={style:{display:"block","max-width":"400px"},class:"mt-10"},N={style:{display:"block","max-width":"400px"},class:"mt-10"},W={style:{display:"block","max-width":"400px"},class:"mt-10"},L={class:"slideIn__header"},S={class:"slideIn__header__buttons"},D=l((()=>(0,s.Lk)("i",{class:"icon icon-dock"},null,-1))),E=[D],F=l((()=>(0,s.Lk)("i",{class:"icon icon-close"},null,-1))),Y=[F],A={class:"outer-container"},T={class:"header mb-20"},M={class:"title"},$={class:"top choice-banner"},U={class:"title"},X={class:"round-image"},Q={class:"subtitle"},P={key:0},j={key:1,class:"subtext"},q={key:0},K={key:2};function G(e,t,a,l,D,F){const G=(0,s.g2)("Loading"),z=(0,s.g2)("TypeDescription"),H=(0,s.g2)("LazyImage"),B=(0,s.g2)("Banner"),J=(0,s.g2)("LabeledSelect"),Z=(0,s.g2)("NameNsDescription"),ee=(0,s.g2)("Checkbox"),te=(0,s.g2)("LabeledInput"),ae=(0,s.g2)("ButtonGroup"),se=(0,s.g2)("Questions"),ie=(0,s.g2)("Tabbed"),le=(0,s.g2)("YamlEditor"),oe=(0,s.g2)("ResourceCancelModal"),ne=(0,s.g2)("UnitInput"),re=(0,s.g2)("Wizard"),ce=(0,s.g2)("ChartReadme"),ue=(0,s.g2)("router-link"),pe=(0,s.gN)("clean-html"),he=(0,s.gN)("clean-tooltip");return e.$fetchState.pending?((0,s.uX)(),(0,s.Wv)(G,{key:0})):D.legacyApp||D.mcapp?((0,s.uX)(),(0,s.CE)("div",{key:2,class:(0,i.normalizeClass)(["install-steps",{isPlainLayout:D.isPlainLayout}])},[(0,s.Lk)("div",A,[(0,s.Lk)("div",T,[(0,s.Lk)("div",M,[(0,s.Lk)("div",$,[(0,s.Lk)("div",U,[(0,s.RG)(e.$slots,"bannerTitleImage",{},(()=>[(0,s.Lk)("div",X,[(0,s.bF)(H,{src:e.chart?e.chart.icon:"",class:"logo"},null,8,["src"])])]),!0),(0,s.eW)(),(0,s.Lk)("div",Q,[F.stepperName?((0,s.uX)(),(0,s.CE)("h2",P,(0,i.toDisplayString)(F.stepperName),1)):(0,s.Q3)("",!0),(0,s.eW)(),F.stepperSubtext?((0,s.uX)(),(0,s.CE)("span",j,(0,i.toDisplayString)(F.stepperSubtext),1)):(0,s.Q3)("",!0)])])])])]),(0,s.eW)(),(0,s.bF)(B,{color:"warning",class:"description"},{default:(0,s.k6)((()=>[D.mcapp?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("span",q,(0,i.toDisplayString)(e.t("catalog.install.error.legacy.label",{legacyType:D.mcapp?D.legacyDefs.mcm:D.legacyDefs.legacy},!0)),1)),(0,s.eW)(),F.legacyEnabled?D.mcapp?(0,s.bo)(((0,s.uX)(),(0,s.CE)("span",K,null,512)),[[pe,e.t("catalog.install.error.legacy.mcmNotSupported")]]):((0,s.uX)(),(0,s.Wv)(ue,{key:3,to:F.legacyAppRoute},{default:(0,s.k6)((()=>[(0,s.bo)((0,s.Lk)("span",null,null,512),[[pe,e.t("catalog.install.error.legacy.navigate")]])])),_:1},8,["to"])):((0,s.uX)(),(0,s.CE)(s.FK,{key:1},[(0,s.bo)((0,s.Lk)("span",null,null,512),[[pe,e.t("catalog.install.error.legacy.enableLegacy.prompt",!0)]]),(0,s.eW)(),(0,s.bF)(ue,{to:F.legacyFeatureRoute},{default:(0,s.k6)((()=>[(0,s.eW)((0,i.toDisplayString)(e.t("catalog.install.error.legacy.enableLegacy.goto")),1)])),_:1},8,["to"])],64))])),_:1})])],2)):((0,s.uX)(),(0,s.CE)("div",{key:1,class:(0,i.normalizeClass)(["install-steps pt-20",{isPlainLayout:D.isPlainLayout}])},[(0,s.bF)(z,{resource:"chart"}),(0,s.eW)(),D.value?((0,s.uX)(),(0,s.Wv)(re,{key:0,steps:F.steps,errors:D.errors,"edit-first-step":!0,"banner-title":F.stepperName,"banner-title-subtext":F.stepperSubtext,"finish-mode":e.action,class:(0,i.normalizeClass)(["wizard",{windowsIncompatible:F.windowsIncompatible}]),onCancel:F.cancel,onFinish:F.finish},{bannerTitleImage:(0,s.k6)((()=>[(0,s.Lk)("div",null,[(0,s.Lk)("div",o,[(0,s.bF)(H,{src:e.chart?e.chart.icon:"",class:"logo"},null,8,["src"])]),(0,s.eW)(),F.windowsIncompatible?((0,s.uX)(),(0,s.CE)("label",n,(0,i.toDisplayString)(F.windowsIncompatible),1)):(0,s.Q3)("",!0)])])),basics:(0,s.k6)((()=>[(0,s.Lk)("div",r,[F.step1Description?((0,s.uX)(),(0,s.Wv)(B,{key:0,color:"info",class:"description"},{default:(0,s.k6)((()=>[(0,s.Lk)("div",null,[(0,s.Lk)("span",null,(0,i.toDisplayString)(F.step1Description),1),(0,s.eW)(),F.namespaceNewAllowed?((0,s.uX)(),(0,s.CE)("span",c,(0,i.toDisplayString)(e.t("catalog.install.steps.basics.nsCreationDescription",{},!0)),1)):(0,s.Q3)("",!0)])])),_:1})):(0,s.Q3)("",!0),(0,s.eW)(),e.requires.length||e.warnings.length?((0,s.uX)(),(0,s.CE)("div",u,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e.requires,((e,t)=>((0,s.uX)(),(0,s.Wv)(B,{key:t,color:"error"},{default:(0,s.k6)((()=>[(0,s.bo)((0,s.Lk)("span",null,null,512),[[pe,e]])])),_:2},1024)))),128)),(0,s.eW)(),((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(e.warnings,((e,t)=>((0,s.uX)(),(0,s.Wv)(B,{key:t,color:"warning"},{default:(0,s.k6)((()=>[(0,s.bo)((0,s.Lk)("span",null,null,512),[[pe,e]])])),_:2},1024)))),128))])):(0,s.Q3)("",!0),(0,s.eW)(),F.showSelectVersionOrChart?((0,s.uX)(),(0,s.CE)("div",p,[(0,s.Lk)("div",h,[e.chart?((0,s.uX)(),(0,s.Wv)(J,{key:0,label:e.t("catalog.install.version"),value:e.query.versionName,options:e.filteredVersions,selectable:e=>!e.disabled,"onUpdate:value":e.selectVersion},null,8,["label","value","options","selectable","onUpdate:value"])):((0,s.uX)(),(0,s.Wv)(J,{key:1,label:e.t("catalog.install.chart"),value:e.chart,options:F.charts,selectable:e=>!e.disabled,"get-option-label":e=>F.getOptionLabel(e),"option-key":"key","onUpdate:value":t[0]||(t[0]=e=>F.selectChart(e))},{option:(0,s.k6)((e=>["divider"===e.kind?((0,s.uX)(),(0,s.CE)("hr",d)):"label"===e.kind?((0,s.uX)(),(0,s.CE)("b",m,(0,i.toDisplayString)(e.label),1)):(0,s.Q3)("",!0)])),_:1},8,["label","value","options","selectable","get-option-label"]))])])):(0,s.Q3)("",!0),(0,s.eW)(),(0,s.bF)(Z,{value:D.value,"onUpdate:value":t[2]||(t[2]=e=>D.value=e),"description-hidden":!0,mode:D.mode,"name-disabled":D.nameDisabled,"name-required":!1,"name-ns-hidden":!F.showNameEditor,"force-namespace":D.forceNamespace,"namespace-new-allowed":F.namespaceNewAllowed,"extra-columns":F.showProject?["project"]:[],"show-spacer":!1,horizontal:!1,onIsNamespaceNew:t[3]||(t[3]=e=>D.isNamespaceNew=e)},(0,s.eX)({_:2},[F.showProject?{name:"project",fn:(0,s.k6)((()=>[(0,s.bF)(J,{value:D.project,"onUpdate:value":t[1]||(t[1]=e=>D.project=e),disabled:!F.namespaceIsNew,label:e.t("catalog.install.project"),"option-key":"id",options:F.projectOpts,tooltip:F.namespaceIsNew?"":e.t("catalog.install.namespaceIsInProject",{namespace:D.value.metadata.namespace},!0),"hover-tooltip":!F.namespaceIsNew,status:"info"},null,8,["value","disabled","label","options","tooltip","hover-tooltip"])])),key:"0"}:void 0]),1032,["value","mode","name-disabled","name-ns-hidden","force-namespace","namespace-new-allowed","extra-columns"]),(0,s.eW)(),(0,s.bF)(ee,{value:D.showCommandStep,"onUpdate:value":t[4]||(t[4]=e=>D.showCommandStep=e),class:"mb-20",label:e.t("catalog.install.steps.helmCli.checkbox",{action:e.action,existing:!!D.existing})},null,8,["value","label"]),(0,s.eW)(),F.showCustomRegistry?((0,s.uX)(),(0,s.Wv)(ee,{key:3,value:D.showCustomRegistryInput,"onUpdate:value":t[5]||(t[5]=e=>D.showCustomRegistryInput=e),class:"mb-20",label:e.t("catalog.chart.registry.custom.checkBoxLabel"),tooltip:e.t("catalog.chart.registry.tooltip")},null,8,["value","label","tooltip"])):(0,s.Q3)("",!0),(0,s.eW)(),(0,s.Lk)("div",g,[(0,s.Lk)("div",b,[D.showCustomRegistryInput?((0,s.uX)(),(0,s.Wv)(te,{key:0,value:D.customRegistrySetting,"onUpdate:value":t[6]||(t[6]=e=>D.customRegistrySetting=e),"label-key":"catalog.chart.registry.custom.inputLabel","placeholder-key":"catalog.chart.registry.custom.placeholder","min-height":30},null,8,["value"])):(0,s.Q3)("",!0)])]),(0,s.eW)(),v,(0,s.eW)(),D.isNamespaceNew&&D.value.metadata.namespace.length?((0,s.uX)(),(0,s.Wv)(B,{key:4,color:"info",class:"namespace-create-banner"},{default:(0,s.k6)((()=>[(0,s.bo)((0,s.Lk)("div",null,null,512),[[pe,e.t("catalog.install.steps.basics.createNamespace",{namespace:D.value.metadata.namespace},!0)]])])),_:1})):(0,s.Q3)("",!0)])])),clusterTplVersion:(0,s.k6)((()=>[(0,s.bF)(B,{color:"info",class:"description"},{default:(0,s.k6)((()=>[(0,s.eW)((0,i.toDisplayString)(e.t("catalog.install.steps.clusterTplVersion.description")),1)])),_:1}),(0,s.eW)(),(0,s.Lk)("div",y,[(0,s.Lk)("div",f,[e.chart?((0,s.uX)(),(0,s.Wv)(J,{key:0,label:e.t("catalog.install.version"),value:e.query.versionName,options:e.filteredVersions,selectable:e=>!e.disabled,"onUpdate:value":e.selectVersion},null,8,["label","value","options","selectable","onUpdate:value"])):(0,s.Q3)("",!0)]),(0,s.eW)(),w,(0,s.eW)(),(0,s.Lk)("div",k,[(0,s.Lk)("button",{type:"button",class:"btn bg-primary btn-sm",disabled:!e.hasReadme||F.showingReadmeWindow,onClick:t[7]||(t[7]=e=>D.showSlideIn=!D.showSlideIn)},(0,i.toDisplayString)(e.t("catalog.install.steps.helmValues.chartInfo.button")),9,C)])])])),helmValues:(0,s.k6)((()=>[F.step2Description?((0,s.uX)(),(0,s.Wv)(B,{key:0,color:"info",class:"description"},{default:(0,s.k6)((()=>[(0,s.eW)((0,i.toDisplayString)(F.step2Description),1)])),_:1})):(0,s.Q3)("",!0),(0,s.eW)(),(0,s.Lk)("div",x,[(0,s.bF)(ae,{value:D.preFormYamlOption,"onUpdate:value":t[8]||(t[8]=e=>D.preFormYamlOption=e),"data-testid":"btn-group-options-view",options:F.formYamlOptions,"inactive-class":"bg-disabled btn-sm","active-class":"bg-primary btn-sm",disabled:D.preFormYamlOption!=D.formYamlOption},null,8,["value","options","disabled"]),(0,s.eW)(),_,(0,s.eW)(),D.showDiff?((0,s.uX)(),(0,s.Wv)(ae,{key:0,value:F.diffMode,"onUpdate:value":t[9]||(t[9]=e=>F.diffMode=e),options:F.yamlDiffModeOptions,"inactive-class":"bg-disabled btn-sm","active-class":"bg-primary btn-sm"},null,8,["value","options"])):(0,s.Q3)("",!0),(0,s.eW)(),e.hasReadme&&!F.showingReadmeWindow?((0,s.uX)(),(0,s.CE)("div",O,[(0,s.Lk)("button",{type:"button",class:"btn bg-primary btn-sm",onClick:t[10]||(t[10]=e=>D.showSlideIn=!D.showSlideIn)},(0,i.toDisplayString)(e.t("catalog.install.steps.helmValues.chartInfo.button")),1)])):(0,s.Q3)("",!0)]),(0,s.eW)(),(0,s.Lk)("div",I,[(0,s.Lk)("div",R,[D.valuesComponent&&D.showValuesComponent?((0,s.uX)(),(0,s.CE)(s.FK,{key:0},[D.valuesComponent?((0,s.uX)(),(0,s.Wv)((0,s.$y)(D.valuesComponent),{key:0,value:D.chartValues,"onUpdate:value":t[11]||(t[11]=e=>D.chartValues=e),mode:D.mode,chart:e.chart,class:"step__values__content",existing:D.existing,version:e.version,"version-info":e.versionInfo,"auto-install-info":D.autoInstallInfo,onWarn:t[12]||(t[12]=e=>D.errors.push(e)),onRegisterBeforeHook:e.registerBeforeHook,onRegisterAfterHook:e.registerAfterHook},null,40,["value","mode","chart","existing","version","version-info","auto-install-info","onRegisterBeforeHook","onRegisterAfterHook"])):(0,s.Q3)("",!0)],64)):e.hasQuestions&&D.showQuestions?((0,s.uX)(),(0,s.Wv)(ie,{key:1,ref:"tabs","side-tabs":!0,"hide-single-tab":!0,class:(0,i.normalizeClass)([{"with-name":F.showNameEditor},"step__values__content"]),onChanged:t[14]||(t[14]=e=>F.tabChanged(e))},{default:(0,s.k6)((()=>[(0,s.bF)(se,{value:D.chartValues,"onUpdate:value":t[13]||(t[13]=e=>D.chartValues=e),"in-store":e.inStore,mode:D.mode,source:e.versionInfo,"ignore-variables":F.ignoreVariables,tabbed:"multiple","target-namespace":F.targetNamespace},null,8,["value","in-store","mode","source","ignore-variables","target-namespace"])])),_:1},8,["class"])):((0,s.uX)(),(0,s.Wv)(le,{key:2,ref:"yaml",value:D.valuesYaml,"onUpdate:value":t[15]||(t[15]=e=>D.valuesYaml=e),class:"step__values__content",scrolling:!0,"initial-yaml-values":D.originalYamlValues,"editor-mode":F.editorMode,"hide-preview-buttons":!0},null,8,["value","initial-yaml-values","editor-mode"]))])]),(0,s.eW)(),(0,s.bF)(oe,{ref:"cancelModal","is-cancel-modal":!1,"is-form":!0,onCancelCancel:t[16]||(t[16]=e=>D.preFormYamlOption=D.formYamlOption),onConfirmCancel:t[17]||(t[17]=e=>{D.formYamlOption=D.preFormYamlOption})},null,512)])),helmCli:(0,s.k6)((()=>[F.step3Description?((0,s.uX)(),(0,s.Wv)(B,{key:0,color:"info",class:"description"},{default:(0,s.k6)((()=>[(0,s.eW)((0,i.toDisplayString)(F.step3Description),1)])),_:1})):(0,s.Q3)("",!0),(0,s.eW)(),(0,s.Lk)("div",null,[D.existing?((0,s.uX)(),(0,s.Wv)(ee,{key:0,value:D.customCmdOpts.cleanupOnFail,"onUpdate:value":t[18]||(t[18]=e=>D.customCmdOpts.cleanupOnFail=e),label:e.t("catalog.install.helm.cleanupOnFail")},null,8,["value","label"])):(0,s.Q3)("",!0)]),(0,s.eW)(),(0,s.Lk)("div",null,[D.existing?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.Wv)(ee,{key:0,value:D.customCmdOpts.crds,"onUpdate:value":t[19]||(t[19]=e=>D.customCmdOpts.crds=e),label:e.t("catalog.install.helm.crds")},null,8,["value","label"]))]),(0,s.eW)(),(0,s.Lk)("div",null,[(0,s.bF)(ee,{value:D.customCmdOpts.hooks,"onUpdate:value":t[20]||(t[20]=e=>D.customCmdOpts.hooks=e),label:e.t("catalog.install.helm.hooks")},null,8,["value","label"])]),(0,s.eW)(),(0,s.Lk)("div",null,[D.existing?((0,s.uX)(),(0,s.Wv)(ee,{key:0,value:D.customCmdOpts.force,"onUpdate:value":t[21]||(t[21]=e=>D.customCmdOpts.force=e),label:e.t("catalog.install.helm.force")},null,8,["value","label"])):(0,s.Q3)("",!0)]),(0,s.eW)(),(0,s.Lk)("div",null,[D.existing?((0,s.uX)(),(0,s.Wv)(ee,{key:0,value:D.customCmdOpts.resetValues,"onUpdate:value":t[22]||(t[22]=e=>D.customCmdOpts.resetValues=e),label:e.t("catalog.install.helm.resetValues")},null,8,["value","label"])):(0,s.Q3)("",!0)]),(0,s.eW)(),(0,s.Lk)("div",null,[D.existing?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.Wv)(ee,{key:0,value:D.customCmdOpts.openApi,"onUpdate:value":t[23]||(t[23]=e=>D.customCmdOpts.openApi=e),label:e.t("catalog.install.helm.openapi")},null,8,["value","label"]))]),(0,s.eW)(),(0,s.Lk)("div",null,[(0,s.bF)(ee,{value:D.customCmdOpts.wait,"onUpdate:value":t[24]||(t[24]=e=>D.customCmdOpts.wait=e),label:e.t("catalog.install.helm.wait")},null,8,["value","label"])]),(0,s.eW)(),(0,s.Lk)("div",V,[(0,s.bF)(ne,{value:D.customCmdOpts.timeout,"onUpdate:value":t[25]||(t[25]=e=>D.customCmdOpts.timeout=e),label:e.t("catalog.install.helm.timeout.label"),suffix:e.t("catalog.install.helm.timeout.unit",{value:D.customCmdOpts.timeout}),type:"number"},null,8,["value","label","suffix"])]),(0,s.eW)(),(0,s.Lk)("div",N,[D.existing?((0,s.uX)(),(0,s.Wv)(ne,{key:0,value:D.customCmdOpts.historyMax,"onUpdate:value":t[26]||(t[26]=e=>D.customCmdOpts.historyMax=e),label:e.t("catalog.install.helm.historyMax.label"),suffix:e.t("catalog.install.helm.historyMax.unit",{value:D.customCmdOpts.historyMax}),type:"number"},null,8,["value","label","suffix"])):(0,s.Q3)("",!0)]),(0,s.eW)(),(0,s.Lk)("div",W,[(0,s.bF)(te,{value:D.customCmdOpts.description,"onUpdate:value":t[27]||(t[27]=e=>D.customCmdOpts.description=e),"label-key":"catalog.install.helm.description.label","placeholder-key":"catalog.install.helm.description.placeholder","min-height":30},null,8,["value"])])])),_:1},8,["steps","errors","banner-title","banner-title-subtext","finish-mode","class","onCancel","onFinish"])):(0,s.Q3)("",!0),(0,s.eW)(),(0,s.Lk)("div",{class:(0,i.normalizeClass)(["slideIn",{hide:!1,slideIn__show:D.showSlideIn}])},[(0,s.Lk)("h2",L,[(0,s.eW)((0,i.toDisplayString)(e.t("catalog.install.steps.helmValues.chartInfo.label"))+" ",1),(0,s.Lk)("div",S,[(0,s.bo)(((0,s.uX)(),(0,s.CE)("div",{class:"slideIn__header__button",onClick:t[28]||(t[28]=e=>{D.showSlideIn=!1,F.showReadmeWindow()})},E)),[[he,e.t("catalog.install.slideIn.dock")]]),(0,s.eW)(),(0,s.Lk)("div",{class:"slideIn__header__button",onClick:t[29]||(t[29]=e=>D.showSlideIn=!1)},Y)])]),(0,s.eW)(),e.hasReadme?((0,s.uX)(),(0,s.Wv)(ce,{key:0,"version-info":e.versionInfo,class:"chart-content__tabs"},null,8,["version-info"])):(0,s.Q3)("",!0)],2)],2))}var z=a(20382),H=a(55364),B=a.n(H),J=a(2404),Z=a.n(J),ee=a(97486),te=a(441),ae=a(66278),se=a(37676),ie=a(17899),le=a(63788),oe=a(17934),ne=a(73317),re=a(66070),ce=a(76773),ue=a(39959),pe=a(66252),he=a(45016),de=a(1720),me=a(62559),ge=a(92241),be=a(22415),ve=a(39682),ye=a(32891),fe=a(4808),we=a(86973),ke=a(16049),Ce=a(66383),xe=a(45848),_e=a(77444),Oe=a(68497),Ie=a(95510),Re=a(13097);const Ve=e=>{const t={epinio:"global.rbac.pspEnabled",longhorn:"enablePSP","rancher-alerting-drivers":"global.cattle.psp.enabled",neuvector:"global.cattle.psp.enabled","prometheus-federator":"global.rbac.pspEnabled"},a=t[e.chart.name];return[a]};var Ne=a(26358),We=a(39784),Le=a(84915),Se=a(25783),De=a(96763);const Ee={FORM:"FORM",YAML:"YAML",DIFF:"DIFF"};function Fe(e){return Object.keys(e).includes(_e.dV)}const Ye={name:"Install",layout(e){return Fe(e.query)?"plain":""},components:{Banner:ie.l,ButtonGroup:le.A,ChartReadme:oe.A,Checkbox:ne.S,LabeledInput:ce.o,LabeledSelect:re.A,LabeledTooltip:ue.Z,LazyImage:pe.A,Loading:he.A,NameNsDescription:de.A,ResourceCancelModal:me.A,Questions:ge.Ay,Tabbed:be.A,UnitInput:ve.A,YamlEditor:ye.A,Wizard:fe.A,TypeDescription:we.A},mixins:[Ce.Ay,ke.A],async fetch(){this.errors=[];try{await this.fetchChart()}catch(e){De.warn("Unable to fetch chart: ",e)}try{await this.fetchAutoInstallInfo()}catch(e){De.warn("Unable to determine if other charts require install: ",e)}if(this.showCustomRegistry){try{this.clusterRegistry=await this.getClusterRegistry()}catch(e){De.warn("Unable to get cluster registry: ",e)}try{this.globalRegistry=await this.getGlobalRegistry()}catch(e){De.warn("Unable to get global registry: ",e)}this.defaultRegistrySetting=this.clusterRegistry||this.globalRegistry}try{this.serverUrlSetting=await this.$store.dispatch("management/find",{type:xe.Mc.SETTING,id:Se.HG.SERVER_URL})}catch(e){De.error("Unable to fetch `server-url` setting: ",e)}this.existing?(this.forceNamespace=this.existing.metadata.namespace,this.nameDisabled=!0):this.$route.query[_e.GK]===_e.Qp?this.forceNamespace=xe.eo:this.chart?.targetNamespace?this.forceNamespace=this.chart.targetNamespace:this.query.appNamespace?this.forceNamespace=this.query.appNamespace:this.forceNamespace=null;try{this.legacyApp=!!this.existing&&await this.existing.deployedAsLegacy()}catch(e){this.legacyApp=!1,De.warn("Unable to determine if existing install is a legacy app: ",e)}try{this.mcapp=!!this.existing&&await this.existing.deployedAsMultiCluster()}catch(e){this.mcapp=!1,De.warn("Unable to determine if existing install is a mc app: ",e)}try{this.value=await this.$store.dispatch("cluster/create",{type:"chartInstallAction",metadata:{namespace:this.forceNamespace||this.$store.getters["defaultNamespace"],name:this.existing?.spec?.name||this.query.appName||""}})}catch(e){return void De.error("Unable to create object of type `chartInstallAction`: ",e)}if(this.existing||(this.chart?.targetName?(this.value.metadata.name=this.chart.targetName,this.nameDisabled=!0):this.query.appName?this.value.metadata.name=this.query.appName:this.nameDisabled=!1,this.query.description&&(this.customCmdOpts.description=this.query.description)),this.forceNamespace&&!this.existing){let e;try{e=await this.$store.dispatch("cluster/find",{type:_e.CU,id:this.forceNamespace});const t=e.metadata.annotations?.[Oe.yl];t&&(this.project=t.replace(":","/"))}catch{}}if(this.chart&&this.query.versionName){if(this.version&&await this.loadValuesComponent(),!this.loadedVersion||this.loadedVersion!==this.version.key){let e;if(this.loadedVersion?(this.showingYaml&&this.applyYamlToValues(),e=(0,Re.diff)(this.loadedVersionValues,this.chartValues)):this.existing?(await this.existing.fetchValues(),e=(0,Re.clone)(this.existing.values||{})):e={},this.removeGlobalValuesFrom(e),this.chartValues=B()(B()({},this.versionInfo?.values||{}),e),this.showCustomRegistry){const e=this.chartValues?.global?.systemDefaultRegistry||this.chartValues?.global?.cattle?.systemDefaultRegistry;delete this.chartValues?.global?.systemDefaultRegistry,delete this.chartValues?.global?.cattle?.systemDefaultRegistry,this.customRegistrySetting=e||this.defaultRegistrySetting,this.showCustomRegistryInput=!!this.customRegistrySetting}this.valuesYaml=(0,We.Kq)(this.chartValues),this.loadedVersion||(this.originalYamlValues=this.valuesYaml),this.loadedVersionValues=this.versionInfo?.values||{},this.loadedVersion=this.version?.key}this.updateStepOneReady(),this.preFormYamlOption=this.valuesComponent||this.hasQuestions?Ee.FORM:Ee.YAML,this.migratedApp="true"===this.existing?.spec?.chart?.metadata?.annotations?.[Oe.W8.MIGRATED]}},data(){const e={cleanupOnFail:!1,crds:!0,hooks:!0,force:!1,resetValues:!1,openApi:!0,wait:!0,timeout:600,historyMax:5};return{defaultRegistrySetting:"",customRegistrySetting:"",serverUrlSetting:null,chartValues:null,clusterRegistry:"",originalYamlValues:null,previousYamlValues:null,errors:null,existing:null,globalRegistry:"",forceNamespace:null,loadedVersion:null,loadedVersionValues:null,legacyApp:null,mcapp:null,mode:null,value:null,valuesComponent:null,valuesYaml:"",project:null,migratedApp:!1,defaultCmdOpts:e,customCmdOpts:{...e},autoInstallInfo:[],nameDisabled:!1,preFormYamlOption:Ee.YAML,formYamlOption:Ee.YAML,showDiff:!1,showValuesComponent:!0,showQuestions:!0,showSlideIn:!1,shownReadmeWindows:[],showCommandStep:!1,showCustomRegistryInput:!1,isNamespaceNew:!1,stepBasic:{name:"basics",label:this.t("catalog.install.steps.basics.label"),subtext:this.t("catalog.install.steps.basics.subtext"),descriptionKey:"catalog.install.steps.basics.description",ready:!0,weight:30},stepClusterTplVersion:{name:"clusterTplVersion",label:this.t("catalog.install.steps.clusterTplVersion.label"),subtext:this.t("catalog.install.steps.clusterTplVersion.subtext"),descriptionKey:"catalog.install.steps.helmValues.description",ready:!0,weight:30},stepValues:{name:"helmValues",label:this.t("catalog.install.steps.helmValues.label"),subtext:this.t("catalog.install.steps.helmValues.subtext"),descriptionKey:"catalog.install.steps.helmValues.description",ready:!0,weight:20},stepCommands:{name:"helmCli",label:this.t("catalog.install.steps.helmCli.label"),subtext:this.t("catalog.install.steps.helmCli.subtext"),descriptionKey:"catalog.install.steps.helmCli.description",ready:!0,weight:10},isPlainLayout:Fe(this.$route.query),legacyDefs:{legacy:this.t("catalog.install.error.legacy.category.legacy"),mcm:this.t("catalog.install.error.legacy.category.mcm")}}},computed:{...(0,ae.L8)({inStore:"catalog/inStore",features:"features/get"}),mcm:(0,te.mapFeature)(te.MULTI_CLUSTER),ignoreVariables(){return Ve(this.versionInfo)},namespaceIsNew(){const e=this.$store.getters["cluster/all"](_e.CU),t=this.value?.metadata?.namespace;return!!t&&!(0,Ne.jq)(e,"id",t)},showProject(){return this.isRancher&&!this.existing&&this.forceNamespace},projectOpts(){const e=this.currentCluster,t=this.$store.getters["management/all"](xe.Mc.PROJECT),a=t.filter((t=>t.spec.clusterName===e?.id)).map((e=>({id:e.id,label:e.nameDisplay,value:e.id})));return a.unshift({id:"none",label:`(${this.t("generic.none")})`,value:""}),a},charts(){const e=this.existing?.matchingChart(!0),t=this.$store.getters["catalog/charts"].filter((t=>t.key===e?.key||t.chartName===e?.chartName||!(t.hidden&&!this.showHidden)&&!(t.deprecated&&!this.showDeprecated)));let a="";for(let s=0;s<t.length;s++)t[s].repoName!==a&&(a=t[s].repoName,(0,Ne.PT)(t,s,{kind:"label",label:t[s].repoNameDisplay,disabled:!0}),s++);return t},showSelectVersionOrChart(){return this.existing||_e.Rm in this.$route.query},showNameEditor(){return!this.nameDisabled||!this.forceNamespace},showVersions(){return this.chart?.versions.length>1},targetNamespace(){return this.forceNamespace?this.forceNamespace:this.value?.metadata.namespace?this.value.metadata.namespace:"default"},editorMode(){return this.showDiff?ye.j.DIFF_CODE:ye.j.EDIT_CODE},showingYaml(){return this.formYamlOption===Ee.YAML||!this.valuesComponent&&!this.hasQuestions},showingYamlDiff(){return this.formYamlOption===Ee.DIFF},formYamlOptions(){const e=[];return(this.valuesComponent||this.hasQuestions)&&e.push({labelKey:"catalog.install.section.chartOptions",value:Ee.FORM}),e.push({labelKey:"catalog.install.section.valuesYaml",value:Ee.YAML},{labelKey:"catalog.install.section.diff",value:Ee.DIFF,disabled:this.formYamlOption===Ee.FORM?this.originalYamlValues===z.Ay.dump(this.chartValues||{}):this.originalYamlValues===this.valuesYaml}),e},yamlDiffModeOptions(){return[{labelKey:"resourceYaml.buttons.unified",value:"unified"},{labelKey:"resourceYaml.buttons.split",value:"split"}]},stepperName(){return this.existing?.nameDisplay||this.chart?.chartNameDisplay},stepperSubtext(){return this.existing&&this.currentVersion!==this.targetVersion?`${this.currentVersion} > ${this.targetVersion}`:this.targetVersion},readmeWindowName(){return`${this.stepperName}-${this.version?.version}`},showingReadmeWindow(){return!!this.$store.getters["wm/byId"](this.readmeWindowName)},diffMode:(0,ee.mapPref)(ee.DIFF),step1Description(){const e=this.steps.find((e=>"basics"===e.name)).descriptionKey;return this.$store.getters["i18n/withFallback"](e,{action:this.action,existing:!!this.existing},"")},step2Description(){const e=this.steps.find((e=>"helmValues"===e.name)).descriptionKey;return this.$store.getters["i18n/withFallback"](e,{action:this.action,existing:!!this.existing},"")},step3Description(){const e=this.steps.find((e=>"helmCli"===e.name)).descriptionKey;return this.$store.getters["i18n/withFallback"](e,{action:this.action,existing:!!this.existing},"")},steps(){const e=[],t=this.version?.annotations?.[Oe.W8.TYPE];return t===Oe.W8._CLUSTER_TPL?(this.filteredVersions?.length>1&&e.push(this.stepClusterTplVersion),e.push({...this.stepValues,label:this.t("catalog.install.steps.clusterTplValues.label"),subtext:this.t("catalog.install.steps.clusterTplValues.subtext"),descriptionKey:"catalog.install.steps.clusterTplValues.description"})):e.push(this.stepBasic,this.stepValues),this.showCommandStep&&e.push(this.stepCommands),e.sort(((e,t)=>(t.weight||0)-(e.weight||0)))},cmdOptions(){return this.showCommandStep?this.customCmdOpts:this.defaultCmdOpts},namespaceNewAllowed(){return!this.existing&&!this.forceNamespace},legacyEnabled(){return this.features(te.LEGACY)},legacyFeatureRoute(){return{name:"c-cluster-product-resource",params:{product:"settings",resource:"management.cattle.io.feature"}}},legacyAppRoute(){return{name:"c-cluster-legacy-project"}},windowsIncompatible(){if(this.chart?.windowsIncompatible)return this.t("catalog.charts.windowsIncompatible");if(this.versionInfo){const e=!(this.versionInfo?.chart?.annotations?.[Oe.W8.PERMITTED_OS]||Le.LINUX).includes("windows");if(e&&!this.chart.windowsIncompatible)return this.t("catalog.charts.versionWindowsIncompatible")}return null},showCustomRegistry(){const e=this.versionInfo?.values?.global||{};return void 0!==e.systemDefaultRegistry||void 0!==e.cattle?.systemDefaultRegistry}},watch:{"$route.query"(e,t){!Z()(e,t)&&Object.keys(e).length>0&&(this.$fetch(),this.showSlideIn=!1)},"value.metadata.namespace"(e,t){if(e){const e=this.$store.getters["cluster/byId"](_e.CU,this.value.metadata.namespace),t=e?.metadata.annotations?.[Oe.yl];t&&(this.project=t.replace(":","/"))}},preFormYamlOption(e,t){e===Ee.FORM&&this.valuesYaml!==this.previousYamlValues&&this.$refs.cancelModal?this.$refs.cancelModal.show():this.formYamlOption=e},formYamlOption(e,t){switch(e){case Ee.FORM:this.valuesYaml=this.previousYamlValues,this.showValuesComponent=!0,this.showQuestions=!0,this.showDiff=!1;break;case Ee.YAML:t===Ee.FORM&&(this.valuesYaml=z.Ay.dump(this.chartValues||{}),this.previousYamlValues=this.valuesYaml),this.showValuesComponent=!1,this.showQuestions=!1,this.showDiff=!1;break;case Ee.DIFF:t===Ee.FORM&&(this.valuesYaml=z.Ay.dump(this.chartValues||{}),this.previousYamlValues=this.valuesYaml),this.showValuesComponent=!1,this.showQuestions=!1,this.updateValue(this.valuesYaml),this.showDiff=!0;break}},requires(){this.updateStepOneReady()},warnings(){this.updateStepOneReady()}},async mounted(){await this.loadValuesComponent(),window.scrollTop=0,this.preFormYamlOption=this.valuesComponent||this.hasQuestions?Ee.FORM:Ee.YAML},beforeUnmount(){this.shownReadmeWindows.forEach((e=>this.$store.dispatch("wm/close",e,{root:!0})))},methods:{async getClusterRegistry(){const e=this.$store.getters["management/schemaFor"](xe.qt.RANCHER_CLUSTER);if(e){const e=this.$store.getters["currentCluster"],a=e?.provClusterId;let s;try{s=a?await this.$store.dispatch("management/find",{type:xe.qt.RANCHER_CLUSTER,id:a}):{}}catch(t){De.error(`Unable to fetch prov cluster '${a}': `,t)}if(s?.isRke2){const e=s.agentConfig?.["system-default-registry"]||"";if(e)return e}if(s?.isRke1){const t=e?.spec?.rancherKubernetesEngineConfig?.privateRegistries;if(t?.length>0){const e=t.find((e=>e.isDefault));return e.url}}}},async getGlobalRegistry(){const e=await this.$store.dispatch("management/find",{type:xe.Mc.SETTING,id:Se.HG.SYSTEM_DEFAULT_REGISTRY});return e.value},updateValue(e){this.$refs.yaml&&this.$refs.yaml.updateValue(e)},async loadValuesComponent(){const e=this.version?.annotations?.[Oe.W8.COMPONENT];if(e){const t=this.$store.getters["type-map/hasCustomChart"](e);t?(this.valuesComponent=(0,se.IG)(this.$store.getters["type-map/importChart"](e)),this.showValuesComponent=!0):(this.valuesComponent=null,this.showValuesComponent=!1)}else this.valuesComponent=null,this.showValuesComponent=!1},selectChart(e){e&&this.$router.applyQuery({[_e.NO]:e.repoName,[_e.Eo]:e.repoType,[_e.RX]:e.chartName,[_e.xv]:e.versions[0].version})},cancel(){this.existing?this.done():this.$route.query[_e.Rm]===_e.Qp?this.$router.replace(this.clusterToolsLocation()):this.$route.query[_e.GK]===_e.Qp?this.$router.replace(this.clustersLocation()):this.$router.replace(this.chartLocation(!1))},done(){this.$route.query[_e.Rm]===_e.Qp?this.$router.replace(this.clusterToolsLocation()):this.$route.query[_e.GK]===_e.Qp?this.$router.replace(this.clustersLocation()):this.$router.replace(this.appLocation())},async finish(e){try{const a=!!this.existing;this.errors=[],await this.applyHooks(Ce.Fm);const{errors:s,input:i}=this.actionInput(a);if(s?.length)return this.errors=s,void e(!1);const l=await this.repo.doAction(a?"upgrade":"install",i),o=`${l.operationNamespace}/${l.operationName}`;await this.repo.waitForOperation(o),this.operation=await this.$store.dispatch(`${this.inStore}/find`,{type:xe.W8.OPERATION,id:o});try{await this.operation.waitForLink("logs"),this.operation.openLogs()}catch(t){}await this.applyHooks(Ce.Mz),e(!0),this.done()}catch(a){this.errors=(0,Ie.rz)(a),e(!1)}},addGlobalValuesTo(e){let t=e.global;t||(t={},(0,Re.set)(e,"global",t));let a=t.cattle;a||(a={},(0,Re.set)(e.global,"cattle",a));const s=this.currentCluster,i=this.$store.getters["management/all"](xe.Mc.PROJECT),l=i.find((e=>"System"===e.spec?.displayName))?.id?.split("/")?.[1]||"",o=this.serverUrlSetting?.value||"",n=(s?.workerOSs||[]).includes(Le.WINDOWS),r=s?.spec?.rancherKubernetesEngineConfig?.prefixPath||"",c=s?.spec?.rancherKubernetesEngineConfig?.winPrefixPath||"";return u(a,"clusterId",s?.id),u(a,"clusterName",s?.nameDisplay),this.showCustomRegistry&&((0,Re.set)(a,"systemDefaultRegistry",this.customRegistrySetting),(0,Re.set)(t,"systemDefaultRegistry",this.customRegistrySetting)),u(t,"cattle.systemProjectId",l),u(a,"url",o),u(a,"rkePathPrefix",r),u(a,"rkeWindowsPathPrefix",c),n&&u(a,"windows.enabled",!0),e;function u(e,t,a){"undefined"===typeof(0,Re.get)(e,t)&&(0,Re.set)(e,t,a)}},removeGlobalValuesFrom(e){if(!e)return;const t=this.$store.getters["currentCluster"],a=this.serverUrlSetting?.value||"",s=(t?.workerOSs||[]).includes(Le.WINDOWS),i=t?.spec?.rancherKubernetesEngineConfig?.prefixPath||"",l=t?.spec?.rancherKubernetesEngineConfig?.winPrefixPath||"";return e.global?.cattle&&(o(e.global.cattle,"clusterId",t?.id),o(e.global.cattle,"clusterName",t?.nameDisplay),o(e.global.cattle,"url",a),o(e.global.cattle,"rkePathPrefix",i),o(e.global.cattle,"rkeWindowsPathPrefix",l),s&&o(e.global.cattle.windows,"enabled",!0)),e.global?.cattle?.windows&&!Object.keys(e.global.cattle.windows).length&&delete e.global.cattle.windows,e.global?.cattle&&!Object.keys(e.global.cattle).length&&delete e.global.cattle,Object.keys(e.global||{}).length||delete e.global,e;function o(e,t,a){(0,Re.get)(e,t)===a&&delete e[t]}},applyYamlToValues(){try{this.chartValues=z.Ay.load(this.valuesYaml)}catch(e){return{errors:(0,Ie.rz)(e)}}return{errors:[]}},actionInput(e){const t=this.versionInfo?.values||{},a=[];if(this.showingYaml||this.showingYamlDiff){const{errors:e}=this.applyYamlToValues();a.push(...e)}const s=(0,Re.diff)(t,this.chartValues);this.addGlobalValuesTo(s);const i=JSON.parse(JSON.stringify(this.value)),l=this.migratedApp?{[Oe.W8.MIGRATED]:"true"}:{},o={chartName:this.chart.chartName,version:this.version?.version||this.query.versionName,releaseName:i.metadata.name,description:this.customCmdOpts.description,annotations:{...l,[Oe.W8.SOURCE_REPO_TYPE]:this.chart.repoType,[Oe.W8.SOURCE_REPO_NAME]:this.chart.repoName},values:s};e&&(o.resetValues=this.cmdOptions.resetValues);const n={charts:[o],noHooks:!1===this.cmdOptions.hooks,timeout:this.cmdOptions.timeout>0?`${this.cmdOptions.timeout}s`:null,wait:!0===this.cmdOptions.wait,namespace:i.metadata.namespace,projectId:this.project};e?(n.force=!0===this.cmdOptions.force,n.historyMax=this.cmdOptions.historyMax,n.cleanupOnFail=this.cmdOptions.cleanupOnFail):(n.disableOpenAPIValidation=!1===this.cmdOptions.openApi,n.skipCRDs=!1===this.cmdOptions.crds);const r=[],c=(this.version?.annotations?.[Oe.W8.AUTO_INSTALL_GVK]||"").split(/\s*,\s*/).filter((e=>!!e)).reverse();for(const u of c){const e=this.$store.getters["catalog/versionProviding"]({gvr:u,repoName:this.chart.repoName,repoType:this.chart.repoType});e?r.push(e):a.push(`This chart requires another chart that provides ${u}, but none was was found`)}for(const u of this.autoInstallInfo){const{allValues:e,values:t}=u,a=(0,Re.diff)(t,e),i={...a,global:s.global};n.charts.unshift({chartName:u.chart.name,version:u.chart.version,releaseName:u.chart.annotations[Oe.W8.RELEASE_NAME]||o.name,projectId:this.project,values:i})}for(const u of r)n.charts.unshift({chartName:u.name,version:u.version,releaseName:u.annotations[Oe.W8.RELEASE_NAME]||u.name,projectId:this.project,values:this.addGlobalValuesTo({global:s.global}),annotations:{...l,[Oe.W8.SOURCE_REPO_TYPE]:u.repoType,[Oe.W8.SOURCE_REPO_NAME]:u.repoName}});return{errors:a,input:n}},tabChanged(){window.scrollTop=0},updateStepOneReady(){const e=!this.requires.length,t=!!this.chart;this.steps[0].ready=e&&t},updateStepTwoReady(e){this.updateStep("helmValues",{ready:e})},getOptionLabel(e){return e?.chartNameDisplay},showReadmeWindow(){this.$store.dispatch("wm/open",{id:this.readmeWindowName,label:this.readmeWindowName,icon:"file",component:"ChartReadme",attrs:{versionInfo:this.versionInfo}},{root:!0}),this.shownReadmeWindows.push(this.readmeWindowName)},updateStep(e,t){const a=this.steps.find((t=>t.name===e));if(a)for(const s in t)a[s]=t[s]}}};a(13213);var Ae=a(66262);const Te=(0,Ae.A)(Ye,[["render",G],["__scopeId","data-v-15bb22d2"]]),Me=Te},13213:(e,t,a)=>{var s=a(37915);s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.id,s,""]]),s.locals&&(e.exports=s.locals);var i=a(99548).A;i("189efdf0",s,!0,{sourceMap:!1,shadowMode:!1})}}]);
//# sourceMappingURL=423.0fb069f6.js.map