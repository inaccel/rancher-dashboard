(self["webpackChunkdashboard"]=self["webpackChunkdashboard"]||[]).push([[4486],{46982:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>l});var r=i(45522),n=i.n(r),s=i(67643),a=i.n(s),o=a()(n());o.push([e.id,".create-resource-container .subtype-banner[data-v-7933252e]{min-height:80px;padding:10px}",""]);const l=o},74486:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>P});var r=i(20641),n=i(90033);const s=e=>((0,r.Qi)("data-v-7933252e"),e=e(),(0,r.jt)(),e),a={key:1},o={class:"row"},l={class:"col span-12"},c={class:"create-resource-container"},p={class:"subtypes-container"},d=["href","disabled"],u={class:"subtype-content"},g={class:"title"},m={class:"subtype-logo round-image"},v=s((()=>(0,r.Lk)("div",{class:"flex-right"},[(0,r.Lk)("i",{class:"icon icon-external-link"})],-1))),k=s((()=>(0,r.Lk)("hr",null,null,-1))),h={class:"description"};function b(e,t,i,s,b,L){const f=(0,r.g2)("Loading"),y=(0,r.g2)("t"),w=(0,r.g2)("LazyImage"),x=(0,r.g2)("AlertTable"),A=(0,r.g2)("SimpleBox"),$=(0,r.gN)("clean-tooltip");return e.$fetchState.pending?((0,r.uX)(),(0,r.Wv)(f,{key:0})):((0,r.uX)(),(0,r.CE)("section",a,[(0,r.Lk)("header",o,[(0,r.Lk)("div",l,[(0,r.Lk)("h1",null,[(0,r.bF)(y,{k:"monitoring.overview.title"})]),(0,r.eW)(),(0,r.Lk)("div",null,[(0,r.bF)(y,{k:"monitoring.overview.subtitle",raw:!0})])])]),(0,r.eW)(),(0,r.Lk)("div",null,[(0,r.Lk)("div",c,[(0,r.Lk)("div",p,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(b.externalLinks,((t,i)=>(0,r.bo)(((0,r.uX)(),(0,r.CE)("a",{key:i,href:t.enabled?t.link:void 0,disabled:!t.enabled||null,target:"_blank",rel:"noopener noreferrer",class:(0,n.normalizeClass)({"subtype-banner":!0,disabled:!t.enabled})},[(0,r.Lk)("div",u,[(0,r.Lk)("div",g,[(0,r.Lk)("div",m,[(0,r.bF)(w,{src:t.iconSrc},null,8,["src"])]),(0,r.eW)(),(0,r.Lk)("h5",null,[(0,r.Lk)("span",null,[(0,r.bF)(y,{k:t.label},null,8,["k"])])]),(0,r.eW)(),v]),(0,r.eW)(),k,(0,r.eW)(),(0,r.Lk)("div",h,[(0,r.Lk)("span",null,[(0,r.bF)(y,{k:t.description},null,8,["k"])])])])],10,d)),[[$,t.enabled?void 0:e.t("monitoring.overview.linkedList.na")]]))),128))])])]),(0,r.eW)(),(0,r.Lk)("div",null,[(0,r.bF)(A,{class:"mt-30",title:e.t("monitoring.overview.alertsList.label")},{default:(0,r.k6)((()=>[(0,r.bF)(x)])),_:1},8,["title"])])]))}var L=i(62193),f=i.n(L),y=i(68438),w=i(45848),x=i(57735),A=i(26358),$=i(37900),W=i(66252),S=i(64356),C=i(15696),E=i(45016);const F={components:{LazyImage:W.A,SimpleBox:S.A,AlertTable:y.A,Loading:E.A},async fetch(){await this.fetchDeps()},data(){const e=i(10928),t=i(87968),r=this.$store.getters["currentCluster"];return{availableLinks:{alertmanager:!1,grafana:!1,prometheus:!1},resources:[w.Rp.ALERTMANAGER,w.Rp.PROMETHEUS],externalLinks:[{enabled:!1,group:"alertmanager",iconSrc:t,label:"monitoring.overview.linkedList.alertManager.label",description:"monitoring.overview.linkedList.alertManager.description",link:`/k8s/clusters/${r.id}/api/v1/namespaces/cattle-monitoring-system/services/http:rancher-monitoring-alertmanager:9093/proxy`},{enabled:!1,group:"grafana",iconSrc:e,label:"monitoring.overview.linkedList.grafana.label",description:"monitoring.overview.linkedList.grafana.description",link:""},{enabled:!1,group:"prometheus",iconSrc:t,label:"monitoring.overview.linkedList.prometheusPromQl.label",description:"monitoring.overview.linkedList.prometheusPromQl.description",link:`/k8s/clusters/${r.id}/api/v1/namespaces/cattle-monitoring-system/services/http:rancher-monitoring-prometheus:9090/proxy/graph`},{enabled:!1,group:"prometheus",iconSrc:t,label:"monitoring.overview.linkedList.prometheusRules.label",description:"monitoring.overview.linkedList.prometheusRules.description",link:`/k8s/clusters/${r.id}/api/v1/namespaces/cattle-monitoring-system/services/http:rancher-monitoring-prometheus:9090/proxy/rules`},{enabled:!1,group:"prometheus",iconSrc:t,label:"monitoring.overview.linkedList.prometheusTargets.label",description:"monitoring.overview.linkedList.prometheusTargets.description",link:`/k8s/clusters/${r.id}/api/v1/namespaces/cattle-monitoring-system/services/http:rancher-monitoring-prometheus:9090/proxy/targets`}]}},methods:{async fetchDeps(){const{$store:e,externalLinks:t}=this,i={};e.getters["cluster/canList"](w.W8.APP)&&(i.apps=e.dispatch("cluster/findAll",{type:w.W8.APP}));const r=await(0,x.kR)(i),n=await(0,C.D1)(this.$store),s=await(0,C.kj)(this.$store),a=await(0,C.sv)(this.$store);if(n){const e=(0,A.jq)(t,"group","alertmanager");e.enabled=!0}if(s){const e=(0,A.jq)(t,"group","grafana"),i=this.$store.getters["currentCluster"],n=f()(r.apps)?"":(0,A.jq)(r.apps,"id","cattle-monitoring-system/rancher-monitoring"),s=(0,$.rW)(n?.currentVersion||"",i.id);e.link=`${s}/api/v1/namespaces/cattle-monitoring-system/services/http:rancher-monitoring-grafana:80/proxy/`,e.enabled=!0}if(a){const e=t.filter((e=>"prometheus"===e.group));e.forEach((e=>{e.enabled=!0}))}}}};i(22052);var R=i(66262);const M=(0,R.A)(F,[["render",b],["__scopeId","data-v-7933252e"]]),P=M},22052:(e,t,i)=>{var r=i(46982);r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[e.id,r,""]]),r.locals&&(e.exports=r.locals);var n=i(99548).A;n("08af0a0a",r,!0,{sourceMap:!1,shadowMode:!1})}}]);
//# sourceMappingURL=4486.1f2fa433.js.map