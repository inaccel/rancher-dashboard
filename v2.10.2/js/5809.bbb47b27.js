"use strict";(self["webpackChunkdashboard"]=self["webpackChunkdashboard"]||[]).push([[5809],{5809:(e,r,a)=>{a.r(r),a.d(r,{default:()=>v});var s=a(20641),t=a(90033);const i={key:1},n={key:0,class:"description text-muted text-small"};function o(e,r,a,o,l,c){const d=(0,s.g2)("Loading"),h=(0,s.g2)("AsyncButton"),u=(0,s.g2)("Masthead"),p=(0,s.g2)("ResourceTable");return e.$fetchState.pending?((0,s.uX)(),(0,s.Wv)(d,{key:0})):((0,s.uX)(),(0,s.CE)("div",i,[(0,s.bF)(u,{schema:l.schema,resource:l.resource,"type-display":e.t("drivers.kontainer.title")},{extraActions:(0,s.k6)((()=>[l.canRefreshK8sMetadata?((0,s.uX)(),(0,s.Wv)(h,{key:0,mode:"refresh","action-label":e.t("drivers.actions.refresh"),"waiting-label":e.t("drivers.actions.refresh"),"success-label":e.t("drivers.actions.refresh"),"error-label":e.t("drivers.actions.refresh"),"data-testid":"kontainer-driver-refresh",onClick:c.refreshK8sMetadata},null,8,["action-label","waiting-label","success-label","error-label","onClick"])):(0,s.Q3)("",!0)])),_:1},8,["schema","resource","type-display"]),(0,s.eW)(),(0,s.bF)(p,{schema:l.schema,rows:c.rows,"use-query-params-for-simple-filtering":l.useQueryParamsForSimpleFiltering,"force-update-live-and-delayed":l.forceUpdateLiveAndDelayed,tableActions:!0,"data-testid":"kontainer-driver-list"},{"cell:name":(0,s.k6)((({row:e})=>[(0,s.Lk)("span",null,(0,t.toDisplayString)(e.nameDisplay),1),(0,s.eW)(),e.description?((0,s.uX)(),(0,s.CE)("div",n,(0,t.toDisplayString)(e.description),1)):(0,s.Q3)("",!0)])),_:1},8,["schema","rows","use-query-params-for-simple-filtering","force-update-live-and-delayed"])]))}var l=a(45848),c=a(2803),d=a(17793),h=a(45016),u=a(24718);const p={name:"KontainerDrivers",components:{ResourceTable:c.A,Loading:h.A,Masthead:u.A,AsyncButton:d.A},async fetch(){this.allDrivers=await this.$store.dispatch("rancher/findAll",{type:l.k$.KONTAINER_DRIVER},{root:!0})},data(){return{allDrivers:null,canRefreshK8sMetadata:!0,resource:l.k$.KONTAINER_DRIVER,schema:this.$store.getters["rancher/schemaFor"](l.k$.KONTAINER_DRIVER),useQueryParamsForSimpleFiltering:!1,forceUpdateLiveAndDelayed:10}},computed:{rows(){return this.allDrivers||[]}},methods:{async refreshK8sMetadata(e){try{await this.$store.dispatch("rancher/request",{url:"/v3/kontainerdrivers?action=refresh",method:"post",data:{}}),e(!0)}catch(r){this.$store.dispatch("growl/fromError",{title:"Error refreshing kontainer drivers",err:r},{root:!0}),e(!1)}}}};var f=a(66262);const m=(0,f.A)(p,[["render",o]]),v=m}}]);
//# sourceMappingURL=5809.bbb47b27.js.map