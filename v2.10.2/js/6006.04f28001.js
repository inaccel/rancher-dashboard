(self["webpackChunkdashboard"]=self["webpackChunkdashboard"]||[]).push([[6006],{48998:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>d});var n=r(45522),o=r.n(n),s=r(67643),t=r.n(s),i=t()(o());i.push([e.id,".masthead[data-v-0e497a86]{padding-bottom:10px;border-bottom:1px solid var(--border);margin-bottom:10px}HEADER[data-v-0e497a86]{margin:0}.actions[data-v-0e497a86]{display:flex;justify-content:flex-end;align-items:center}.actions .btn[data-v-0e497a86]{margin-left:10px}",""]);const d=i},66006:(e,a,r)=>{"use strict";r.r(a),r.d(a,{default:()=>I});var n=r(20641),o=r(90033);const s={class:"masthead"},t={class:"title"},i={class:"m-0"},d={onsubmit:"return false;"};function l(e,a,r,l,c,p){const u=(0,n.g2)("SelectPrincipal"),h=(0,n.g2)("GlobalRoleBindings"),g=(0,n.g2)("FooterComponent");return(0,n.uX)(),(0,n.CE)("div",null,[(0,n.Lk)("div",null,[(0,n.Lk)("div",s,[(0,n.Lk)("header",null,[(0,n.Lk)("div",t,[(0,n.Lk)("h1",i,(0,o.toDisplayString)(e.t("authGroups.assignEdit.assignTitle")),1)])])]),(0,n.eW)(),(0,n.Lk)("form",d,[(0,n.bF)(u,{"retain-selection":!0,class:"mb-20","show-my-group-types":["group"],"search-group-types":"group",onAdd:p.setPrincipal},null,8,["onAdd"]),(0,n.eW)(),(0,n.bF)(h,{ref:"grb","group-principal-id":c.principalId,mode:p.mode,"assign-only":!0,onCanLogIn:a[0]||(a[0]=e=>c.canLogIn=e),onHasChanges:a[1]||(a[1]=e=>c.rolesChanged=e)},null,8,["group-principal-id","mode"]),(0,n.eW)(),(0,n.bF)(g,{mode:c.editMode,errors:c.errors,"disable-save":!p.canSave,onSave:p.save,onDone:p.cancel},null,8,["mode","errors","disable-save","onSave","onDone"])])])])}var c=r(24547),p=r(52711),u=r(98863),h=r(45848),g=r(77444),m=r(95510),v=r(57375),b=r(57949);const f={components:{SelectPrincipal:p.A,FooterComponent:c.A,GlobalRoleBindings:u.A},data(){return{errors:[],principalId:null,canLogIn:!1,rolesChanged:!1,editMode:g.G5}},computed:{mode(){return this.principalId&&this.$route.query.mode||g.nW},canSave(){return this.rolesChanged&&this.canLogIn}},methods:{setPrincipal(e){return this.principalId=e,!0},async cancel(){await this.navBack()},async save(e){this.errors=[];try{await this.$refs.grb.save(),await this.$store.dispatch("management/findAll",{type:h.k$.SPOOFED.GROUP_PRINCIPAL,opt:{force:!0}},{root:!0}),this.navBack(),e(!0)}catch(a){this.errors=(0,m.rz)(a),e(!1)}},navBack(){this.$router.replace({name:"c-cluster-product-resource",params:{cluster:b.w,product:v.NAME,resource:h.k$.SPOOFED.GROUP_PRINCIPAL}})}}};r(99660);var k=r(66262);const y=(0,k.A)(f,[["render",l],["__scopeId","data-v-0e497a86"]]),I=y},99660:(e,a,r)=>{var n=r(48998);n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.id,n,""]]),n.locals&&(e.exports=n.locals);var o=r(99548).A;o("06fcb432",n,!0,{sourceMap:!1,shadowMode:!1})}}]);
//# sourceMappingURL=6006.04f28001.js.map