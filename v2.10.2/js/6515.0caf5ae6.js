(self["webpackChunkdashboard"]=self["webpackChunkdashboard"]||[]).push([[6515],{30632:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>u});var r=n(45522),i=n.n(r),o=n(67643),a=n.n(o),s=a()(i());s.push([t.id,'.detail-top:not(.empty){padding-top:10px;border-top:1px solid var(--border);margin-top:10px}.detail-top .namespaceLinkList:not(:first-child):before{content:", "}.detail-top .tags{display:inline-flex;flex-direction:row;flex-wrap:wrap;position:relative;top:-2px}.detail-top .tags .label{position:relative;top:4px}.detail-top .tags .tag{margin:2px 4px 0 2px;font-size:12px}.detail-top .annotation{margin-top:10px}.detail-top .label{color:var(--input-label);margin:0 4px 0 0}.detail-top__label-button{padding:4px}.detail-top .details{display:flex;flex-direction:row;flex-wrap:wrap}.detail-top .details .detail{margin-right:20px;margin-bottom:3px}.detail-top .details:not(:first-of-type){margin-top:3px}.detail-top>div:not(:last-of-type){margin-bottom:4px}.detail-top .icon{vertical-align:top}',""]);const u=s},46180:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>u});var r=n(45522),i=n.n(r),o=n(67643),a=n.n(o),s=a()(i());s.push([t.id,".vertical[data-v-fcc3e7d2]{flex-direction:column;width:100%}.subtle[data-v-fcc3e7d2]{opacity:.7}.message-icon[data-v-fcc3e7d2]{display:flex;align-items:center;justify-content:center;flex:1;flex-direction:column}.message-icon>I[data-v-fcc3e7d2]{font-size:64px;margin-bottom:20px}.message-icon>I.info[data-v-fcc3e7d2]{color:var(--primary)}.message-icon>I.error[data-v-fcc3e7d2]{color:var(--error)}.message-icon>I.warning[data-v-fcc3e7d2]{color:var(--warning)}.message-icon>I.success[data-v-fcc3e7d2]{color:var(--success)}.message-icon>.message[data-v-fcc3e7d2]{font-size:20px;margin-bottom:40px;max-width:60%;text-align:center;line-height:30px}",""]);const u=s},16680:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>u});var r=n(45522),i=n.n(r),o=n(67643),a=n.n(o),s=a()(i());s.push([t.id,".masthead[data-v-6f77d67a]{padding-bottom:10px;border-bottom:1px solid var(--border);margin-bottom:10px}HEADER[data-v-6f77d67a]{margin:0}HEADER .title[data-v-6f77d67a]{overflow:hidden}.primaryheader[data-v-6f77d67a],.primaryheader h1[data-v-6f77d67a]{display:flex;flex-direction:row;align-items:center}.primaryheader h1[data-v-6f77d67a]{margin:0;overflow:hidden}.primaryheader h1 .masthead-resource-title[data-v-6f77d67a]{padding:0 8px;text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.subheader[data-v-6f77d67a]{display:flex;flex-direction:row;color:var(--input-label)}.subheader>*[data-v-6f77d67a]{margin:5px 20px 5px 0}.subheader .live-data[data-v-6f77d67a]{color:var(--body-text);margin-left:3px}.state-banner[data-v-6f77d67a]{margin:3px 0 0 0}.masthead-state[data-v-6f77d67a]{font-size:medium}.masthead-istio .icon[data-v-6f77d67a]{vertical-align:middle;color:var(--primary)}.left-right-split[data-v-6f77d67a]{display:grid;align-items:center}.left-right-split .left-half[data-v-6f77d67a]{grid-column:1}.left-right-split .right-half[data-v-6f77d67a]{grid-column:2}div.actions-container>div.actions[data-v-6f77d67a]{display:flex;flex-direction:row;justify-content:flex-end}",""]);const u=s},24548:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>u});var r=n(45522),i=n.n(r),o=n(67643),a=n.n(o),s=a()(i());s.push([t.id,".flex-content[data-v-2362ea15]{display:flex;flex-direction:column;flex-grow:1}",""]);const u=s},89201:(t,e,n)=>{"use strict";n.r(e),n.d(e,{default:()=>u});var r=n(45522),i=n.n(r),o=n(67643),a=n.n(o),s=a()(i());s.push([t.id,'.chart-container{position:relative;border:1px solid var(--border);min-height:100px}.chart-container,.chart-container .loading-container{display:flex;background-color:var(--body-bg);border-radius:var(--border-radius)}.chart-container .loading-container{content:"";position:absolute;top:0;left:0;width:100%;height:100%;z-index:2;align-items:center;justify-content:center;flex-direction:column}.chart-container .loading-container i{font-size:24px}.chart-container #tree{width:70%;height:-moz-fit-content;height:fit-content}.chart-container #tree svg{margin-top:3px}.chart-container #tree .link{stroke:var(--darker)}.chart-container #tree .node{cursor:pointer}.chart-container #tree .node.active .node-hover-layer{display:block}.chart-container #tree .node.repo.active>circle{transform:scale(1.2)}.chart-container #tree .node.bundle.active>circle{transform:scale(1.35)}.chart-container #tree .node.bundle-deployment.active>circle{transform:scale(1.6)}.chart-container #tree .node.node-default-fill>circle,.chart-container #tree .node.repo>circle{fill:var(--muted)}.chart-container #tree .node:not(.repo).node-success>circle{fill:var(--success)}.chart-container #tree .node:not(.repo).node-info>circle{fill:var(--info)}.chart-container #tree .node:not(.repo).node-warning>circle{fill:var(--warning)}.chart-container #tree .node:not(.repo).node-error>circle{fill:var(--error)}.chart-container #tree .node .node-hover-layer{stroke:var(--body-bg);stroke-width:2;display:none}.chart-container .more-info-container{width:30%;position:relative;border-left:1px solid var(--border);background-color:var(--body-bg);overflow:hidden}.chart-container .more-info-container,.chart-container .more-info-container .more-info{border-top-right-radius:var(--border-radius);border-bottom-right-radius:var(--border-radius)}.chart-container .more-info-container .more-info{position:absolute;top:0;left:0;right:0;bottom:0;width:100%;padding:20px;overflow-y:auto}.chart-container .more-info-container .more-info table td{vertical-align:top;padding-bottom:10px}.chart-container .more-info-container .more-info table td.align-middle{vertical-align:middle}.chart-container .more-info-container .more-info table .more-info-item-label{color:var(--darker);margin-right:8px}.chart-container .more-info-container .more-info table .single-error{color:var(--error)}.chart-container .more-info-container .more-info table p{line-height:1.5em}',""]);const u=s},1978:(t,e,n)=>{"use strict";n.d(e,{A:()=>c});var r=n(20641);const i={key:0};function o(t,e,n,o,a,s){return a.extensionData.length?((0,r.uX)(),(0,r.CE)("div",i,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(a.extensionData,((t,e)=>((0,r.uX)(),(0,r.CE)("div",{key:`extensionData${n.location}${e}`},[((0,r.uX)(),(0,r.Wv)((0,r.$y)(t.component),{resource:n.resource},null,8,["resource"]))])))),128))])):(0,r.Q3)("",!0)}var a=n(76270);const s={name:"ExtensionPanel",props:{resource:{type:Object,default:()=>({})},type:{type:String,default:""},location:{type:String,default:""}},data(){return{extensionData:(0,a.A)(this,this.type,this.location,this.$route)}}};var u=n(66262);const l=(0,u.A)(s,[["render",o]]),c=l},6789:(t,e,n)=>{"use strict";n.d(e,{A:()=>c});var r=n(20641),i=n(90033);const o={class:"message"};function a(t,e,n,a,s,u){return(0,r.uX)(),(0,r.CE)("div",{class:(0,i.normalizeClass)(["message-icon",{vertical:n.vertical,subtle:n.subtle}])},[(0,r.Lk)("i",{class:(0,i.normalizeClass)(["icon",{[n.icon]:!0,[n.iconState]:!!n.iconState}])},null,2),(0,r.eW)(),(0,r.Lk)("div",o,[(0,r.RG)(t.$slots,"message",{},(()=>[n.messageKey?((0,r.uX)(),(0,r.CE)(r.FK,{key:0},[(0,r.eW)((0,i.toDisplayString)(t.t(n.messageKey)),1)],64)):((0,r.uX)(),(0,r.CE)(r.FK,{key:1},[(0,r.eW)((0,i.toDisplayString)(n.message),1)],64))]),!0)])],2)}const s={props:{vertical:{type:Boolean,default:!1},icon:{type:String,required:!0},iconState:{type:String,default:null},message:{type:String,default:null},messageKey:{type:String,default:null},subtle:{type:Boolean,default:!1}}};n(33950);var u=n(66262);const l=(0,u.A)(s,[["render",a],["__scopeId","data-v-fcc3e7d2"]]),c=l},76515:(t,e,n)=>{"use strict";n.d(e,{A:()=>ow});var r=n(20641),i=n(90033);const o={key:1},a=["data-testid"],s=["data-testid"],u=["data-testid"],l=["data-testid"];function c(t,e,n,c,h,f){const p=(0,r.g2)("Loading"),d=(0,r.g2)("DetailTop"),v=(0,r.g2)("Masthead"),g=(0,r.g2)("ForceDirectedTreeChart"),y=(0,r.g2)("ResourceYaml"),m=(0,r.gN)("shortkey");return t.$fetchState.pending||h.notFound?((0,r.uX)(),(0,r.Wv)(p,{key:0})):((0,r.uX)(),(0,r.CE)("div",o,[t.showMasthead?((0,r.uX)(),(0,r.Wv)(v,{key:0,resource:h.resourceType,value:h.liveModel,mode:h.mode,"real-mode":f.realMode,as:h.as,"has-graph":h.hasGraph,"has-detail":h.hasCustomDetail,"has-edit":h.hasCustomEdit,"can-view-yaml":h.canViewYaml,"resource-subtype":h.resourceSubtype,"parent-route-override":n.parentRouteOverride,"store-override":n.storeOverride},{default:(0,r.k6)((()=>[f.isView&&f.isDetail?((0,r.uX)(),(0,r.Wv)(d,{key:0,value:h.liveModel},null,8,["value"])):(0,r.Q3)("",!0)])),_:1},8,["resource","value","mode","real-mode","as","has-graph","has-detail","has-edit","can-view-yaml","resource-subtype","parent-route-override","store-override"])):(0,r.Q3)("",!0),(0,r.eW)(),f.isGraph&&h.canViewChart?((0,r.uX)(),(0,r.Wv)(g,{key:1,data:h.chartData,"fdc-config":t.getGraphConfig},null,8,["data","fdc-config"])):f.isYaml?((0,r.uX)(),(0,r.Wv)(y,{key:2,ref:"resourceyaml",value:h.value,mode:h.mode,yaml:h.yaml,"offer-preview":f.offerPreview,"done-route":t.doneRoute,"done-override":h.value.doneOverride,class:(0,i.normalizeClass)({"flex-content":n.flexContent}),"onUpdate:value":e[0]||(e[0]=e=>t.$emit("input",e))},null,8,["value","mode","yaml","offer-preview","done-route","done-override","class"])):((0,r.uX)(),(0,r.Wv)((0,r.$y)(f.showComponent),(0,r.v6)({key:3,ref:"comp",value:h.value,"onUpdate:value":e[1]||(e[1]=t=>h.value=t)},t.$data,{"done-params":t.doneParams,"done-route":t.doneRoute,mode:h.mode,"initial-value":h.initialModel,"live-value":h.liveModel,"real-mode":f.realMode,class:{"flex-content":n.flexContent},"onUpdate:value":e[2]||(e[2]=e=>t.$emit("input",e)),onSetSubtype:f.setSubtype}),null,16,["value","done-params","done-route","mode","initial-value","live-value","real-mode","class","onSetSubtype"])),(0,r.eW)(),f.isView?(0,r.bo)(((0,r.uX)(),(0,r.CE)("button",{key:4,"data-testid":n.componentTestid+"-detail",class:"hide",onShortkey:e[3]||(e[3]=t=>f.keyAction("goToDetail"))},null,40,a)),[[m,["shift","d"],void 0,{once:!0}]]):(0,r.Q3)("",!0),(0,r.eW)(),f.isView?(0,r.bo)(((0,r.uX)(),(0,r.CE)("button",{key:5,"data-testid":n.componentTestid+"-config",class:"hide",onShortkey:e[4]||(e[4]=t=>f.keyAction("goToViewConfig"))},null,40,s)),[[m,["shift","c"],void 0,{once:!0}]]):(0,r.Q3)("",!0),(0,r.eW)(),f.isView?(0,r.bo)(((0,r.uX)(),(0,r.CE)("button",{key:6,"data-testid":n.componentTestid+"-yaml",class:"hide",onShortkey:e[5]||(e[5]=t=>f.keyAction("goToViewYaml"))},null,40,u)),[[m,["shift","y"],void 0,{once:!0}]]):(0,r.Q3)("",!0),(0,r.eW)(),f.isView?(0,r.bo)(((0,r.uX)(),(0,r.CE)("button",{key:7,"data-testid":n.componentTestid+"-edit",class:"hide",onShortkey:e[6]||(e[6]=t=>f.keyAction("goToEdit"))},null,40,l)),[[m,["shift","e"],void 0,{once:!0}]]):(0,r.Q3)("",!0)]))}var h=n(36215),f=n(45016),p=n(41586),d=n(77444),v=n(45848),g=n(39784);const y=t=>((0,r.Qi)("data-v-6f77d67a"),t=t(),(0,r.jt)(),t),m={class:"masthead"},w={class:"title"},_={class:"primaryheader"},b={key:3},x={key:4},k={key:7,class:"masthead-istio"},A={class:"icon icon-sm icon-istio"},E={key:0,class:"subheader"},N={key:0},C={key:1},S={key:2},M={key:1},$={key:3},D={key:4},T={class:"live-data"},L={class:"actions-container align-start"},X={class:"actions"},z=["disabled"],O=y((()=>(0,r.Lk)("i",{class:"icon icon-actions"},null,-1))),I=[O];function W(t,e,n,o,a,s){const u=(0,r.g2)("TabTitle"),l=(0,r.g2)("router-link"),c=(0,r.g2)("t"),h=(0,r.g2)("BadgeState"),f=(0,r.g2)("LiveDate"),p=(0,r.g2)("ButtonGroup"),d=(0,r.g2)("ExtensionPanel"),v=(0,r.g2)("Banner"),g=(0,r.gN)("clean-tooltip");return(0,r.uX)(),(0,r.CE)("div",m,[(0,r.Lk)("header",null,[(0,r.Lk)("div",w,[(0,r.Lk)("div",_,[(0,r.Lk)("h1",null,[s.isCreate?((0,r.uX)(),(0,r.Wv)(u,{key:0,showChild:!1},{default:(0,r.k6)((()=>[(0,r.eW)((0,i.toDisplayString)(s.parent.displayName),1)])),_:1})):((0,r.uX)(),(0,r.Wv)(u,{key:1,showChild:!1},{default:(0,r.k6)((()=>[(0,r.eW)((0,i.toDisplayString)(s.displayName),1)])),_:1})),(0,r.eW)(),s.location?((0,r.uX)(),(0,r.Wv)(l,{key:2,to:s.location},{default:(0,r.k6)((()=>[(0,r.eW)((0,i.toDisplayString)(s.parent.displayName)+":\n            ",1)])),_:1},8,["to"])):((0,r.uX)(),(0,r.CE)("span",b,(0,i.toDisplayString)(s.parent.displayName)+":",1)),(0,r.eW)(),n.value.detailPageHeaderActionOverride&&n.value.detailPageHeaderActionOverride(n.realMode)?((0,r.uX)(),(0,r.CE)("span",x,(0,i.toDisplayString)(n.value.detailPageHeaderActionOverride(n.realMode)),1)):((0,r.uX)(),(0,r.Wv)(c,{key:5,class:"masthead-resource-title",k:"resourceDetail.header."+n.realMode,subtype:n.resourceSubtype,name:s.displayName,escapehtml:!1},null,8,["k","subtype","name"])),(0,r.eW)(),!s.isCreate&&s.parent.showState?((0,r.uX)(),(0,r.Wv)(h,{key:6,class:"masthead-state",value:n.value},null,8,["value"])):(0,r.Q3)("",!0),(0,r.eW)(),!s.isCreate&&n.value.injectionEnabled?((0,r.uX)(),(0,r.CE)("span",k,[(0,r.bo)((0,r.Lk)("i",A,null,512),[[g,t.t("projectNamespaces.isIstioInjectionEnabled")]])])):(0,r.Q3)("",!0)])]),(0,r.eW)(),s.isCreate?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("div",E,[s.isNamespace&&s.project?((0,r.uX)(),(0,r.CE)("span",N,[(0,r.eW)((0,i.toDisplayString)(t.t("resourceDetail.masthead.project"))+": ",1),(0,r.bF)(l,{to:s.project.detailLocation},{default:(0,r.k6)((()=>[(0,r.eW)((0,i.toDisplayString)(s.project.nameDisplay),1)])),_:1},8,["to"])])):s.isWorkspace?((0,r.uX)(),(0,r.CE)("span",C,[(0,r.eW)((0,i.toDisplayString)(t.t("resourceDetail.masthead.workspace"))+": ",1),(0,r.bF)(l,{to:s.workspaceLocation},{default:(0,r.k6)((()=>[(0,r.eW)((0,i.toDisplayString)(s.namespace),1)])),_:1},8,["to"])])):s.namespace&&!s.hasMultipleNamespaces?((0,r.uX)(),(0,r.CE)("span",S,[(0,r.eW)((0,i.toDisplayString)(t.t("resourceDetail.masthead.namespace"))+":\n            ",1),s.hideNamespaceLocation?((0,r.uX)(),(0,r.CE)("span",M,(0,i.toDisplayString)(s.namespace),1)):((0,r.uX)(),(0,r.Wv)(l,{key:0,to:s.namespaceLocation,"data-testid":"masthead-subheader-namespace"},{default:(0,r.k6)((()=>[(0,r.eW)((0,i.toDisplayString)(s.namespace),1)])),_:1},8,["to"]))])):(0,r.Q3)("",!0),(0,r.eW)(),s.parent.showAge?((0,r.uX)(),(0,r.CE)("span",$,[(0,r.eW)((0,i.toDisplayString)(t.t("resourceDetail.masthead.age"))+": ",1),(0,r.bF)(f,{class:"live-date",value:n.value.creationTimestamp},null,8,["value"])])):(0,r.Q3)("",!0),(0,r.eW)(),n.value.showPodRestarts?((0,r.uX)(),(0,r.CE)("span",D,[(0,r.eW)((0,i.toDisplayString)(t.t("resourceDetail.masthead.restartCount"))+":",1),(0,r.Lk)("span",T,(0,i.toDisplayString)(n.value.restartCount),1)])):(0,r.Q3)("",!0)]))]),(0,r.eW)(),(0,r.RG)(t.$slots,"right",{},(()=>[(0,r.Lk)("div",L,[(0,r.Lk)("div",X,[s.detailsAction&&s.currentView===a.DETAIL_VIEW&&s.isView?((0,r.uX)(),(0,r.CE)("button",{key:0,type:"button",class:"btn role-primary actions mr-10",disabled:!s.detailsAction.enabled,onClick:e[0]||(e[0]=(...t)=>s.invokeDetailsAction&&s.invokeDetailsAction(...t))},(0,i.toDisplayString)(s.detailsAction.label),9,z)):(0,r.Q3)("",!0),(0,r.eW)(),s.showSensitiveToggle?((0,r.uX)(),(0,r.Wv)(p,{key:1,value:!!s.hideSensitiveData,"icon-size":"lg",options:s.sensitiveOptions,class:"mr-10","onUpdate:value":s.toggleSensitiveData},null,8,["value","options","onUpdate:value"])):(0,r.Q3)("",!0),(0,r.eW)(),s.viewOptions&&s.isView?((0,r.uX)(),(0,r.Wv)(p,{key:2,value:s.currentView,"onUpdate:value":e[1]||(e[1]=t=>s.currentView=t),options:s.viewOptions,class:"mr-10"},null,8,["value","options"])):(0,r.Q3)("",!0),(0,r.eW)(),s.isView?((0,r.uX)(),(0,r.CE)("button",{key:3,ref:"actions","data-testid":"mathead-action-menu","aria-haspopup":"true",type:"button",class:"btn role-multi-action actions",onClick:e[2]||(e[2]=(...t)=>s.showActions&&s.showActions(...t))},I,512)):(0,r.Q3)("",!0)])])]),!0)]),(0,r.eW)(),(0,r.bF)(d,{resource:n.value,type:a.extensionType,location:a.extensionLocation},null,8,["resource","type","location"]),(0,r.eW)(),s.banner&&s.isView&&!s.parent.hideBanner?((0,r.uX)(),(0,r.Wv)(v,{key:0,class:"state-banner mb-10",color:s.banner.color,label:s.banner.message},null,8,["color","label"])):(0,r.Q3)("",!0),(0,r.eW)(),s.managedWarning.show?((0,r.uX)(),(0,r.Wv)(v,{key:1,color:"warning",class:"mb-20",label:t.t("resourceDetail.masthead.managedWarning",s.managedWarning)},null,8,["label"])):(0,r.Q3)("",!0),(0,r.eW)(),(0,r.RG)(t.$slots,"default",{},void 0,!0)])}var P=n(68497),q=n(63788),R=n(82964),j=n(17899),H=n(13097),F=n(19572),Y=n(97486),B=n(67576),V=n(1978),Q=n(98914);const U={name:"MastheadResourceDetail",components:{BadgeState:R.j,Banner:j.l,ButtonGroup:q.A,ExtensionPanel:V.A,TabTitle:Q.A},props:{value:{type:Object,default:()=>({})},mode:{type:String,default:"create"},realMode:{type:String,default:"create"},as:{type:String,default:d.zD},hasGraph:{type:Boolean,default:!1},hasDetail:{type:Boolean,default:!1},hasEdit:{type:Boolean,default:!1},storeOverride:{type:String,default:null},resource:{type:String,default:null},resourceSubtype:{type:String,default:null},parentRouteOverride:{type:String,default:null},canViewYaml:{type:Boolean,default:!1}},data(){return{DETAIL_VIEW:d.fS,extensionType:B.c7.PANEL,extensionLocation:B.W7.DETAILS_MASTHEAD}},computed:{schema(){const t=this.storeOverride||this.$store.getters["currentStore"](this.resource);return this.$store.getters[`${t}/schemaFor`](this.resource)},isView(){return this.mode===d.nW},isEdit(){return this.mode===d.G5},isCreate(){return this.mode===d.YQ},isNamespace(){return this.schema?.id===v.CU},isProject(){return this.schema?.id===v.Mc.PROJECT},isProjectHelmChart(){return this.schema?.id===v.fj.PROJECTHELMCHART},hasMultipleNamespaces(){return!!this.value.namespaces},namespace(){return this.value?.metadata?.namespace?this.value?.metadata?.namespace:null},detailsAction(){return this.value?.detailsAction},shouldHifenize(){return("view"===this.mode||"edit"===this.mode)&&this.resourceSubtype?.length&&this.value?.nameDisplay?.length},namespaceLocation(){return this.isNamespace?null:this.value.namespaceLocation||{name:"c-cluster-product-resource-id",params:{cluster:this.$route.params.cluster,product:this.$store.getters["productId"],resource:v.CU,id:this.$route.params.namespace}}},isWorkspace(){return this.$store.getters["productId"]===F.NAME&&!!this.value?.metadata?.namespace},workspaceLocation(){return{name:"c-cluster-product-resource-id",params:{cluster:this.$route.params.cluster,product:this.$store.getters["productId"],resource:v.Hs.WORKSPACE,id:this.$route.params.namespace}}},project(){if(this.isNamespace){const t=this.$store.getters["currentCluster"];if(t){const e=(this.value?.metadata?.labels||{})[P.yl];return this.$store.getters["management/byId"](v.Mc.PROJECT,`${t.id}/${e}`)}}return null},banner(){if(this.value?.stateObj?.error){const t=this.t("resourceDetail.masthead.defaultBannerMessage.error",void 0,!0);return{color:"error",message:this.value.stateObj.message||t}}if(this.value?.spec?.paused)return{color:"info",message:this.t("asyncButton.pause.description")};if(this.value?.stateObj?.transitioning){const t=this.t("resourceDetail.masthead.defaultBannerMessage.transitioning",void 0,!0);return{color:"info",message:this.value.stateObj.message||t}}return null},parent(){const t=this.value?.parentNameOverride||this.$store.getters["type-map/labelFor"](this.schema),e=this.$store.getters["currentProduct"].name,n={name:"c-cluster-product-resource",params:{resource:this.resource,product:e}},r=this.value?.parentLocationOverride||n;this.parentRouteOverride&&(r.name=this.parentRouteOverride);const i=this.$store.getters["type-map/optionsFor"](this.resource),o={displayName:t,location:r,...i};return o},hideSensitiveData(){return this.$store.getters["prefs/get"](Y.HIDE_SENSITIVE)},sensitiveOptions(){return[{tooltipKey:"resourceDetail.masthead.sensitive.hide",icon:"icon-hide",value:!0},{tooltipKey:"resourceDetail.masthead.sensitive.show",icon:"icon-show",value:!1}]},viewOptions(){const t=[];return this.hasDetail&&t.push({labelKey:"resourceDetail.masthead.detail",value:d.fS}),this.hasEdit&&!1!==this.parent?.showConfigView&&t.push({labelKey:"resourceDetail.masthead.config",value:d.au}),this.hasGraph&&t.push({labelKey:"resourceDetail.masthead.graph",value:d.Yq}),this.canViewYaml&&t.push({labelKey:"resourceDetail.masthead.yaml",value:d.zD}),t.length<2?null:t},currentView:{get(){return this.as},set(t){switch(t){case d.fS:this.$router.applyQuery({[d.g]:d.xz,[d.AS]:d.xz});break;case d.au:this.$router.applyQuery({[d.g]:d.xz,[d.AS]:d.au});break;case d.Yq:this.$router.applyQuery({[d.g]:d.xz,[d.AS]:d.Yq});break;case d.zD:this.$router.applyQuery({[d.g]:d.xz,[d.AS]:d.zD});break}}},showSensitiveToggle(){return!!this.value.hasSensitiveData&&this.mode===d.nW&&this.as!==d.zD},managedWarning(){const{value:t}=this,e=t?.metadata?.labels||{},n=e[P.pS.MANAGED_BY]||"",r=e[P.pS.MANAGED_NAME]||e[P.pS.INSTANCE]||"";return{show:this.mode===d.G5&&!!n,type:t?.kind||"",hasName:r?"yes":"no",appName:r,managedBy:n}},displayName(){let t=this.value.nameDisplay;return this.isProjectHelmChart&&(t=this.value.projectDisplayName),this.shouldHifenize?` - ${t}`:t},location(){const{parent:t}=this;return t?.location},hideNamespaceLocation(){return this.$store.getters["currentProduct"].hideNamespaceLocation||null===this.value.namespaceLocation}},methods:{get:H.get,showActions(){this.$store.commit("action-menu/show",{resources:this.value,elem:this.$refs.actions})},toggleSensitiveData(t){this.$store.dispatch("prefs/set",{key:Y.HIDE_SENSITIVE,value:!!t})},invokeDetailsAction(){const t=this.detailsAction;if(t){const e=this.value[t.action];e&&e.apply(this.value,[])}}}};n(4398);var G=n(66262);const K=(0,G.A)(U,[["render",W],["__scopeId","data-v-6f77d67a"]]),Z=K;var J=n(53751);const tt={key:0,class:"labels"},et={class:"label"},nt={key:1,class:"description"},rt={class:"label"},it={class:"content"},ot={key:2},at={class:"label"},st={key:1},ut={key:3,class:"labels"},lt={class:"tags"},ct={class:"label"},ht={key:1},ft={key:0},pt={key:2},dt={key:4,class:"annotations"},vt={class:"label"},gt={key:0};function yt(t,e,n,o,a,s){const u=(0,r.g2)("router-link"),l=(0,r.g2)("Tag"),c=(0,r.g2)("DetailText"),h=(0,r.g2)("ExtensionPanel"),f=(0,r.gN)("clean-tooltip");return(0,r.uX)(),(0,r.CE)("div",{class:(0,i.normalizeClass)(["detail-top",{empty:s.isEmpty}])},[s.hasNamespaces?((0,r.uX)(),(0,r.CE)("div",tt,[(0,r.Lk)("span",et,(0,i.toDisplayString)(t.t("resourceDetail.detailTop.namespaces"))+":\n      ",1),(0,r.eW)(),(0,r.Lk)("span",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(s.namespaces,(t=>((0,r.uX)(),(0,r.Wv)(u,{key:t.name,to:t.detailLocation,class:"namespaceLinkList"},{default:(0,r.k6)((()=>[(0,r.eW)((0,i.toDisplayString)(t.name),1)])),_:2},1032,["to"])))),128))])])):(0,r.Q3)("",!0),(0,r.eW)(),s.description?((0,r.uX)(),(0,r.CE)("div",nt,[(0,r.Lk)("span",rt,(0,i.toDisplayString)(t.t("resourceDetail.detailTop.description"))+":\n      ",1),(0,r.eW)(),(0,r.Lk)("span",it,(0,i.toDisplayString)(s.description),1)])):(0,r.Q3)("",!0),(0,r.eW)(),s.hasDetails?((0,r.uX)(),(0,r.CE)("div",ot,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(s.details,((t,e)=>((0,r.uX)(),(0,r.CE)("div",{key:e,class:"details"},[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(t,((t,e)=>((0,r.uX)(),(0,r.CE)("div",{key:e,class:"detail"},[(0,r.Lk)("span",at,(0,i.toDisplayString)(t.label)+":\n          ",1),(0,r.eW)(),t.formatter?((0,r.uX)(),(0,r.Wv)((0,r.$y)(t.formatter),(0,r.v6)({key:0,value:t.content},t.formatterOpts),null,16,["value"])):((0,r.uX)(),(0,r.CE)("span",st,(0,i.toDisplayString)(t.content),1))])))),128))])))),128))])):(0,r.Q3)("",!0),(0,r.eW)(),s.hasLabels?((0,r.uX)(),(0,r.CE)("div",ut,[(0,r.Lk)("div",lt,[(0,r.Lk)("span",ct,(0,i.toDisplayString)(t.t("resourceDetail.detailTop.labels"))+":\n        ",1),(0,r.eW)(),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(s.labels,((t,e)=>((0,r.uX)(),(0,r.Wv)(l,{key:e},{default:(0,r.k6)((()=>[s.internalIcons[e]?((0,r.uX)(),(0,r.CE)("i",{key:0,class:(0,i.normalizeClass)(["icon",s.internalIcons[e]])},null,2)):(0,r.Q3)("",!0),(0,r.eW)(),s.internalTooltips[e]?(0,r.bo)(((0,r.uX)(),(0,r.CE)("span",ht,[(0,r.Lk)("span",null,(0,i.toDisplayString)(s.internalTooltips[e]?s.internalTooltips[e]:e),1),(0,r.eW)(),a.showAllLabels?((0,r.uX)(),(0,r.CE)("span",ft,": "+(0,i.toDisplayString)(e),1)):(0,r.Q3)("",!0)])),[[f,t?`${e} : ${t}`:e]]):((0,r.uX)(),(0,r.CE)("span",pt,(0,i.toDisplayString)(t?`${e} : ${t}`:e),1))])),_:2},1024)))),128)),(0,r.eW)(),s.showFilteredSystemLabels?((0,r.uX)(),(0,r.CE)("a",{key:0,href:"#",class:"detail-top__label-button",onClick:e[0]||(e[0]=(0,J.withModifiers)(((...t)=>s.toggleLabels&&s.toggleLabels(...t)),["prevent"]))},(0,i.toDisplayString)(t.t("resourceDetail.detailTop."+(a.showAllLabels?"hideLabels":"showLabels"))),1)):(0,r.Q3)("",!0)])])):(0,r.Q3)("",!0),(0,r.eW)(),s.hasAnnotations?((0,r.uX)(),(0,r.CE)("div",dt,[(0,r.Lk)("span",vt,(0,i.toDisplayString)(t.t("resourceDetail.detailTop.annotations"))+":\n      ",1),(0,r.eW)(),(0,r.Lk)("a",{href:"#",onClick:e[1]||(e[1]=(0,J.withModifiers)(((...t)=>s.toggleAnnotations&&s.toggleAnnotations(...t)),["prevent"]))},(0,i.toDisplayString)(t.t("resourceDetail.detailTop."+(a.annotationsVisible?"hideAnnotations":"showAnnotations"),{annotations:s.annotationCount})),1),(0,r.eW)(),a.annotationsVisible?((0,r.uX)(),(0,r.CE)("div",gt,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(s.annotations,((t,e)=>((0,r.uX)(),(0,r.Wv)(c,{key:e,class:"annotation",value:t,label:e},null,8,["value","label"])))),128))])):(0,r.Q3)("",!0)])):(0,r.Q3)("",!0),(0,r.eW)(),(0,r.bF)(h,{resource:n.value,type:a.extensionType,location:a.extensionLocation},null,8,["resource","type","location"])],2)}var mt=n(84565),wt=n(62193),_t=n.n(wt),bt=n(84122);const xt={components:{DetailText:bt.A,Tag:mt.A,ExtensionPanel:V.A},props:{value:{type:Object,default:()=>({})},moreDetails:{type:Array,default:()=>[]},tooltips:{type:Object,default:()=>({})},icons:{type:Object,default:()=>({})}},data(){return{extensionType:B.c7.PANEL,extensionLocation:B.W7.DETAIL_TOP,annotationsVisible:!1,showAllLabels:!1,view:d.nW}},computed:{namespaces(){return(this.value?.namespaces||[]).map((t=>({name:t?.metadata?.name,detailLocation:t.detailLocation})))},details(){const t=[...this.moreDetails||[],...this.value?.details||[]].filter((t=>t.separator||!!`${t.content}`&&void 0!==t.content&&null!==t.content)),e=[];let n=[];return t.forEach((t=>{t.separator?(e.push(n),n=[]):n.push(t)})),n.length&&e.push(n),e},labels(){return this.showFilteredSystemLabels?this.value?.filteredSystemLabels:this.value?.labels||{}},internalTooltips(){return this.value?.detailTopTooltips||this.tooltips},internalIcons(){return this.value?.detailTopIcons||this.icons},annotations(){return this.value?.annotations||{}},description(){return this.value?.description},hasDetails(){return!_t()(this.details)},hasLabels(){return!_t()(this.labels)},hasAnnotations(){return!_t()(this.annotations)},hasDescription(){return!_t()(this.description)},hasNamespaces(){return!_t()(this.namespaces)},annotationCount(){return Object.keys(this.annotations||{}).length},isEmpty(){const t=this.hasDetails||this.hasLabels||this.hasAnnotations||this.hasDescription||this.hasNamespaces;return!t},showFilteredSystemLabels(){if(this.value?.labels&&this.value?.filteredSystemLabels){const t=Object.keys(this.value.labels).length,e=Object.keys(this.value.filteredSystemLabels).length;return t!==e}return!1}},methods:{toggleLabels(){this.showAllLabels=!this.showAllLabels},toggleAnnotations(t){this.annotationsVisible=!this.annotationsVisible}}};n(61774);const kt=(0,G.A)(xt,[["render",yt]]),At=kt;var Et=n(6789);const Nt={class:"chart-container","data-testid":"gitrepo_graph"},Ct={key:0,class:"loading-container"},St=(0,r.Lk)("i",{class:"mt-10 icon-spinner icon-spin"},null,-1),Mt=(0,r.Lk)("div",{id:"tree"},null,-1),$t={class:"more-info-container"},Dt={class:"more-info"},Tt={class:"more-info-item-label"},Lt={key:1},Xt={key:0},zt={key:1},Ot={key:2,class:"align-middle"},It={key:3,class:"single-error",colspan:"2"},Wt={key:4};function Pt(t,e,n,o,a,s){const u=(0,r.g2)("router-link"),l=(0,r.g2)("BadgeState");return(0,r.uX)(),(0,r.CE)("div",null,[(0,r.Lk)("div",Nt,[a.isChartFirstRenderAnimationFinished?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("div",Ct,[(0,r.bo)((0,r.Lk)("p",null,(0,i.toDisplayString)(t.t("fleet.fdc.loadingChart")),513),[[J.vShow,!a.isChartFirstRendered]]),(0,r.eW)(),(0,r.bo)((0,r.Lk)("p",null,(0,i.toDisplayString)(t.t("fleet.fdc.renderingChart")),513),[[J.vShow,a.isChartFirstRendered&&!a.isChartFirstRenderAnimationFinished]]),(0,r.eW)(),St])),(0,r.eW)(),Mt,(0,r.eW)(),(0,r.Lk)("div",$t,[(0,r.Lk)("div",Dt,[(0,r.Lk)("table",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(a.moreInfo,((e,n)=>((0,r.uX)(),(0,r.CE)("tr",{key:n},["single-error"!==e.type?((0,r.uX)(),(0,r.CE)("td",{key:0,class:(0,i.normalizeClass)({"align-middle":"state-badge"===e.type})},[(0,r.Lk)("span",Tt,(0,i.toDisplayString)(t.t(e.labelKey))+":",1)],2)):(0,r.Q3)("",!0),(0,r.eW)(),"title-link"===e.type?((0,r.uX)(),(0,r.CE)("td",Lt,[e.valueObj.detailLocation?((0,r.uX)(),(0,r.CE)("span",Xt,[(0,r.bF)(u,{to:e.valueObj.detailLocation},{default:(0,r.k6)((()=>[(0,r.eW)((0,i.toDisplayString)(e.valueObj.id),1)])),_:2},1032,["to"])])):((0,r.uX)(),(0,r.CE)("span",zt,(0,i.toDisplayString)(e.valueObj.id),1))])):"state-badge"===e.type?((0,r.uX)(),(0,r.CE)("td",Ot,[(0,r.Lk)("span",null,[(0,r.bF)(l,{color:`bg-${e.valueObj.stateColor}`,label:e.valueObj.stateLabel,class:"state-bagde"},null,8,["color","label"])])])):(0,r.Q3)("",!0),(0,r.eW)(),"single-error"===e.type?((0,r.uX)(),(0,r.CE)("td",It,[(0,r.Lk)("p",null,(0,i.toDisplayString)(e.value),1)])):((0,r.uX)(),(0,r.CE)("td",Wt,(0,i.toDisplayString)(e.value),1))])))),128))])])])])])}function qt(){}function Rt(t){return null==t?qt:function(){return this.querySelector(t)}}function jt(t){"function"!==typeof t&&(t=Rt(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a,s=e[i],u=s.length,l=r[i]=new Array(u),c=0;c<u;++c)(o=s[c])&&(a=t.call(o,o.__data__,c,s))&&("__data__"in o&&(a.__data__=o.__data__),l[c]=a);return new In(r,this._parents)}function Ht(t){return null==t?[]:Array.isArray(t)?t:Array.from(t)}function Ft(){return[]}function Yt(t){return null==t?Ft:function(){return this.querySelectorAll(t)}}function Bt(t){return function(){return Ht(t.apply(this,arguments))}}function Vt(t){t="function"===typeof t?Bt(t):Yt(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a,s=e[o],u=s.length,l=0;l<u;++l)(a=s[l])&&(r.push(t.call(a,a.__data__,l,s)),i.push(a));return new In(r,i)}function Qt(t){return function(){return this.matches(t)}}function Ut(t){return function(e){return e.matches(t)}}var Gt=Array.prototype.find;function Kt(t){return function(){return Gt.call(this.children,t)}}function Zt(){return this.firstElementChild}function Jt(t){return this.select(null==t?Zt:Kt("function"===typeof t?t:Ut(t)))}var te=Array.prototype.filter;function ee(){return Array.from(this.children)}function ne(t){return function(){return te.call(this.children,t)}}function re(t){return this.selectAll(null==t?ee:ne("function"===typeof t?t:Ut(t)))}function ie(t){"function"!==typeof t&&(t=Qt(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,u=r[i]=[],l=0;l<s;++l)(o=a[l])&&t.call(o,o.__data__,l,a)&&u.push(o);return new In(r,this._parents)}function oe(t){return new Array(t.length)}function ae(){return new In(this._enter||this._groups.map(oe),this._parents)}function se(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function ue(t){return function(){return t}}function le(t,e,n,r,i,o){for(var a,s=0,u=e.length,l=o.length;s<l;++s)(a=e[s])?(a.__data__=o[s],r[s]=a):n[s]=new se(t,o[s]);for(;s<u;++s)(a=e[s])&&(i[s]=a)}function ce(t,e,n,r,i,o,a){var s,u,l,c=new Map,h=e.length,f=o.length,p=new Array(h);for(s=0;s<h;++s)(u=e[s])&&(p[s]=l=a.call(u,u.__data__,s,e)+"",c.has(l)?i[s]=u:c.set(l,u));for(s=0;s<f;++s)l=a.call(t,o[s],s,o)+"",(u=c.get(l))?(r[s]=u,u.__data__=o[s],c.delete(l)):n[s]=new se(t,o[s]);for(s=0;s<h;++s)(u=e[s])&&c.get(p[s])===u&&(i[s]=u)}function he(t){return t.__data__}function fe(t,e){if(!arguments.length)return Array.from(this,he);var n=e?ce:le,r=this._parents,i=this._groups;"function"!==typeof t&&(t=ue(t));for(var o=i.length,a=new Array(o),s=new Array(o),u=new Array(o),l=0;l<o;++l){var c=r[l],h=i[l],f=h.length,p=pe(t.call(c,c&&c.__data__,l,r)),d=p.length,v=s[l]=new Array(d),g=a[l]=new Array(d),y=u[l]=new Array(f);n(c,h,v,g,y,p,e);for(var m,w,_=0,b=0;_<d;++_)if(m=v[_]){_>=b&&(b=_+1);while(!(w=g[b])&&++b<d);m._next=w||null}}return a=new In(a,r),a._enter=s,a._exit=u,a}function pe(t){return"object"===typeof t&&"length"in t?t:Array.from(t)}function de(){return new In(this._exit||this._groups.map(oe),this._parents)}function ve(t,e,n){var r=this.enter(),i=this,o=this.exit();return"function"===typeof t?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),null!=e&&(i=e(i),i&&(i=i.selection())),null==n?o.remove():n(o),r&&i?r.merge(i).order():i}function ge(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,o=r.length,a=Math.min(i,o),s=new Array(i),u=0;u<a;++u)for(var l,c=n[u],h=r[u],f=c.length,p=s[u]=new Array(f),d=0;d<f;++d)(l=c[d]||h[d])&&(p[d]=l);for(;u<i;++u)s[u]=n[u];return new In(s,this._parents)}function ye(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this}function me(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=we);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a,s=n[o],u=s.length,l=i[o]=new Array(u),c=0;c<u;++c)(a=s[c])&&(l[c]=a);l.sort(e)}return new In(i,this._parents).order()}function we(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function _e(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function be(){return Array.from(this)}function xe(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null}function ke(){let t=0;for(const e of this)++t;return t}function Ae(){return!this.node()}function Ee(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],a=0,s=o.length;a<s;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this}se.prototype={constructor:se,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var Ne="http://www.w3.org/1999/xhtml";const Ce={svg:"http://www.w3.org/2000/svg",xhtml:Ne,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Se(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),Ce.hasOwnProperty(e)?{space:Ce[e],local:t}:t}function Me(t){return function(){this.removeAttribute(t)}}function $e(t){return function(){this.removeAttributeNS(t.space,t.local)}}function De(t,e){return function(){this.setAttribute(t,e)}}function Te(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Le(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function Xe(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function ze(t,e){var n=Se(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?$e:Me:"function"===typeof e?n.local?Xe:Le:n.local?Te:De)(n,e))}function Oe(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Ie(t){return function(){this.style.removeProperty(t)}}function We(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Pe(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function qe(t,e,n){return arguments.length>1?this.each((null==e?Ie:"function"===typeof e?Pe:We)(t,e,null==n?"":n)):Re(this.node(),t)}function Re(t,e){return t.style.getPropertyValue(e)||Oe(t).getComputedStyle(t,null).getPropertyValue(e)}function je(t){return function(){delete this[t]}}function He(t,e){return function(){this[t]=e}}function Fe(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function Ye(t,e){return arguments.length>1?this.each((null==e?je:"function"===typeof e?Fe:He)(t,e)):this.node()[t]}function Be(t){return t.trim().split(/^|\s+/)}function Ve(t){return t.classList||new Qe(t)}function Qe(t){this._node=t,this._names=Be(t.getAttribute("class")||"")}function Ue(t,e){var n=Ve(t),r=-1,i=e.length;while(++r<i)n.add(e[r])}function Ge(t,e){var n=Ve(t),r=-1,i=e.length;while(++r<i)n.remove(e[r])}function Ke(t){return function(){Ue(this,t)}}function Ze(t){return function(){Ge(this,t)}}function Je(t,e){return function(){(e.apply(this,arguments)?Ue:Ge)(this,t)}}function tn(t,e){var n=Be(t+"");if(arguments.length<2){var r=Ve(this.node()),i=-1,o=n.length;while(++i<o)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"===typeof e?Je:e?Ke:Ze)(n,e))}function en(){this.textContent=""}function nn(t){return function(){this.textContent=t}}function rn(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function on(t){return arguments.length?this.each(null==t?en:("function"===typeof t?rn:nn)(t)):this.node().textContent}function an(){this.innerHTML=""}function sn(t){return function(){this.innerHTML=t}}function un(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function ln(t){return arguments.length?this.each(null==t?an:("function"===typeof t?un:sn)(t)):this.node().innerHTML}function cn(){this.nextSibling&&this.parentNode.appendChild(this)}function hn(){return this.each(cn)}function fn(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function pn(){return this.each(fn)}function dn(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Ne&&e.documentElement.namespaceURI===Ne?e.createElement(t):e.createElementNS(n,t)}}function vn(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function gn(t){var e=Se(t);return(e.local?vn:dn)(e)}function yn(t){var e="function"===typeof t?t:gn(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))}function mn(){return null}function wn(t,e){var n="function"===typeof t?t:gn(t),r=null==e?mn:"function"===typeof e?e:Rt(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))}function _n(){var t=this.parentNode;t&&t.removeChild(this)}function bn(){return this.each(_n)}function xn(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function kn(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function An(t){return this.select(t?kn:xn)}function En(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Nn(t){return function(e){t.call(this,e,this.__data__)}}function Cn(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function Sn(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.options);++i?e.length=i:delete this.__on}}}function Mn(t,e,n){return function(){var r,i=this.__on,o=Nn(e);if(i)for(var a=0,s=i.length;a<s;++a)if((r=i[a]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=n),void(r.value=e);this.addEventListener(t.type,o,n),r={type:t.type,name:t.name,value:e,listener:o,options:n},i?i.push(r):this.__on=[r]}}function $n(t,e,n){var r,i,o=Cn(t+""),a=o.length;if(!(arguments.length<2)){for(s=e?Mn:Sn,r=0;r<a;++r)this.each(s(o[r],e,n));return this}var s=this.node().__on;if(s)for(var u,l=0,c=s.length;l<c;++l)for(r=0,u=s[l];r<a;++r)if((i=o[r]).type===u.type&&i.name===u.name)return u.value}function Dn(t,e,n){var r=Oe(t),i=r.CustomEvent;"function"===typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function Tn(t,e){return function(){return Dn(this,t,e)}}function Ln(t,e){return function(){return Dn(this,t,e.apply(this,arguments))}}function Xn(t,e){return this.each(("function"===typeof e?Ln:Tn)(t,e))}function*zn(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r,i=t[e],o=0,a=i.length;o<a;++o)(r=i[o])&&(yield r)}Qe.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var On=[null];function In(t,e){this._groups=t,this._parents=e}function Wn(){return new In([[document.documentElement]],On)}function Pn(){return this}In.prototype=Wn.prototype={constructor:In,select:jt,selectAll:Vt,selectChild:Jt,selectChildren:re,filter:ie,data:fe,enter:ae,exit:de,join:ve,merge:ge,selection:Pn,order:ye,sort:me,call:_e,nodes:be,node:xe,size:ke,empty:Ae,each:Ee,attr:ze,style:qe,property:Ye,classed:tn,text:on,html:ln,raise:hn,lower:pn,append:yn,insert:wn,remove:bn,clone:An,datum:En,on:$n,dispatch:Xn,[Symbol.iterator]:zn};const qn=Wn;var Rn={value:()=>{}};function jn(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new Hn(r)}function Hn(t){this._=t}function Fn(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function Yn(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function Bn(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=Rn,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}Hn.prototype=jn.prototype={constructor:Hn,on:function(t,e){var n,r=this._,i=Fn(t+"",r),o=-1,a=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!==typeof e)throw new Error("invalid callback: "+e);while(++o<a)if(n=(t=i[o]).type)r[n]=Bn(r[n],t.name,e);else if(null==e)for(n in r)r[n]=Bn(r[n],t.name,null);return this}while(++o<a)if((n=(t=i[o]).type)&&(n=Yn(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Hn(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(r=this._[t],o=0,n=r.length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};const Vn=jn;var Qn,Un,Gn=0,Kn=0,Zn=0,Jn=1e3,tr=0,er=0,nr=0,rr="object"===typeof performance&&performance.now?performance:Date,ir="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function or(){return er||(ir(ar),er=rr.now()+nr)}function ar(){er=0}function sr(){this._call=this._time=this._next=null}function ur(t,e,n){var r=new sr;return r.restart(t,e,n),r}function lr(){or(),++Gn;var t,e=Qn;while(e)(t=er-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Gn}function cr(){er=(tr=rr.now())+nr,Gn=Kn=0;try{lr()}finally{Gn=0,fr(),er=0}}function hr(){var t=rr.now(),e=t-tr;e>Jn&&(nr-=e,tr=t)}function fr(){var t,e,n=Qn,r=1/0;while(n)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Qn=e);Un=t,pr(r)}function pr(t){if(!Gn){Kn&&(Kn=clearTimeout(Kn));var e=t-er;e>24?(t<1/0&&(Kn=setTimeout(cr,t-rr.now()-nr)),Zn&&(Zn=clearInterval(Zn))):(Zn||(tr=rr.now(),Zn=setInterval(hr,Jn)),Gn=1,ir(cr))}}function dr(t,e,n){var r=new sr;return e=null==e?0:+e,r.restart((n=>{r.stop(),t(n+e)}),e,n),r}sr.prototype=ur.prototype={constructor:sr,restart:function(t,e,n){if("function"!==typeof t)throw new TypeError("callback is not a function");n=(null==n?or():+n)+(null==e?0:+e),this._next||Un===this||(Un?Un._next=this:Qn=this,Un=this),this._call=t,this._time=n,pr()},stop:function(){this._call&&(this._call=null,this._time=1/0,pr())}};var vr=Vn("start","end","cancel","interrupt"),gr=[],yr=0,mr=1,wr=2,_r=3,br=4,xr=5,kr=6;function Ar(t,e,n,r,i,o){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};Sr(t,n,{name:e,index:r,group:i,on:vr,tween:gr,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:yr})}function Er(t,e){var n=Cr(t,e);if(n.state>yr)throw new Error("too late; already scheduled");return n}function Nr(t,e){var n=Cr(t,e);if(n.state>_r)throw new Error("too late; already running");return n}function Cr(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Sr(t,e,n){var r,i=t.__transition;function o(t){n.state=mr,n.timer.restart(a,n.delay,n.time),n.delay<=t&&a(t-n.delay)}function a(o){var l,c,h,f;if(n.state!==mr)return u();for(l in i)if(f=i[l],f.name===n.name){if(f.state===_r)return dr(a);f.state===br?(f.state=kr,f.timer.stop(),f.on.call("interrupt",t,t.__data__,f.index,f.group),delete i[l]):+l<e&&(f.state=kr,f.timer.stop(),f.on.call("cancel",t,t.__data__,f.index,f.group),delete i[l])}if(dr((function(){n.state===_r&&(n.state=br,n.timer.restart(s,n.delay,n.time),s(o))})),n.state=wr,n.on.call("start",t,t.__data__,n.index,n.group),n.state===wr){for(n.state=_r,r=new Array(h=n.tween.length),l=0,c=-1;l<h;++l)(f=n.tween[l].value.call(t,t.__data__,n.index,n.group))&&(r[++c]=f);r.length=c+1}}function s(e){var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(u),n.state=xr,1),o=-1,a=r.length;while(++o<a)r[o].call(t,i);n.state===xr&&(n.on.call("end",t,t.__data__,n.index,n.group),u())}function u(){for(var r in n.state=kr,n.timer.stop(),delete i[e],i)return;delete t.__transition}i[e]=n,n.timer=ur(o,0,n.time)}function Mr(t,e){var n,r,i,o=t.__transition,a=!0;if(o){for(i in e=null==e?null:e+"",o)(n=o[i]).name===e?(r=n.state>wr&&n.state<xr,n.state=kr,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete o[i]):a=!1;a&&delete t.__transition}}function $r(t){return this.each((function(){Mr(this,t)}))}function Dr(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var Tr,Lr=180/Math.PI,Xr={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function zr(t,e,n,r,i,o){var a,s,u;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,u/=s),t*r<e*n&&(t=-t,e=-e,u=-u,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*Lr,skewX:Math.atan(u)*Lr,scaleX:a,scaleY:s}}function Or(t){const e=new("function"===typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Xr:zr(e.a,e.b,e.c,e.d,e.e,e.f)}function Ir(t){return null==t?Xr:(Tr||(Tr=document.createElementNS("http://www.w3.org/2000/svg","g")),Tr.setAttribute("transform",t),(t=Tr.transform.baseVal.consolidate())?(t=t.matrix,zr(t.a,t.b,t.c,t.d,t.e,t.f)):Xr)}function Wr(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}function o(t,r,i,o,a,s){if(t!==i||r!==o){var u=a.push("translate(",null,e,null,n);s.push({i:u-4,x:Dr(t,i)},{i:u-2,x:Dr(r,o)})}else(i||o)&&a.push("translate("+i+e+o+n)}function a(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:Dr(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}function s(t,e,n,o){t!==e?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:Dr(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}function u(t,e,n,r,o,a){if(t!==n||e!==r){var s=o.push(i(o)+"scale(",null,",",null,")");a.push({i:s-4,x:Dr(t,n)},{i:s-2,x:Dr(e,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}return function(e,n){var r=[],i=[];return e=t(e),n=t(n),o(e.translateX,e.translateY,n.translateX,n.translateY,r,i),a(e.rotate,n.rotate,r,i),s(e.skewX,n.skewX,r,i),u(e.scaleX,e.scaleY,n.scaleX,n.scaleY,r,i),e=n=null,function(t){var e,n=-1,o=i.length;while(++n<o)r[(e=i[n]).i]=e.x(t);return r.join("")}}}var Pr=Wr(Or,"px, ","px)","deg)"),qr=Wr(Ir,", ",")",")");function Rr(t,e){var n,r;return function(){var i=Nr(this,t),o=i.tween;if(o!==n){r=n=o;for(var a=0,s=r.length;a<s;++a)if(r[a].name===e){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function jr(t,e,n){var r,i;if("function"!==typeof n)throw new Error;return function(){var o=Nr(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:e,value:n},u=0,l=i.length;u<l;++u)if(i[u].name===e){i[u]=s;break}u===l&&i.push(s)}o.tween=i}}function Hr(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=Cr(this.node(),n).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==e?Rr:jr)(n,t,e))}function Fr(t,e,n){var r=t._id;return t.each((function(){var t=Nr(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return Cr(t,r).value[e]}}function Yr(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Br(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Vr(){}var Qr=.7,Ur=1/Qr,Gr="\\s*([+-]?\\d+)\\s*",Kr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Zr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Jr=/^#([0-9a-f]{3,8})$/,ti=new RegExp(`^rgb\\(${Gr},${Gr},${Gr}\\)$`),ei=new RegExp(`^rgb\\(${Zr},${Zr},${Zr}\\)$`),ni=new RegExp(`^rgba\\(${Gr},${Gr},${Gr},${Kr}\\)$`),ri=new RegExp(`^rgba\\(${Zr},${Zr},${Zr},${Kr}\\)$`),ii=new RegExp(`^hsl\\(${Kr},${Zr},${Zr}\\)$`),oi=new RegExp(`^hsla\\(${Kr},${Zr},${Zr},${Kr}\\)$`),ai={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function si(){return this.rgb().formatHex()}function ui(){return this.rgb().formatHex8()}function li(){return Ai(this).formatHsl()}function ci(){return this.rgb().formatRgb()}function hi(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Jr.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?fi(e):3===n?new gi(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?pi(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?pi(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=ti.exec(t))?new gi(e[1],e[2],e[3],1):(e=ei.exec(t))?new gi(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=ni.exec(t))?pi(e[1],e[2],e[3],e[4]):(e=ri.exec(t))?pi(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=ii.exec(t))?ki(e[1],e[2]/100,e[3]/100,1):(e=oi.exec(t))?ki(e[1],e[2]/100,e[3]/100,e[4]):ai.hasOwnProperty(t)?fi(ai[t]):"transparent"===t?new gi(NaN,NaN,NaN,0):null}function fi(t){return new gi(t>>16&255,t>>8&255,255&t,1)}function pi(t,e,n,r){return r<=0&&(t=e=n=NaN),new gi(t,e,n,r)}function di(t){return t instanceof Vr||(t=hi(t)),t?(t=t.rgb(),new gi(t.r,t.g,t.b,t.opacity)):new gi}function vi(t,e,n,r){return 1===arguments.length?di(t):new gi(t,e,n,null==r?1:r)}function gi(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function yi(){return`#${xi(this.r)}${xi(this.g)}${xi(this.b)}`}function mi(){return`#${xi(this.r)}${xi(this.g)}${xi(this.b)}${xi(255*(isNaN(this.opacity)?1:this.opacity))}`}function wi(){const t=_i(this.opacity);return`${1===t?"rgb(":"rgba("}${bi(this.r)}, ${bi(this.g)}, ${bi(this.b)}${1===t?")":`, ${t})`}`}function _i(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function bi(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function xi(t){return t=bi(t),(t<16?"0":"")+t.toString(16)}function ki(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Ni(t,e,n,r)}function Ai(t){if(t instanceof Ni)return new Ni(t.h,t.s,t.l,t.opacity);if(t instanceof Vr||(t=hi(t)),!t)return new Ni;if(t instanceof Ni)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,u=(o+i)/2;return s?(a=e===o?(n-r)/s+6*(n<r):n===o?(r-e)/s+2:(e-n)/s+4,s/=u<.5?o+i:2-o-i,a*=60):s=u>0&&u<1?0:a,new Ni(a,s,u,t.opacity)}function Ei(t,e,n,r){return 1===arguments.length?Ai(t):new Ni(t,e,n,null==r?1:r)}function Ni(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Ci(t){return t=(t||0)%360,t<0?t+360:t}function Si(t){return Math.max(0,Math.min(1,t||0))}function Mi(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function $i(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}function Di(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,s=r<e-1?t[r+2]:2*o-i;return $i((n-r/e)*e,a,i,o,s)}}function Ti(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],o=t[r%e],a=t[(r+1)%e],s=t[(r+2)%e];return $i((n-r/e)*e,i,o,a,s)}}Yr(Vr,hi,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:si,formatHex:si,formatHex8:ui,formatHsl:li,formatRgb:ci,toString:ci}),Yr(gi,vi,Br(Vr,{brighter(t){return t=null==t?Ur:Math.pow(Ur,t),new gi(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?Qr:Math.pow(Qr,t),new gi(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new gi(bi(this.r),bi(this.g),bi(this.b),_i(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:yi,formatHex:yi,formatHex8:mi,formatRgb:wi,toString:wi})),Yr(Ni,Ei,Br(Vr,{brighter(t){return t=null==t?Ur:Math.pow(Ur,t),new Ni(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?Qr:Math.pow(Qr,t),new Ni(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new gi(Mi(t>=240?t-240:t+120,i,r),Mi(t,i,r),Mi(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Ni(Ci(this.h),Si(this.s),Si(this.l),_i(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=_i(this.opacity);return`${1===t?"hsl(":"hsla("}${Ci(this.h)}, ${100*Si(this.s)}%, ${100*Si(this.l)}%${1===t?")":`, ${t})`}`}}));const Li=t=>()=>t;function Xi(t,e){return function(n){return t+n*e}}function zi(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Oi(t){return 1===(t=+t)?Ii:function(e,n){return n-e?zi(e,n,t):Li(isNaN(e)?n:e)}}function Ii(t,e){var n=e-t;return n?Xi(t,n):Li(isNaN(t)?e:t)}const Wi=function t(e){var n=Oi(e);function r(t,e){var r=n((t=vi(t)).r,(e=vi(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),a=Ii(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=a(e),t+""}}return r.gamma=t,r}(1);function Pi(t){return function(e){var n,r,i=e.length,o=new Array(i),a=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=vi(e[n]),o[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return o=t(o),a=t(a),s=t(s),r.opacity=1,function(t){return r.r=o(t),r.g=a(t),r.b=s(t),r+""}}}Pi(Di),Pi(Ti);var qi=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ri=new RegExp(qi.source,"g");function ji(t){return function(){return t}}function Hi(t){return function(e){return t(e)+""}}function Fi(t,e){var n,r,i,o=qi.lastIndex=Ri.lastIndex=0,a=-1,s=[],u=[];t+="",e+="";while((n=qi.exec(t))&&(r=Ri.exec(e)))(i=r.index)>o&&(i=e.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,u.push({i:a,x:Dr(n,r)})),o=Ri.lastIndex;return o<e.length&&(i=e.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?u[0]?Hi(u[0].x):ji(e):(e=u.length,function(t){for(var n,r=0;r<e;++r)s[(n=u[r]).i]=n.x(t);return s.join("")})}function Yi(t,e){var n;return("number"===typeof e?Dr:e instanceof hi?Wi:(n=hi(e))?(e=n,Wi):Fi)(t,e)}function Bi(t){return function(){this.removeAttribute(t)}}function Vi(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Qi(t,e,n){var r,i,o=n+"";return function(){var a=this.getAttribute(t);return a===o?null:a===r?i:i=e(r=a,n)}}function Ui(t,e,n){var r,i,o=n+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===r?i:i=e(r=a,n)}}function Gi(t,e,n){var r,i,o;return function(){var a,s,u=n(this);if(null!=u)return a=this.getAttribute(t),s=u+"",a===s?null:a===r&&s===i?o:(i=s,o=e(r=a,u));this.removeAttribute(t)}}function Ki(t,e,n){var r,i,o;return function(){var a,s,u=n(this);if(null!=u)return a=this.getAttributeNS(t.space,t.local),s=u+"",a===s?null:a===r&&s===i?o:(i=s,o=e(r=a,u));this.removeAttributeNS(t.space,t.local)}}function Zi(t,e){var n=Se(t),r="transform"===n?qr:Yi;return this.attrTween(t,"function"===typeof e?(n.local?Ki:Gi)(n,r,Fr(this,"attr."+t,e)):null==e?(n.local?Vi:Bi)(n):(n.local?Ui:Qi)(n,r,e))}function Ji(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function to(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function eo(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&to(t,i)),n}return i._value=e,i}function no(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&Ji(t,i)),n}return i._value=e,i}function ro(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!==typeof e)throw new Error;var r=Se(t);return this.tween(n,(r.local?eo:no)(r,e))}function io(t,e){return function(){Er(this,t).delay=+e.apply(this,arguments)}}function oo(t,e){return e=+e,function(){Er(this,t).delay=e}}function ao(t){var e=this._id;return arguments.length?this.each(("function"===typeof t?io:oo)(e,t)):Cr(this.node(),e).delay}function so(t,e){return function(){Nr(this,t).duration=+e.apply(this,arguments)}}function uo(t,e){return e=+e,function(){Nr(this,t).duration=e}}function lo(t){var e=this._id;return arguments.length?this.each(("function"===typeof t?so:uo)(e,t)):Cr(this.node(),e).duration}function co(t,e){if("function"!==typeof e)throw new Error;return function(){Nr(this,t).ease=e}}function ho(t){var e=this._id;return arguments.length?this.each(co(e,t)):Cr(this.node(),e).ease}function fo(t,e){return function(){var n=e.apply(this,arguments);if("function"!==typeof n)throw new Error;Nr(this,t).ease=n}}function po(t){if("function"!==typeof t)throw new Error;return this.each(fo(this._id,t))}function vo(t){"function"!==typeof t&&(t=Qt(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,u=r[i]=[],l=0;l<s;++l)(o=a[l])&&t.call(o,o.__data__,l,a)&&u.push(o);return new Fo(r,this._parents,this._name,this._id)}function go(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var u,l=e[s],c=n[s],h=l.length,f=a[s]=new Array(h),p=0;p<h;++p)(u=l[p]||c[p])&&(f[p]=u);for(;s<r;++s)a[s]=e[s];return new Fo(a,this._parents,this._name,this._id)}function yo(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}function mo(t,e,n){var r,i,o=yo(e)?Er:Nr;return function(){var a=o(this,t),s=a.on;s!==r&&(i=(r=s).copy()).on(e,n),a.on=i}}function wo(t,e){var n=this._id;return arguments.length<2?Cr(this.node(),n).on.on(t):this.each(mo(n,t,e))}function _o(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function bo(){return this.on("end.remove",_o(this._id))}function xo(t){var e=this._name,n=this._id;"function"!==typeof t&&(t=Rt(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s,u,l=r[a],c=l.length,h=o[a]=new Array(c),f=0;f<c;++f)(s=l[f])&&(u=t.call(s,s.__data__,f,l))&&("__data__"in s&&(u.__data__=s.__data__),h[f]=u,Ar(h[f],e,n,f,h,Cr(s,n)));return new Fo(o,this._parents,e,n)}function ko(t){var e=this._name,n=this._id;"function"!==typeof t&&(t=Yt(t));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var u,l=r[s],c=l.length,h=0;h<c;++h)if(u=l[h]){for(var f,p=t.call(u,u.__data__,h,l),d=Cr(u,n),v=0,g=p.length;v<g;++v)(f=p[v])&&Ar(f,e,n,v,p,d);o.push(p),a.push(u)}return new Fo(o,a,e,n)}var Ao=qn.prototype.constructor;function Eo(){return new Ao(this._groups,this._parents)}function No(t,e){var n,r,i;return function(){var o=Re(this,t),a=(this.style.removeProperty(t),Re(this,t));return o===a?null:o===n&&a===r?i:i=e(n=o,r=a)}}function Co(t){return function(){this.style.removeProperty(t)}}function So(t,e,n){var r,i,o=n+"";return function(){var a=Re(this,t);return a===o?null:a===r?i:i=e(r=a,n)}}function Mo(t,e,n){var r,i,o;return function(){var a=Re(this,t),s=n(this),u=s+"";return null==s&&(this.style.removeProperty(t),u=s=Re(this,t)),a===u?null:a===r&&u===i?o:(i=u,o=e(r=a,s))}}function $o(t,e){var n,r,i,o,a="style."+e,s="end."+a;return function(){var u=Nr(this,t),l=u.on,c=null==u.value[a]?o||(o=Co(e)):void 0;l===n&&i===c||(r=(n=l).copy()).on(s,i=c),u.on=r}}function Do(t,e,n){var r="transform"===(t+="")?Pr:Yi;return null==e?this.styleTween(t,No(t,r)).on("end.style."+t,Co(t)):"function"===typeof e?this.styleTween(t,Mo(t,r,Fr(this,"style."+t,e))).each($o(this._id,t)):this.styleTween(t,So(t,r,e),n).on("end.style."+t,null)}function To(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function Lo(t,e,n){var r,i;function o(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&To(t,o,n)),r}return o._value=e,o}function Xo(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!==typeof e)throw new Error;return this.tween(r,Lo(t,e,null==n?"":n))}function zo(t){return function(){this.textContent=t}}function Oo(t){return function(){var e=t(this);this.textContent=null==e?"":e}}function Io(t){return this.tween("text","function"===typeof t?Oo(Fr(this,"text",t)):zo(null==t?"":t+""))}function Wo(t){return function(e){this.textContent=t.call(this,e)}}function Po(t){var e,n;function r(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&Wo(r)),e}return r._value=t,r}function qo(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!==typeof t)throw new Error;return this.tween(e,Po(t))}function Ro(){for(var t=this._name,e=this._id,n=Bo(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],u=s.length,l=0;l<u;++l)if(a=s[l]){var c=Cr(a,e);Ar(a,t,n,l,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Fo(r,this._parents,t,n)}function jo(){var t,e,n=this,r=n._id,i=n.size();return new Promise((function(o,a){var s={value:a},u={value:function(){0===--i&&o()}};n.each((function(){var n=Nr(this,r),i=n.on;i!==t&&(e=(t=i).copy(),e._.cancel.push(s),e._.interrupt.push(s),e._.end.push(u)),n.on=e})),0===i&&o()}))}var Ho=0;function Fo(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Yo(t){return qn().transition(t)}function Bo(){return++Ho}var Vo=qn.prototype;function Qo(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}Fo.prototype=Yo.prototype={constructor:Fo,select:xo,selectAll:ko,selectChild:Vo.selectChild,selectChildren:Vo.selectChildren,filter:vo,merge:go,selection:Eo,transition:Ro,call:Vo.call,nodes:Vo.nodes,node:Vo.node,size:Vo.size,empty:Vo.empty,each:Vo.each,on:wo,attr:Zi,attrTween:ro,style:Do,styleTween:Xo,text:Io,textTween:qo,remove:bo,tween:Hr,delay:ao,duration:lo,ease:ho,easeVarying:po,end:jo,[Symbol.iterator]:Vo[Symbol.iterator]};var Uo={time:null,delay:0,duration:250,ease:Qo};function Go(t,e){var n;while(!(n=t.__transition)||!(n=n[e]))if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function Ko(t){var e,n;t instanceof Fo?(e=t._id,t=t._name):(e=Bo(),(n=Uo).time=or(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],u=s.length,l=0;l<u;++l)(a=s[l])&&Ar(a,t,e,l,s,n||Go(a,e));return new Fo(r,this._parents,t,e)}qn.prototype.interrupt=$r,qn.prototype.transition=Ko;const{abs:Zo,max:Jo,min:ta}=Math;function ea(t){return[+t[0],+t[1]]}function na(t){return[ea(t[0]),ea(t[1])]}["w","e"].map(ra),["n","s"].map(ra),["n","w","e","s","nw","ne","sw","se"].map(ra);function ra(t){return{type:t}}var ia={value:()=>{}};function oa(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new aa(r)}function aa(t){this._=t}function sa(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function ua(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function la(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=ia,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}aa.prototype=oa.prototype={constructor:aa,on:function(t,e){var n,r=this._,i=sa(t+"",r),o=-1,a=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!==typeof e)throw new Error("invalid callback: "+e);while(++o<a)if(n=(t=i[o]).type)r[n]=la(r[n],t.name,e);else if(null==e)for(n in r)r[n]=la(r[n],t.name,null);return this}while(++o<a)if((n=(t=i[o]).type)&&(n=ua(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new aa(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(r=this._[t],o=0,n=r.length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};const ca=oa;function ha(){}function fa(t){return null==t?ha:function(){return this.querySelector(t)}}function pa(t){"function"!==typeof t&&(t=fa(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a,s=e[i],u=s.length,l=r[i]=new Array(u),c=0;c<u;++c)(o=s[c])&&(a=t.call(o,o.__data__,c,s))&&("__data__"in o&&(a.__data__=o.__data__),l[c]=a);return new su(r,this._parents)}function da(t){return null==t?[]:Array.isArray(t)?t:Array.from(t)}function va(){return[]}function ga(t){return null==t?va:function(){return this.querySelectorAll(t)}}function ya(t){return function(){return da(t.apply(this,arguments))}}function ma(t){t="function"===typeof t?ya(t):ga(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a,s=e[o],u=s.length,l=0;l<u;++l)(a=s[l])&&(r.push(t.call(a,a.__data__,l,s)),i.push(a));return new su(r,i)}function wa(t){return function(){return this.matches(t)}}function _a(t){return function(e){return e.matches(t)}}var ba=Array.prototype.find;function xa(t){return function(){return ba.call(this.children,t)}}function ka(){return this.firstElementChild}function Aa(t){return this.select(null==t?ka:xa("function"===typeof t?t:_a(t)))}var Ea=Array.prototype.filter;function Na(){return Array.from(this.children)}function Ca(t){return function(){return Ea.call(this.children,t)}}function Sa(t){return this.selectAll(null==t?Na:Ca("function"===typeof t?t:_a(t)))}function Ma(t){"function"!==typeof t&&(t=wa(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,u=r[i]=[],l=0;l<s;++l)(o=a[l])&&t.call(o,o.__data__,l,a)&&u.push(o);return new su(r,this._parents)}function $a(t){return new Array(t.length)}function Da(){return new su(this._enter||this._groups.map($a),this._parents)}function Ta(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function La(t){return function(){return t}}function Xa(t,e,n,r,i,o){for(var a,s=0,u=e.length,l=o.length;s<l;++s)(a=e[s])?(a.__data__=o[s],r[s]=a):n[s]=new Ta(t,o[s]);for(;s<u;++s)(a=e[s])&&(i[s]=a)}function za(t,e,n,r,i,o,a){var s,u,l,c=new Map,h=e.length,f=o.length,p=new Array(h);for(s=0;s<h;++s)(u=e[s])&&(p[s]=l=a.call(u,u.__data__,s,e)+"",c.has(l)?i[s]=u:c.set(l,u));for(s=0;s<f;++s)l=a.call(t,o[s],s,o)+"",(u=c.get(l))?(r[s]=u,u.__data__=o[s],c.delete(l)):n[s]=new Ta(t,o[s]);for(s=0;s<h;++s)(u=e[s])&&c.get(p[s])===u&&(i[s]=u)}function Oa(t){return t.__data__}function Ia(t,e){if(!arguments.length)return Array.from(this,Oa);var n=e?za:Xa,r=this._parents,i=this._groups;"function"!==typeof t&&(t=La(t));for(var o=i.length,a=new Array(o),s=new Array(o),u=new Array(o),l=0;l<o;++l){var c=r[l],h=i[l],f=h.length,p=Wa(t.call(c,c&&c.__data__,l,r)),d=p.length,v=s[l]=new Array(d),g=a[l]=new Array(d),y=u[l]=new Array(f);n(c,h,v,g,y,p,e);for(var m,w,_=0,b=0;_<d;++_)if(m=v[_]){_>=b&&(b=_+1);while(!(w=g[b])&&++b<d);m._next=w||null}}return a=new su(a,r),a._enter=s,a._exit=u,a}function Wa(t){return"object"===typeof t&&"length"in t?t:Array.from(t)}function Pa(){return new su(this._exit||this._groups.map($a),this._parents)}function qa(t,e,n){var r=this.enter(),i=this,o=this.exit();return"function"===typeof t?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),null!=e&&(i=e(i),i&&(i=i.selection())),null==n?o.remove():n(o),r&&i?r.merge(i).order():i}function Ra(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,o=r.length,a=Math.min(i,o),s=new Array(i),u=0;u<a;++u)for(var l,c=n[u],h=r[u],f=c.length,p=s[u]=new Array(f),d=0;d<f;++d)(l=c[d]||h[d])&&(p[d]=l);for(;u<i;++u)s[u]=n[u];return new su(s,this._parents)}function ja(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this}function Ha(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=Fa);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a,s=n[o],u=s.length,l=i[o]=new Array(u),c=0;c<u;++c)(a=s[c])&&(l[c]=a);l.sort(e)}return new su(i,this._parents).order()}function Fa(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Ya(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Ba(){return Array.from(this)}function Va(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null}function Qa(){let t=0;for(const e of this)++t;return t}function Ua(){return!this.node()}function Ga(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],a=0,s=o.length;a<s;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this}Ta.prototype={constructor:Ta,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var Ka="http://www.w3.org/1999/xhtml";const Za={svg:"http://www.w3.org/2000/svg",xhtml:Ka,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ja(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),Za.hasOwnProperty(e)?{space:Za[e],local:t}:t}function ts(t){return function(){this.removeAttribute(t)}}function es(t){return function(){this.removeAttributeNS(t.space,t.local)}}function ns(t,e){return function(){this.setAttribute(t,e)}}function rs(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function is(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function os(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function as(t,e){var n=Ja(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?es:ts:"function"===typeof e?n.local?os:is:n.local?rs:ns)(n,e))}function ss(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function us(t){return function(){this.style.removeProperty(t)}}function ls(t,e,n){return function(){this.style.setProperty(t,e,n)}}function cs(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function hs(t,e,n){return arguments.length>1?this.each((null==e?us:"function"===typeof e?cs:ls)(t,e,null==n?"":n)):fs(this.node(),t)}function fs(t,e){return t.style.getPropertyValue(e)||ss(t).getComputedStyle(t,null).getPropertyValue(e)}function ps(t){return function(){delete this[t]}}function ds(t,e){return function(){this[t]=e}}function vs(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function gs(t,e){return arguments.length>1?this.each((null==e?ps:"function"===typeof e?vs:ds)(t,e)):this.node()[t]}function ys(t){return t.trim().split(/^|\s+/)}function ms(t){return t.classList||new ws(t)}function ws(t){this._node=t,this._names=ys(t.getAttribute("class")||"")}function _s(t,e){var n=ms(t),r=-1,i=e.length;while(++r<i)n.add(e[r])}function bs(t,e){var n=ms(t),r=-1,i=e.length;while(++r<i)n.remove(e[r])}function xs(t){return function(){_s(this,t)}}function ks(t){return function(){bs(this,t)}}function As(t,e){return function(){(e.apply(this,arguments)?_s:bs)(this,t)}}function Es(t,e){var n=ys(t+"");if(arguments.length<2){var r=ms(this.node()),i=-1,o=n.length;while(++i<o)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"===typeof e?As:e?xs:ks)(n,e))}function Ns(){this.textContent=""}function Cs(t){return function(){this.textContent=t}}function Ss(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function Ms(t){return arguments.length?this.each(null==t?Ns:("function"===typeof t?Ss:Cs)(t)):this.node().textContent}function $s(){this.innerHTML=""}function Ds(t){return function(){this.innerHTML=t}}function Ts(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function Ls(t){return arguments.length?this.each(null==t?$s:("function"===typeof t?Ts:Ds)(t)):this.node().innerHTML}function Xs(){this.nextSibling&&this.parentNode.appendChild(this)}function zs(){return this.each(Xs)}function Os(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Is(){return this.each(Os)}function Ws(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Ka&&e.documentElement.namespaceURI===Ka?e.createElement(t):e.createElementNS(n,t)}}function Ps(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function qs(t){var e=Ja(t);return(e.local?Ps:Ws)(e)}function Rs(t){var e="function"===typeof t?t:qs(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))}function js(){return null}function Hs(t,e){var n="function"===typeof t?t:qs(t),r=null==e?js:"function"===typeof e?e:fa(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))}function Fs(){var t=this.parentNode;t&&t.removeChild(this)}function Ys(){return this.each(Fs)}function Bs(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Vs(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Qs(t){return this.select(t?Vs:Bs)}function Us(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Gs(t){return function(e){t.call(this,e,this.__data__)}}function Ks(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function Zs(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.options);++i?e.length=i:delete this.__on}}}function Js(t,e,n){return function(){var r,i=this.__on,o=Gs(e);if(i)for(var a=0,s=i.length;a<s;++a)if((r=i[a]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=n),void(r.value=e);this.addEventListener(t.type,o,n),r={type:t.type,name:t.name,value:e,listener:o,options:n},i?i.push(r):this.__on=[r]}}function tu(t,e,n){var r,i,o=Ks(t+""),a=o.length;if(!(arguments.length<2)){for(s=e?Js:Zs,r=0;r<a;++r)this.each(s(o[r],e,n));return this}var s=this.node().__on;if(s)for(var u,l=0,c=s.length;l<c;++l)for(r=0,u=s[l];r<a;++r)if((i=o[r]).type===u.type&&i.name===u.name)return u.value}function eu(t,e,n){var r=ss(t),i=r.CustomEvent;"function"===typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function nu(t,e){return function(){return eu(this,t,e)}}function ru(t,e){return function(){return eu(this,t,e.apply(this,arguments))}}function iu(t,e){return this.each(("function"===typeof e?ru:nu)(t,e))}function*ou(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r,i=t[e],o=0,a=i.length;o<a;++o)(r=i[o])&&(yield r)}ws.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var au=[null];function su(t,e){this._groups=t,this._parents=e}function uu(){return new su([[document.documentElement]],au)}function lu(){return this}su.prototype=uu.prototype={constructor:su,select:pa,selectAll:ma,selectChild:Aa,selectChildren:Sa,filter:Ma,data:Ia,enter:Da,exit:Pa,join:qa,merge:Ra,selection:lu,order:ja,sort:Ha,call:Ya,nodes:Ba,node:Va,size:Qa,empty:Ua,each:Ga,attr:as,style:hs,property:gs,classed:Es,text:Ms,html:Ls,raise:zs,lower:Is,append:Rs,insert:Hs,remove:Ys,clone:Qs,datum:Us,on:tu,dispatch:iu,[Symbol.iterator]:ou};const cu=uu;function hu(t){return"string"===typeof t?new su([[document.querySelector(t)]],[document.documentElement]):new su([[t]],au)}function fu(t){let e;while(e=t.sourceEvent)t=e;return t}function pu(t,e){if(t=fu(t),void 0===e&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}const du={passive:!1},vu={capture:!0,passive:!1};function gu(t){t.stopImmediatePropagation()}function yu(t){t.preventDefault(),t.stopImmediatePropagation()}function mu(t){var e=t.document.documentElement,n=hu(t).on("dragstart.drag",yu,vu);"onselectstart"in e?n.on("selectstart.drag",yu,vu):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function wu(t,e){var n=t.document.documentElement,r=hu(t).on("dragstart.drag",null);e&&(r.on("click.drag",yu,vu),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const _u=t=>()=>t;function bu(t,{sourceEvent:e,subject:n,target:r,identifier:i,active:o,x:a,y:s,dx:u,dy:l,dispatch:c}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:a,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:u,enumerable:!0,configurable:!0},dy:{value:l,enumerable:!0,configurable:!0},_:{value:c}})}function xu(t){return!t.ctrlKey&&!t.button}function ku(){return this.parentNode}function Au(t,e){return null==e?{x:t.x,y:t.y}:e}function Eu(){return navigator.maxTouchPoints||"ontouchstart"in this}function Nu(){var t,e,n,r,i=xu,o=ku,a=Au,s=Eu,u={},l=ca("start","drag","end"),c=0,h=0;function f(t){t.on("mousedown.drag",p).filter(s).on("touchstart.drag",g).on("touchmove.drag",y,du).on("touchend.drag touchcancel.drag",m).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function p(a,s){if(!r&&i.call(this,a,s)){var u=w(this,o.call(this,a,s),a,s,"mouse");u&&(hu(a.view).on("mousemove.drag",d,vu).on("mouseup.drag",v,vu),mu(a.view),gu(a),n=!1,t=a.clientX,e=a.clientY,u("start",a))}}function d(r){if(yu(r),!n){var i=r.clientX-t,o=r.clientY-e;n=i*i+o*o>h}u.mouse("drag",r)}function v(t){hu(t.view).on("mousemove.drag mouseup.drag",null),wu(t.view,n),yu(t),u.mouse("end",t)}function g(t,e){if(i.call(this,t,e)){var n,r,a=t.changedTouches,s=o.call(this,t,e),u=a.length;for(n=0;n<u;++n)(r=w(this,s,t,e,a[n].identifier,a[n]))&&(gu(t),r("start",t,a[n]))}}function y(t){var e,n,r=t.changedTouches,i=r.length;for(e=0;e<i;++e)(n=u[r[e].identifier])&&(yu(t),n("drag",t,r[e]))}function m(t){var e,n,i=t.changedTouches,o=i.length;for(r&&clearTimeout(r),r=setTimeout((function(){r=null}),500),e=0;e<o;++e)(n=u[i[e].identifier])&&(gu(t),n("end",t,i[e]))}function w(t,e,n,r,i,o){var s,h,p,d=l.copy(),v=pu(o||n,e);if(null!=(p=a.call(t,new bu("beforestart",{sourceEvent:n,target:f,identifier:i,active:c,x:v[0],y:v[1],dx:0,dy:0,dispatch:d}),r)))return s=p.x-v[0]||0,h=p.y-v[1]||0,function n(o,a,l){var g,y=v;switch(o){case"start":u[i]=n,g=c++;break;case"end":delete u[i],--c;case"drag":v=pu(l||a,e),g=c;break}d.call(o,t,new bu(o,{sourceEvent:a,subject:p,target:f,identifier:i,active:g,x:v[0]+s,y:v[1]+h,dx:v[0]-y[0],dy:v[1]-y[1],dispatch:d}),r)}}return f.filter=function(t){return arguments.length?(i="function"===typeof t?t:_u(!!t),f):i},f.container=function(t){return arguments.length?(o="function"===typeof t?t:_u(t),f):o},f.subject=function(t){return arguments.length?(a="function"===typeof t?t:_u(t),f):a},f.touchable=function(t){return arguments.length?(s="function"===typeof t?t:_u(!!t),f):s},f.on=function(){var t=l.on.apply(l,arguments);return t===l?f:t},f.clickDistance=function(t){return arguments.length?(h=(t=+t)*t,f):Math.sqrt(h)},f}function Cu(t,e){var n,r=1;function i(){var i,o,a=n.length,s=0,u=0;for(i=0;i<a;++i)o=n[i],s+=o.x,u+=o.y;for(s=(s/a-t)*r,u=(u/a-e)*r,i=0;i<a;++i)o=n[i],o.x-=s,o.y-=u}return null==t&&(t=0),null==e&&(e=0),i.initialize=function(t){n=t},i.x=function(e){return arguments.length?(t=+e,i):t},i.y=function(t){return arguments.length?(e=+t,i):e},i.strength=function(t){return arguments.length?(r=+t,i):r},i}function Su(t){const e=+this._x.call(null,t),n=+this._y.call(null,t);return Mu(this.cover(e,n),e,n,t)}function Mu(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,o,a,s,u,l,c,h,f,p=t._root,d={data:r},v=t._x0,g=t._y0,y=t._x1,m=t._y1;if(!p)return t._root=d,t;while(p.length)if((l=e>=(o=(v+y)/2))?v=o:y=o,(c=n>=(a=(g+m)/2))?g=a:m=a,i=p,!(p=p[h=c<<1|l]))return i[h]=d,t;if(s=+t._x.call(null,p.data),u=+t._y.call(null,p.data),e===s&&n===u)return d.next=p,i?i[h]=d:t._root=d,t;do{i=i?i[h]=new Array(4):t._root=new Array(4),(l=e>=(o=(v+y)/2))?v=o:y=o,(c=n>=(a=(g+m)/2))?g=a:m=a}while((h=c<<1|l)===(f=(u>=a)<<1|s>=o));return i[f]=p,i[h]=d,t}function $u(t){var e,n,r,i,o=t.length,a=new Array(o),s=new Array(o),u=1/0,l=1/0,c=-1/0,h=-1/0;for(n=0;n<o;++n)isNaN(r=+this._x.call(null,e=t[n]))||isNaN(i=+this._y.call(null,e))||(a[n]=r,s[n]=i,r<u&&(u=r),r>c&&(c=r),i<l&&(l=i),i>h&&(h=i));if(u>c||l>h)return this;for(this.cover(u,l).cover(c,h),n=0;n<o;++n)Mu(this,a[n],s[n],t[n]);return this}function Du(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,o=(r=Math.floor(e))+1;else{var a,s,u=i-n||1,l=this._root;while(n>t||t>=i||r>e||e>=o)switch(s=(e<r)<<1|t<n,a=new Array(4),a[s]=l,l=a,u*=2,s){case 0:i=n+u,o=r+u;break;case 1:n=i-u,o=r+u;break;case 2:i=n+u,r=o-u;break;case 3:n=i-u,r=o-u;break}this._root&&this._root.length&&(this._root=l)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this}function Tu(){var t=[];return this.visit((function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)})),t}function Lu(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]}function Xu(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i}function zu(t,e,n){var r,i,o,a,s,u,l,c=this._x0,h=this._y0,f=this._x1,p=this._y1,d=[],v=this._root;v&&d.push(new Xu(v,c,h,f,p)),null==n?n=1/0:(c=t-n,h=e-n,f=t+n,p=e+n,n*=n);while(u=d.pop())if(!(!(v=u.node)||(i=u.x0)>f||(o=u.y0)>p||(a=u.x1)<c||(s=u.y1)<h))if(v.length){var g=(i+a)/2,y=(o+s)/2;d.push(new Xu(v[3],g,y,a,s),new Xu(v[2],i,y,g,s),new Xu(v[1],g,o,a,y),new Xu(v[0],i,o,g,y)),(l=(e>=y)<<1|t>=g)&&(u=d[d.length-1],d[d.length-1]=d[d.length-1-l],d[d.length-1-l]=u)}else{var m=t-+this._x.call(null,v.data),w=e-+this._y.call(null,v.data),_=m*m+w*w;if(_<n){var b=Math.sqrt(n=_);c=t-b,h=e-b,f=t+b,p=e+b,r=v.data}}return r}function Ou(t){if(isNaN(o=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var e,n,r,i,o,a,s,u,l,c,h,f,p=this._root,d=this._x0,v=this._y0,g=this._x1,y=this._y1;if(!p)return this;if(p.length)while(1){if((l=o>=(s=(d+g)/2))?d=s:g=s,(c=a>=(u=(v+y)/2))?v=u:y=u,e=p,!(p=p[h=c<<1|l]))return this;if(!p.length)break;(e[h+1&3]||e[h+2&3]||e[h+3&3])&&(n=e,f=h)}while(p.data!==t)if(r=p,!(p=p.next))return this;return(i=p.next)&&delete p.next,r?(i?r.next=i:delete r.next,this):e?(i?e[h]=i:delete e[h],(p=e[0]||e[1]||e[2]||e[3])&&p===(e[3]||e[2]||e[1]||e[0])&&!p.length&&(n?n[f]=p:this._root=p),this):(this._root=i,this)}function Iu(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this}function Wu(){return this._root}function Pu(){var t=0;return this.visit((function(e){if(!e.length)do{++t}while(e=e.next)})),t}function qu(t){var e,n,r,i,o,a,s=[],u=this._root;u&&s.push(new Xu(u,this._x0,this._y0,this._x1,this._y1));while(e=s.pop())if(!t(u=e.node,r=e.x0,i=e.y0,o=e.x1,a=e.y1)&&u.length){var l=(r+o)/2,c=(i+a)/2;(n=u[3])&&s.push(new Xu(n,l,c,o,a)),(n=u[2])&&s.push(new Xu(n,r,c,l,a)),(n=u[1])&&s.push(new Xu(n,l,i,o,c)),(n=u[0])&&s.push(new Xu(n,r,i,l,c))}return this}function Ru(t){var e,n=[],r=[];this._root&&n.push(new Xu(this._root,this._x0,this._y0,this._x1,this._y1));while(e=n.pop()){var i=e.node;if(i.length){var o,a=e.x0,s=e.y0,u=e.x1,l=e.y1,c=(a+u)/2,h=(s+l)/2;(o=i[0])&&n.push(new Xu(o,a,s,c,h)),(o=i[1])&&n.push(new Xu(o,c,s,u,h)),(o=i[2])&&n.push(new Xu(o,a,h,c,l)),(o=i[3])&&n.push(new Xu(o,c,h,u,l))}r.push(e)}while(e=r.pop())t(e.node,e.x0,e.y0,e.x1,e.y1);return this}function ju(t){return t[0]}function Hu(t){return arguments.length?(this._x=t,this):this._x}function Fu(t){return t[1]}function Yu(t){return arguments.length?(this._y=t,this):this._y}function Bu(t,e,n){var r=new Vu(null==e?ju:e,null==n?Fu:n,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function Vu(t,e,n,r,i,o){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function Qu(t){var e={data:t.data},n=e;while(t=t.next)n=n.next={data:t.data};return e}bu.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var Uu=Bu.prototype=Vu.prototype;function Gu(t){return function(){return t}}function Ku(t){return 1e-6*(t()-.5)}function Zu(t){return t.x+t.vx}function Ju(t){return t.y+t.vy}function tl(t){var e,n,r,i=1,o=1;function a(){for(var t,a,u,l,c,h,f,p=e.length,d=0;d<o;++d)for(a=Bu(e,Zu,Ju).visitAfter(s),t=0;t<p;++t)u=e[t],h=n[u.index],f=h*h,l=u.x+u.vx,c=u.y+u.vy,a.visit(v);function v(t,e,n,o,a){var s=t.data,p=t.r,d=h+p;if(!s)return e>l+d||o<l-d||n>c+d||a<c-d;if(s.index>u.index){var v=l-s.x-s.vx,g=c-s.y-s.vy,y=v*v+g*g;y<d*d&&(0===v&&(v=Ku(r),y+=v*v),0===g&&(g=Ku(r),y+=g*g),y=(d-(y=Math.sqrt(y)))/y*i,u.vx+=(v*=y)*(d=(p*=p)/(f+p)),u.vy+=(g*=y)*d,s.vx-=v*(d=1-d),s.vy-=g*d)}}}function s(t){if(t.data)return t.r=n[t.data.index];for(var e=t.r=0;e<4;++e)t[e]&&t[e].r>t.r&&(t.r=t[e].r)}function u(){if(e){var r,i,o=e.length;for(n=new Array(o),r=0;r<o;++r)i=e[r],n[i.index]=+t(i,r,e)}}return"function"!==typeof t&&(t=Gu(null==t?1:+t)),a.initialize=function(t,n){e=t,r=n,u()},a.iterations=function(t){return arguments.length?(o=+t,a):o},a.strength=function(t){return arguments.length?(i=+t,a):i},a.radius=function(e){return arguments.length?(t="function"===typeof e?e:Gu(+e),u(),a):t},a}function el(t){return t.index}function nl(t,e){var n=t.get(e);if(!n)throw new Error("node not found: "+e);return n}function rl(t){var e,n,r,i,o,a,s=el,u=h,l=Gu(30),c=1;function h(t){return 1/Math.min(i[t.source.index],i[t.target.index])}function f(r){for(var i=0,s=t.length;i<c;++i)for(var u,l,h,f,p,d,v,g=0;g<s;++g)u=t[g],l=u.source,h=u.target,f=h.x+h.vx-l.x-l.vx||Ku(a),p=h.y+h.vy-l.y-l.vy||Ku(a),d=Math.sqrt(f*f+p*p),d=(d-n[g])/d*r*e[g],f*=d,p*=d,h.vx-=f*(v=o[g]),h.vy-=p*v,l.vx+=f*(v=1-v),l.vy+=p*v}function p(){if(r){var a,u,l=r.length,c=t.length,h=new Map(r.map(((t,e)=>[s(t,e,r),t])));for(a=0,i=new Array(l);a<c;++a)u=t[a],u.index=a,"object"!==typeof u.source&&(u.source=nl(h,u.source)),"object"!==typeof u.target&&(u.target=nl(h,u.target)),i[u.source.index]=(i[u.source.index]||0)+1,i[u.target.index]=(i[u.target.index]||0)+1;for(a=0,o=new Array(c);a<c;++a)u=t[a],o[a]=i[u.source.index]/(i[u.source.index]+i[u.target.index]);e=new Array(c),d(),n=new Array(c),v()}}function d(){if(r)for(var n=0,i=t.length;n<i;++n)e[n]=+u(t[n],n,t)}function v(){if(r)for(var e=0,i=t.length;e<i;++e)n[e]=+l(t[e],e,t)}return null==t&&(t=[]),f.initialize=function(t,e){r=t,a=e,p()},f.links=function(e){return arguments.length?(t=e,p(),f):t},f.id=function(t){return arguments.length?(s=t,f):s},f.iterations=function(t){return arguments.length?(c=+t,f):c},f.strength=function(t){return arguments.length?(u="function"===typeof t?t:Gu(+t),d(),f):u},f.distance=function(t){return arguments.length?(l="function"===typeof t?t:Gu(+t),v(),f):l},f}Uu.copy=function(){var t,e,n=new Vu(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=Qu(r),n;t=[{source:r,target:n._root=new Array(4)}];while(r=t.pop())for(var i=0;i<4;++i)(e=r.source[i])&&(e.length?t.push({source:e,target:r.target[i]=new Array(4)}):r.target[i]=Qu(e));return n},Uu.add=Su,Uu.addAll=$u,Uu.cover=Du,Uu.data=Tu,Uu.extent=Lu,Uu.find=zu,Uu.remove=Ou,Uu.removeAll=Iu,Uu.root=Wu,Uu.size=Pu,Uu.visit=qu,Uu.visitAfter=Ru,Uu.x=Hu,Uu.y=Yu;var il={value:()=>{}};function ol(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new al(r)}function al(t){this._=t}function sl(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function ul(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function ll(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=il,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}al.prototype=ol.prototype={constructor:al,on:function(t,e){var n,r=this._,i=sl(t+"",r),o=-1,a=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!==typeof e)throw new Error("invalid callback: "+e);while(++o<a)if(n=(t=i[o]).type)r[n]=ll(r[n],t.name,e);else if(null==e)for(n in r)r[n]=ll(r[n],t.name,null);return this}while(++o<a)if((n=(t=i[o]).type)&&(n=ul(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new al(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(r=this._[t],o=0,n=r.length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};const cl=ol;var hl,fl,pl=0,dl=0,vl=0,gl=1e3,yl=0,ml=0,wl=0,_l="object"===typeof performance&&performance.now?performance:Date,bl="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function xl(){return ml||(bl(kl),ml=_l.now()+wl)}function kl(){ml=0}function Al(){this._call=this._time=this._next=null}function El(t,e,n){var r=new Al;return r.restart(t,e,n),r}function Nl(){xl(),++pl;var t,e=hl;while(e)(t=ml-e._time)>=0&&e._call.call(void 0,t),e=e._next;--pl}function Cl(){ml=(yl=_l.now())+wl,pl=dl=0;try{Nl()}finally{pl=0,Ml(),ml=0}}function Sl(){var t=_l.now(),e=t-yl;e>gl&&(wl-=e,yl=t)}function Ml(){var t,e,n=hl,r=1/0;while(n)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:hl=e);fl=t,$l(r)}function $l(t){if(!pl){dl&&(dl=clearTimeout(dl));var e=t-ml;e>24?(t<1/0&&(dl=setTimeout(Cl,t-_l.now()-wl)),vl&&(vl=clearInterval(vl))):(vl||(yl=_l.now(),vl=setInterval(Sl,gl)),pl=1,bl(Cl))}}Al.prototype=El.prototype={constructor:Al,restart:function(t,e,n){if("function"!==typeof t)throw new TypeError("callback is not a function");n=(null==n?xl():+n)+(null==e?0:+e),this._next||fl===this||(fl?fl._next=this:hl=this,fl=this),this._call=t,this._time=n,$l()},stop:function(){this._call&&(this._call=null,this._time=1/0,$l())}};const Dl=1664525,Tl=1013904223,Ll=4294967296;function Xl(){let t=1;return()=>(t=(Dl*t+Tl)%Ll)/Ll}function zl(t){return t.x}function Ol(t){return t.y}var Il=10,Wl=Math.PI*(3-Math.sqrt(5));function Pl(t){var e,n=1,r=.001,i=1-Math.pow(r,1/300),o=0,a=.6,s=new Map,u=El(h),l=cl("tick","end"),c=Xl();function h(){f(),l.call("tick",e),n<r&&(u.stop(),l.call("end",e))}function f(r){var u,l,c=t.length;void 0===r&&(r=1);for(var h=0;h<r;++h)for(n+=(o-n)*i,s.forEach((function(t){t(n)})),u=0;u<c;++u)l=t[u],null==l.fx?l.x+=l.vx*=a:(l.x=l.fx,l.vx=0),null==l.fy?l.y+=l.vy*=a:(l.y=l.fy,l.vy=0);return e}function p(){for(var e,n=0,r=t.length;n<r;++n){if(e=t[n],e.index=n,null!=e.fx&&(e.x=e.fx),null!=e.fy&&(e.y=e.fy),isNaN(e.x)||isNaN(e.y)){var i=Il*Math.sqrt(.5+n),o=n*Wl;e.x=i*Math.cos(o),e.y=i*Math.sin(o)}(isNaN(e.vx)||isNaN(e.vy))&&(e.vx=e.vy=0)}}function d(e){return e.initialize&&e.initialize(t,c),e}return null==t&&(t=[]),p(),e={tick:f,restart:function(){return u.restart(h),e},stop:function(){return u.stop(),e},nodes:function(n){return arguments.length?(t=n,p(),s.forEach(d),e):t},alpha:function(t){return arguments.length?(n=+t,e):n},alphaMin:function(t){return arguments.length?(r=+t,e):r},alphaDecay:function(t){return arguments.length?(i=+t,e):+i},alphaTarget:function(t){return arguments.length?(o=+t,e):o},velocityDecay:function(t){return arguments.length?(a=1-t,e):1-a},randomSource:function(t){return arguments.length?(c=t,s.forEach(d),e):c},force:function(t,n){return arguments.length>1?(null==n?s.delete(t):s.set(t,d(n)),e):s.get(t)},find:function(e,n,r){var i,o,a,s,u,l=0,c=t.length;for(null==r?r=1/0:r*=r,l=0;l<c;++l)s=t[l],i=e-s.x,o=n-s.y,a=i*i+o*o,a<r&&(u=s,r=a);return u},on:function(t,n){return arguments.length>1?(l.on(t,n),e):l.on(t)}}}function ql(){var t,e,n,r,i,o=Gu(-30),a=1,s=1/0,u=.81;function l(n){var i,o=t.length,a=Bu(t,zl,Ol).visitAfter(h);for(r=n,i=0;i<o;++i)e=t[i],a.visit(f)}function c(){if(t){var e,n,r=t.length;for(i=new Array(r),e=0;e<r;++e)n=t[e],i[n.index]=+o(n,e,t)}}function h(t){var e,n,r,o,a,s=0,u=0;if(t.length){for(r=o=a=0;a<4;++a)(e=t[a])&&(n=Math.abs(e.value))&&(s+=e.value,u+=n,r+=n*e.x,o+=n*e.y);t.x=r/u,t.y=o/u}else{e=t,e.x=e.data.x,e.y=e.data.y;do{s+=i[e.data.index]}while(e=e.next)}t.value=s}function f(t,o,l,c){if(!t.value)return!0;var h=t.x-e.x,f=t.y-e.y,p=c-o,d=h*h+f*f;if(p*p/u<d)return d<s&&(0===h&&(h=Ku(n),d+=h*h),0===f&&(f=Ku(n),d+=f*f),d<a&&(d=Math.sqrt(a*d)),e.vx+=h*t.value*r/d,e.vy+=f*t.value*r/d),!0;if(!(t.length||d>=s)){(t.data!==e||t.next)&&(0===h&&(h=Ku(n),d+=h*h),0===f&&(f=Ku(n),d+=f*f),d<a&&(d=Math.sqrt(a*d)));do{t.data!==e&&(p=i[t.data.index]*r/d,e.vx+=h*p,e.vy+=f*p)}while(t=t.next)}}return l.initialize=function(e,r){t=e,n=r,c()},l.strength=function(t){return arguments.length?(o="function"===typeof t?t:Gu(+t),c(),l):o},l.distanceMin=function(t){return arguments.length?(a=t*t,l):Math.sqrt(a)},l.distanceMax=function(t){return arguments.length?(s=t*t,l):Math.sqrt(s)},l.theta=function(t){return arguments.length?(u=t*t,l):Math.sqrt(u)},l}function Rl(t){var e=0,n=t.children,r=n&&n.length;if(r)while(--r>=0)e+=n[r].value;else e=1;t.value=e}function jl(){return this.eachAfter(Rl)}function Hl(t,e){let n=-1;for(const r of this)t.call(e,r,++n,this);return this}function Fl(t,e){var n,r,i=this,o=[i],a=-1;while(i=o.pop())if(t.call(e,i,++a,this),n=i.children)for(r=n.length-1;r>=0;--r)o.push(n[r]);return this}function Yl(t,e){var n,r,i,o=this,a=[o],s=[],u=-1;while(o=a.pop())if(s.push(o),n=o.children)for(r=0,i=n.length;r<i;++r)a.push(n[r]);while(o=s.pop())t.call(e,o,++u,this);return this}function Bl(t,e){let n=-1;for(const r of this)if(t.call(e,r,++n,this))return r}function Vl(t){return this.eachAfter((function(e){var n=+t(e.data)||0,r=e.children,i=r&&r.length;while(--i>=0)n+=r[i].value;e.value=n}))}function Ql(t){return this.eachBefore((function(e){e.children&&e.children.sort(t)}))}function Ul(t){var e=this,n=Gl(e,t),r=[e];while(e!==n)e=e.parent,r.push(e);var i=r.length;while(t!==n)r.splice(i,0,t),t=t.parent;return r}function Gl(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;t=n.pop(),e=r.pop();while(t===e)i=t,t=n.pop(),e=r.pop();return i}function Kl(){var t=this,e=[t];while(t=t.parent)e.push(t);return e}function Zl(){return Array.from(this)}function Jl(){var t=[];return this.eachBefore((function(e){e.children||t.push(e)})),t}function tc(){var t=this,e=[];return t.each((function(n){n!==t&&e.push({source:n.parent,target:n})})),e}function*ec(){var t,e,n,r,i=this,o=[i];do{t=o.reverse(),o=[];while(i=t.pop())if(yield i,e=i.children)for(n=0,r=e.length;n<r;++n)o.push(e[n])}while(o.length)}function nc(t,e){t instanceof Map?(t=[void 0,t],void 0===e&&(e=oc)):void 0===e&&(e=ic);var n,r,i,o,a,s=new uc(t),u=[s];while(n=u.pop())if((i=e(n.data))&&(a=(i=Array.from(i)).length))for(n.children=i,o=a-1;o>=0;--o)u.push(r=i[o]=new uc(i[o])),r.parent=n,r.depth=n.depth+1;return s.eachBefore(sc)}function rc(){return nc(this).eachBefore(ac)}function ic(t){return t.children}function oc(t){return Array.isArray(t)?t[1]:null}function ac(t){void 0!==t.data.value&&(t.value=t.data.value),t.data=t.data.data}function sc(t){var e=0;do{t.height=e}while((t=t.parent)&&t.height<++e)}function uc(t){this.data=t,this.depth=this.height=0,this.parent=null}uc.prototype=nc.prototype={constructor:uc,count:jl,each:Hl,eachAfter:Yl,eachBefore:Fl,find:Bl,sum:Vl,sort:Ql,path:Ul,ancestors:Kl,descendants:Zl,leaves:Jl,links:tc,copy:rc,[Symbol.iterator]:ec};var lc,cc,hc=0,fc=0,pc=0,dc=1e3,vc=0,gc=0,yc=0,mc="object"===typeof performance&&performance.now?performance:Date,wc="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function _c(){return gc||(wc(bc),gc=mc.now()+yc)}function bc(){gc=0}function xc(){this._call=this._time=this._next=null}function kc(t,e,n){var r=new xc;return r.restart(t,e,n),r}function Ac(){_c(),++hc;var t,e=lc;while(e)(t=gc-e._time)>=0&&e._call.call(void 0,t),e=e._next;--hc}function Ec(){gc=(vc=mc.now())+yc,hc=fc=0;try{Ac()}finally{hc=0,Cc(),gc=0}}function Nc(){var t=mc.now(),e=t-vc;e>dc&&(yc-=e,vc=t)}function Cc(){var t,e,n=lc,r=1/0;while(n)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:lc=e);cc=t,Sc(r)}function Sc(t){if(!hc){fc&&(fc=clearTimeout(fc));var e=t-gc;e>24?(t<1/0&&(fc=setTimeout(Ec,t-mc.now()-yc)),pc&&(pc=clearInterval(pc))):(pc||(vc=mc.now(),pc=setInterval(Nc,dc)),hc=1,wc(Ec))}}function Mc(t,e,n){var r=new xc;return e=null==e?0:+e,r.restart((n=>{r.stop(),t(n+e)}),e,n),r}xc.prototype=kc.prototype={constructor:xc,restart:function(t,e,n){if("function"!==typeof t)throw new TypeError("callback is not a function");n=(null==n?_c():+n)+(null==e?0:+e),this._next||cc===this||(cc?cc._next=this:lc=this,cc=this),this._call=t,this._time=n,Sc()},stop:function(){this._call&&(this._call=null,this._time=1/0,Sc())}};var $c=ca("start","end","cancel","interrupt"),Dc=[],Tc=0,Lc=1,Xc=2,zc=3,Oc=4,Ic=5,Wc=6;function Pc(t,e,n,r,i,o){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};Hc(t,n,{name:e,index:r,group:i,on:$c,tween:Dc,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Tc})}function qc(t,e){var n=jc(t,e);if(n.state>Tc)throw new Error("too late; already scheduled");return n}function Rc(t,e){var n=jc(t,e);if(n.state>zc)throw new Error("too late; already running");return n}function jc(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Hc(t,e,n){var r,i=t.__transition;function o(t){n.state=Lc,n.timer.restart(a,n.delay,n.time),n.delay<=t&&a(t-n.delay)}function a(o){var l,c,h,f;if(n.state!==Lc)return u();for(l in i)if(f=i[l],f.name===n.name){if(f.state===zc)return Mc(a);f.state===Oc?(f.state=Wc,f.timer.stop(),f.on.call("interrupt",t,t.__data__,f.index,f.group),delete i[l]):+l<e&&(f.state=Wc,f.timer.stop(),f.on.call("cancel",t,t.__data__,f.index,f.group),delete i[l])}if(Mc((function(){n.state===zc&&(n.state=Oc,n.timer.restart(s,n.delay,n.time),s(o))})),n.state=Xc,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Xc){for(n.state=zc,r=new Array(h=n.tween.length),l=0,c=-1;l<h;++l)(f=n.tween[l].value.call(t,t.__data__,n.index,n.group))&&(r[++c]=f);r.length=c+1}}function s(e){var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(u),n.state=Ic,1),o=-1,a=r.length;while(++o<a)r[o].call(t,i);n.state===Ic&&(n.on.call("end",t,t.__data__,n.index,n.group),u())}function u(){for(var r in n.state=Wc,n.timer.stop(),delete i[e],i)return;delete t.__transition}i[e]=n,n.timer=kc(o,0,n.time)}function Fc(t,e){var n,r,i,o=t.__transition,a=!0;if(o){for(i in e=null==e?null:e+"",o)(n=o[i]).name===e?(r=n.state>Xc&&n.state<Ic,n.state=Wc,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete o[i]):a=!1;a&&delete t.__transition}}function Yc(t){return this.each((function(){Fc(this,t)}))}function Bc(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var Vc,Qc=180/Math.PI,Uc={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Gc(t,e,n,r,i,o){var a,s,u;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,u/=s),t*r<e*n&&(t=-t,e=-e,u=-u,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*Qc,skewX:Math.atan(u)*Qc,scaleX:a,scaleY:s}}function Kc(t){const e=new("function"===typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Uc:Gc(e.a,e.b,e.c,e.d,e.e,e.f)}function Zc(t){return null==t?Uc:(Vc||(Vc=document.createElementNS("http://www.w3.org/2000/svg","g")),Vc.setAttribute("transform",t),(t=Vc.transform.baseVal.consolidate())?(t=t.matrix,Gc(t.a,t.b,t.c,t.d,t.e,t.f)):Uc)}function Jc(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}function o(t,r,i,o,a,s){if(t!==i||r!==o){var u=a.push("translate(",null,e,null,n);s.push({i:u-4,x:Bc(t,i)},{i:u-2,x:Bc(r,o)})}else(i||o)&&a.push("translate("+i+e+o+n)}function a(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:Bc(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}function s(t,e,n,o){t!==e?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:Bc(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}function u(t,e,n,r,o,a){if(t!==n||e!==r){var s=o.push(i(o)+"scale(",null,",",null,")");a.push({i:s-4,x:Bc(t,n)},{i:s-2,x:Bc(e,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}return function(e,n){var r=[],i=[];return e=t(e),n=t(n),o(e.translateX,e.translateY,n.translateX,n.translateY,r,i),a(e.rotate,n.rotate,r,i),s(e.skewX,n.skewX,r,i),u(e.scaleX,e.scaleY,n.scaleX,n.scaleY,r,i),e=n=null,function(t){var e,n=-1,o=i.length;while(++n<o)r[(e=i[n]).i]=e.x(t);return r.join("")}}}var th=Jc(Kc,"px, ","px)","deg)"),eh=Jc(Zc,", ",")",")");function nh(t,e){var n,r;return function(){var i=Rc(this,t),o=i.tween;if(o!==n){r=n=o;for(var a=0,s=r.length;a<s;++a)if(r[a].name===e){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function rh(t,e,n){var r,i;if("function"!==typeof n)throw new Error;return function(){var o=Rc(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:e,value:n},u=0,l=i.length;u<l;++u)if(i[u].name===e){i[u]=s;break}u===l&&i.push(s)}o.tween=i}}function ih(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=jc(this.node(),n).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==e?nh:rh)(n,t,e))}function oh(t,e,n){var r=t._id;return t.each((function(){var t=Rc(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return jc(t,r).value[e]}}function ah(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function sh(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function uh(){}var lh=.7,ch=1/lh,hh="\\s*([+-]?\\d+)\\s*",fh="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ph="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",dh=/^#([0-9a-f]{3,8})$/,vh=new RegExp(`^rgb\\(${hh},${hh},${hh}\\)$`),gh=new RegExp(`^rgb\\(${ph},${ph},${ph}\\)$`),yh=new RegExp(`^rgba\\(${hh},${hh},${hh},${fh}\\)$`),mh=new RegExp(`^rgba\\(${ph},${ph},${ph},${fh}\\)$`),wh=new RegExp(`^hsl\\(${fh},${ph},${ph}\\)$`),_h=new RegExp(`^hsla\\(${fh},${ph},${ph},${fh}\\)$`),bh={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function xh(){return this.rgb().formatHex()}function kh(){return this.rgb().formatHex8()}function Ah(){return Ph(this).formatHsl()}function Eh(){return this.rgb().formatRgb()}function Nh(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=dh.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?Ch(e):3===n?new Dh(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?Sh(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?Sh(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=vh.exec(t))?new Dh(e[1],e[2],e[3],1):(e=gh.exec(t))?new Dh(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=yh.exec(t))?Sh(e[1],e[2],e[3],e[4]):(e=mh.exec(t))?Sh(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=wh.exec(t))?Wh(e[1],e[2]/100,e[3]/100,1):(e=_h.exec(t))?Wh(e[1],e[2]/100,e[3]/100,e[4]):bh.hasOwnProperty(t)?Ch(bh[t]):"transparent"===t?new Dh(NaN,NaN,NaN,0):null}function Ch(t){return new Dh(t>>16&255,t>>8&255,255&t,1)}function Sh(t,e,n,r){return r<=0&&(t=e=n=NaN),new Dh(t,e,n,r)}function Mh(t){return t instanceof uh||(t=Nh(t)),t?(t=t.rgb(),new Dh(t.r,t.g,t.b,t.opacity)):new Dh}function $h(t,e,n,r){return 1===arguments.length?Mh(t):new Dh(t,e,n,null==r?1:r)}function Dh(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function Th(){return`#${Ih(this.r)}${Ih(this.g)}${Ih(this.b)}`}function Lh(){return`#${Ih(this.r)}${Ih(this.g)}${Ih(this.b)}${Ih(255*(isNaN(this.opacity)?1:this.opacity))}`}function Xh(){const t=zh(this.opacity);return`${1===t?"rgb(":"rgba("}${Oh(this.r)}, ${Oh(this.g)}, ${Oh(this.b)}${1===t?")":`, ${t})`}`}function zh(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Oh(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Ih(t){return t=Oh(t),(t<16?"0":"")+t.toString(16)}function Wh(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Rh(t,e,n,r)}function Ph(t){if(t instanceof Rh)return new Rh(t.h,t.s,t.l,t.opacity);if(t instanceof uh||(t=Nh(t)),!t)return new Rh;if(t instanceof Rh)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,u=(o+i)/2;return s?(a=e===o?(n-r)/s+6*(n<r):n===o?(r-e)/s+2:(e-n)/s+4,s/=u<.5?o+i:2-o-i,a*=60):s=u>0&&u<1?0:a,new Rh(a,s,u,t.opacity)}function qh(t,e,n,r){return 1===arguments.length?Ph(t):new Rh(t,e,n,null==r?1:r)}function Rh(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function jh(t){return t=(t||0)%360,t<0?t+360:t}function Hh(t){return Math.max(0,Math.min(1,t||0))}function Fh(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function Yh(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}function Bh(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,s=r<e-1?t[r+2]:2*o-i;return Yh((n-r/e)*e,a,i,o,s)}}function Vh(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],o=t[r%e],a=t[(r+1)%e],s=t[(r+2)%e];return Yh((n-r/e)*e,i,o,a,s)}}ah(uh,Nh,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:xh,formatHex:xh,formatHex8:kh,formatHsl:Ah,formatRgb:Eh,toString:Eh}),ah(Dh,$h,sh(uh,{brighter(t){return t=null==t?ch:Math.pow(ch,t),new Dh(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?lh:Math.pow(lh,t),new Dh(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Dh(Oh(this.r),Oh(this.g),Oh(this.b),zh(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Th,formatHex:Th,formatHex8:Lh,formatRgb:Xh,toString:Xh})),ah(Rh,qh,sh(uh,{brighter(t){return t=null==t?ch:Math.pow(ch,t),new Rh(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?lh:Math.pow(lh,t),new Rh(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Dh(Fh(t>=240?t-240:t+120,i,r),Fh(t,i,r),Fh(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Rh(jh(this.h),Hh(this.s),Hh(this.l),zh(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=zh(this.opacity);return`${1===t?"hsl(":"hsla("}${jh(this.h)}, ${100*Hh(this.s)}%, ${100*Hh(this.l)}%${1===t?")":`, ${t})`}`}}));const Qh=t=>()=>t;function Uh(t,e){return function(n){return t+n*e}}function Gh(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Kh(t){return 1===(t=+t)?Zh:function(e,n){return n-e?Gh(e,n,t):Qh(isNaN(e)?n:e)}}function Zh(t,e){var n=e-t;return n?Uh(t,n):Qh(isNaN(t)?e:t)}const Jh=function t(e){var n=Kh(e);function r(t,e){var r=n((t=$h(t)).r,(e=$h(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),a=Zh(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=a(e),t+""}}return r.gamma=t,r}(1);function tf(t){return function(e){var n,r,i=e.length,o=new Array(i),a=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=$h(e[n]),o[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return o=t(o),a=t(a),s=t(s),r.opacity=1,function(t){return r.r=o(t),r.g=a(t),r.b=s(t),r+""}}}tf(Bh),tf(Vh);var ef=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,nf=new RegExp(ef.source,"g");function rf(t){return function(){return t}}function of(t){return function(e){return t(e)+""}}function af(t,e){var n,r,i,o=ef.lastIndex=nf.lastIndex=0,a=-1,s=[],u=[];t+="",e+="";while((n=ef.exec(t))&&(r=nf.exec(e)))(i=r.index)>o&&(i=e.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,u.push({i:a,x:Bc(n,r)})),o=nf.lastIndex;return o<e.length&&(i=e.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?u[0]?of(u[0].x):rf(e):(e=u.length,function(t){for(var n,r=0;r<e;++r)s[(n=u[r]).i]=n.x(t);return s.join("")})}function sf(t,e){var n;return("number"===typeof e?Bc:e instanceof Nh?Jh:(n=Nh(e))?(e=n,Jh):af)(t,e)}function uf(t){return function(){this.removeAttribute(t)}}function lf(t){return function(){this.removeAttributeNS(t.space,t.local)}}function cf(t,e,n){var r,i,o=n+"";return function(){var a=this.getAttribute(t);return a===o?null:a===r?i:i=e(r=a,n)}}function hf(t,e,n){var r,i,o=n+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===r?i:i=e(r=a,n)}}function ff(t,e,n){var r,i,o;return function(){var a,s,u=n(this);if(null!=u)return a=this.getAttribute(t),s=u+"",a===s?null:a===r&&s===i?o:(i=s,o=e(r=a,u));this.removeAttribute(t)}}function pf(t,e,n){var r,i,o;return function(){var a,s,u=n(this);if(null!=u)return a=this.getAttributeNS(t.space,t.local),s=u+"",a===s?null:a===r&&s===i?o:(i=s,o=e(r=a,u));this.removeAttributeNS(t.space,t.local)}}function df(t,e){var n=Ja(t),r="transform"===n?eh:sf;return this.attrTween(t,"function"===typeof e?(n.local?pf:ff)(n,r,oh(this,"attr."+t,e)):null==e?(n.local?lf:uf)(n):(n.local?hf:cf)(n,r,e))}function vf(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function gf(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function yf(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&gf(t,i)),n}return i._value=e,i}function mf(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&vf(t,i)),n}return i._value=e,i}function wf(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!==typeof e)throw new Error;var r=Ja(t);return this.tween(n,(r.local?yf:mf)(r,e))}function _f(t,e){return function(){qc(this,t).delay=+e.apply(this,arguments)}}function bf(t,e){return e=+e,function(){qc(this,t).delay=e}}function xf(t){var e=this._id;return arguments.length?this.each(("function"===typeof t?_f:bf)(e,t)):jc(this.node(),e).delay}function kf(t,e){return function(){Rc(this,t).duration=+e.apply(this,arguments)}}function Af(t,e){return e=+e,function(){Rc(this,t).duration=e}}function Ef(t){var e=this._id;return arguments.length?this.each(("function"===typeof t?kf:Af)(e,t)):jc(this.node(),e).duration}function Nf(t,e){if("function"!==typeof e)throw new Error;return function(){Rc(this,t).ease=e}}function Cf(t){var e=this._id;return arguments.length?this.each(Nf(e,t)):jc(this.node(),e).ease}function Sf(t,e){return function(){var n=e.apply(this,arguments);if("function"!==typeof n)throw new Error;Rc(this,t).ease=n}}function Mf(t){if("function"!==typeof t)throw new Error;return this.each(Sf(this._id,t))}function $f(t){"function"!==typeof t&&(t=wa(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,u=r[i]=[],l=0;l<s;++l)(o=a[l])&&t.call(o,o.__data__,l,a)&&u.push(o);return new op(r,this._parents,this._name,this._id)}function Df(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var u,l=e[s],c=n[s],h=l.length,f=a[s]=new Array(h),p=0;p<h;++p)(u=l[p]||c[p])&&(f[p]=u);for(;s<r;++s)a[s]=e[s];return new op(a,this._parents,this._name,this._id)}function Tf(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}function Lf(t,e,n){var r,i,o=Tf(e)?qc:Rc;return function(){var a=o(this,t),s=a.on;s!==r&&(i=(r=s).copy()).on(e,n),a.on=i}}function Xf(t,e){var n=this._id;return arguments.length<2?jc(this.node(),n).on.on(t):this.each(Lf(n,t,e))}function zf(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function Of(){return this.on("end.remove",zf(this._id))}function If(t){var e=this._name,n=this._id;"function"!==typeof t&&(t=fa(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s,u,l=r[a],c=l.length,h=o[a]=new Array(c),f=0;f<c;++f)(s=l[f])&&(u=t.call(s,s.__data__,f,l))&&("__data__"in s&&(u.__data__=s.__data__),h[f]=u,Pc(h[f],e,n,f,h,jc(s,n)));return new op(o,this._parents,e,n)}function Wf(t){var e=this._name,n=this._id;"function"!==typeof t&&(t=ga(t));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var u,l=r[s],c=l.length,h=0;h<c;++h)if(u=l[h]){for(var f,p=t.call(u,u.__data__,h,l),d=jc(u,n),v=0,g=p.length;v<g;++v)(f=p[v])&&Pc(f,e,n,v,p,d);o.push(p),a.push(u)}return new op(o,a,e,n)}var Pf=cu.prototype.constructor;function qf(){return new Pf(this._groups,this._parents)}function Rf(t,e){var n,r,i;return function(){var o=fs(this,t),a=(this.style.removeProperty(t),fs(this,t));return o===a?null:o===n&&a===r?i:i=e(n=o,r=a)}}function jf(t){return function(){this.style.removeProperty(t)}}function Hf(t,e,n){var r,i,o=n+"";return function(){var a=fs(this,t);return a===o?null:a===r?i:i=e(r=a,n)}}function Ff(t,e,n){var r,i,o;return function(){var a=fs(this,t),s=n(this),u=s+"";return null==s&&(this.style.removeProperty(t),u=s=fs(this,t)),a===u?null:a===r&&u===i?o:(i=u,o=e(r=a,s))}}function Yf(t,e){var n,r,i,o,a="style."+e,s="end."+a;return function(){var u=Rc(this,t),l=u.on,c=null==u.value[a]?o||(o=jf(e)):void 0;l===n&&i===c||(r=(n=l).copy()).on(s,i=c),u.on=r}}function Bf(t,e,n){var r="transform"===(t+="")?th:sf;return null==e?this.styleTween(t,Rf(t,r)).on("end.style."+t,jf(t)):"function"===typeof e?this.styleTween(t,Ff(t,r,oh(this,"style."+t,e))).each(Yf(this._id,t)):this.styleTween(t,Hf(t,r,e),n).on("end.style."+t,null)}function Vf(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function Qf(t,e,n){var r,i;function o(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&Vf(t,o,n)),r}return o._value=e,o}function Uf(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!==typeof e)throw new Error;return this.tween(r,Qf(t,e,null==n?"":n))}function Gf(t){return function(){this.textContent=t}}function Kf(t){return function(){var e=t(this);this.textContent=null==e?"":e}}function Zf(t){return this.tween("text","function"===typeof t?Kf(oh(this,"text",t)):Gf(null==t?"":t+""))}function Jf(t){return function(e){this.textContent=t.call(this,e)}}function tp(t){var e,n;function r(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&Jf(r)),e}return r._value=t,r}function ep(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!==typeof t)throw new Error;return this.tween(e,tp(t))}function np(){for(var t=this._name,e=this._id,n=sp(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],u=s.length,l=0;l<u;++l)if(a=s[l]){var c=jc(a,e);Pc(a,t,n,l,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new op(r,this._parents,t,n)}function rp(){var t,e,n=this,r=n._id,i=n.size();return new Promise((function(o,a){var s={value:a},u={value:function(){0===--i&&o()}};n.each((function(){var n=Rc(this,r),i=n.on;i!==t&&(e=(t=i).copy(),e._.cancel.push(s),e._.interrupt.push(s),e._.end.push(u)),n.on=e})),0===i&&o()}))}var ip=0;function op(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function ap(t){return cu().transition(t)}function sp(){return++ip}var up=cu.prototype;function lp(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}op.prototype=ap.prototype={constructor:op,select:If,selectAll:Wf,selectChild:up.selectChild,selectChildren:up.selectChildren,filter:$f,merge:Df,selection:qf,transition:np,call:up.call,nodes:up.nodes,node:up.node,size:up.size,empty:up.empty,each:up.each,on:Xf,attr:df,attrTween:wf,style:Bf,styleTween:Uf,text:Zf,textTween:ep,remove:Of,tween:ih,delay:xf,duration:Ef,ease:Cf,easeVarying:Mf,end:rp,[Symbol.iterator]:up[Symbol.iterator]};var cp={time:null,delay:0,duration:250,ease:lp};function hp(t,e){var n;while(!(n=t.__transition)||!(n=n[e]))if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function fp(t){var e,n;t instanceof op?(e=t._id,t=t._name):(e=sp(),(n=cp).time=_c(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],u=s.length,l=0;l<u;++l)(a=s[l])&&Pc(a,t,e,l,s,n||hp(a,e));return new op(r,this._parents,t,e)}cu.prototype.interrupt=Yc,cu.prototype.transition=fp;var pp={value:()=>{}};function dp(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new vp(r)}function vp(t){this._=t}function gp(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function yp(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function mp(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=pp,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}vp.prototype=dp.prototype={constructor:vp,on:function(t,e){var n,r=this._,i=gp(t+"",r),o=-1,a=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!==typeof e)throw new Error("invalid callback: "+e);while(++o<a)if(n=(t=i[o]).type)r[n]=mp(r[n],t.name,e);else if(null==e)for(n in r)r[n]=mp(r[n],t.name,null);return this}while(++o<a)if((n=(t=i[o]).type)&&(n=yp(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new vp(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(r=this._[t],o=0,n=r.length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};const wp=dp;function _p(){}function bp(t){return null==t?_p:function(){return this.querySelector(t)}}function xp(t){"function"!==typeof t&&(t=bp(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a,s=e[i],u=s.length,l=r[i]=new Array(u),c=0;c<u;++c)(o=s[c])&&(a=t.call(o,o.__data__,c,s))&&("__data__"in o&&(a.__data__=o.__data__),l[c]=a);return new gv(r,this._parents)}function kp(t){return null==t?[]:Array.isArray(t)?t:Array.from(t)}function Ap(){return[]}function Ep(t){return null==t?Ap:function(){return this.querySelectorAll(t)}}function Np(t){return function(){return kp(t.apply(this,arguments))}}function Cp(t){t="function"===typeof t?Np(t):Ep(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a,s=e[o],u=s.length,l=0;l<u;++l)(a=s[l])&&(r.push(t.call(a,a.__data__,l,s)),i.push(a));return new gv(r,i)}function Sp(t){return function(){return this.matches(t)}}function Mp(t){return function(e){return e.matches(t)}}var $p=Array.prototype.find;function Dp(t){return function(){return $p.call(this.children,t)}}function Tp(){return this.firstElementChild}function Lp(t){return this.select(null==t?Tp:Dp("function"===typeof t?t:Mp(t)))}var Xp=Array.prototype.filter;function zp(){return Array.from(this.children)}function Op(t){return function(){return Xp.call(this.children,t)}}function Ip(t){return this.selectAll(null==t?zp:Op("function"===typeof t?t:Mp(t)))}function Wp(t){"function"!==typeof t&&(t=Sp(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,u=r[i]=[],l=0;l<s;++l)(o=a[l])&&t.call(o,o.__data__,l,a)&&u.push(o);return new gv(r,this._parents)}function Pp(t){return new Array(t.length)}function qp(){return new gv(this._enter||this._groups.map(Pp),this._parents)}function Rp(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function jp(t){return function(){return t}}function Hp(t,e,n,r,i,o){for(var a,s=0,u=e.length,l=o.length;s<l;++s)(a=e[s])?(a.__data__=o[s],r[s]=a):n[s]=new Rp(t,o[s]);for(;s<u;++s)(a=e[s])&&(i[s]=a)}function Fp(t,e,n,r,i,o,a){var s,u,l,c=new Map,h=e.length,f=o.length,p=new Array(h);for(s=0;s<h;++s)(u=e[s])&&(p[s]=l=a.call(u,u.__data__,s,e)+"",c.has(l)?i[s]=u:c.set(l,u));for(s=0;s<f;++s)l=a.call(t,o[s],s,o)+"",(u=c.get(l))?(r[s]=u,u.__data__=o[s],c.delete(l)):n[s]=new Rp(t,o[s]);for(s=0;s<h;++s)(u=e[s])&&c.get(p[s])===u&&(i[s]=u)}function Yp(t){return t.__data__}function Bp(t,e){if(!arguments.length)return Array.from(this,Yp);var n=e?Fp:Hp,r=this._parents,i=this._groups;"function"!==typeof t&&(t=jp(t));for(var o=i.length,a=new Array(o),s=new Array(o),u=new Array(o),l=0;l<o;++l){var c=r[l],h=i[l],f=h.length,p=Vp(t.call(c,c&&c.__data__,l,r)),d=p.length,v=s[l]=new Array(d),g=a[l]=new Array(d),y=u[l]=new Array(f);n(c,h,v,g,y,p,e);for(var m,w,_=0,b=0;_<d;++_)if(m=v[_]){_>=b&&(b=_+1);while(!(w=g[b])&&++b<d);m._next=w||null}}return a=new gv(a,r),a._enter=s,a._exit=u,a}function Vp(t){return"object"===typeof t&&"length"in t?t:Array.from(t)}function Qp(){return new gv(this._exit||this._groups.map(Pp),this._parents)}function Up(t,e,n){var r=this.enter(),i=this,o=this.exit();return"function"===typeof t?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),null!=e&&(i=e(i),i&&(i=i.selection())),null==n?o.remove():n(o),r&&i?r.merge(i).order():i}function Gp(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,o=r.length,a=Math.min(i,o),s=new Array(i),u=0;u<a;++u)for(var l,c=n[u],h=r[u],f=c.length,p=s[u]=new Array(f),d=0;d<f;++d)(l=c[d]||h[d])&&(p[d]=l);for(;u<i;++u)s[u]=n[u];return new gv(s,this._parents)}function Kp(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this}function Zp(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=Jp);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a,s=n[o],u=s.length,l=i[o]=new Array(u),c=0;c<u;++c)(a=s[c])&&(l[c]=a);l.sort(e)}return new gv(i,this._parents).order()}function Jp(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function td(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function ed(){return Array.from(this)}function nd(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null}function rd(){let t=0;for(const e of this)++t;return t}function id(){return!this.node()}function od(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],a=0,s=o.length;a<s;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this}Rp.prototype={constructor:Rp,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var ad="http://www.w3.org/1999/xhtml";const sd={svg:"http://www.w3.org/2000/svg",xhtml:ad,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ud(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),sd.hasOwnProperty(e)?{space:sd[e],local:t}:t}function ld(t){return function(){this.removeAttribute(t)}}function cd(t){return function(){this.removeAttributeNS(t.space,t.local)}}function hd(t,e){return function(){this.setAttribute(t,e)}}function fd(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function pd(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function dd(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function vd(t,e){var n=ud(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?cd:ld:"function"===typeof e?n.local?dd:pd:n.local?fd:hd)(n,e))}function gd(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function yd(t){return function(){this.style.removeProperty(t)}}function md(t,e,n){return function(){this.style.setProperty(t,e,n)}}function wd(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function _d(t,e,n){return arguments.length>1?this.each((null==e?yd:"function"===typeof e?wd:md)(t,e,null==n?"":n)):bd(this.node(),t)}function bd(t,e){return t.style.getPropertyValue(e)||gd(t).getComputedStyle(t,null).getPropertyValue(e)}function xd(t){return function(){delete this[t]}}function kd(t,e){return function(){this[t]=e}}function Ad(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function Ed(t,e){return arguments.length>1?this.each((null==e?xd:"function"===typeof e?Ad:kd)(t,e)):this.node()[t]}function Nd(t){return t.trim().split(/^|\s+/)}function Cd(t){return t.classList||new Sd(t)}function Sd(t){this._node=t,this._names=Nd(t.getAttribute("class")||"")}function Md(t,e){var n=Cd(t),r=-1,i=e.length;while(++r<i)n.add(e[r])}function $d(t,e){var n=Cd(t),r=-1,i=e.length;while(++r<i)n.remove(e[r])}function Dd(t){return function(){Md(this,t)}}function Td(t){return function(){$d(this,t)}}function Ld(t,e){return function(){(e.apply(this,arguments)?Md:$d)(this,t)}}function Xd(t,e){var n=Nd(t+"");if(arguments.length<2){var r=Cd(this.node()),i=-1,o=n.length;while(++i<o)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"===typeof e?Ld:e?Dd:Td)(n,e))}function zd(){this.textContent=""}function Od(t){return function(){this.textContent=t}}function Id(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function Wd(t){return arguments.length?this.each(null==t?zd:("function"===typeof t?Id:Od)(t)):this.node().textContent}function Pd(){this.innerHTML=""}function qd(t){return function(){this.innerHTML=t}}function Rd(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function jd(t){return arguments.length?this.each(null==t?Pd:("function"===typeof t?Rd:qd)(t)):this.node().innerHTML}function Hd(){this.nextSibling&&this.parentNode.appendChild(this)}function Fd(){return this.each(Hd)}function Yd(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Bd(){return this.each(Yd)}function Vd(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===ad&&e.documentElement.namespaceURI===ad?e.createElement(t):e.createElementNS(n,t)}}function Qd(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Ud(t){var e=ud(t);return(e.local?Qd:Vd)(e)}function Gd(t){var e="function"===typeof t?t:Ud(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))}function Kd(){return null}function Zd(t,e){var n="function"===typeof t?t:Ud(t),r=null==e?Kd:"function"===typeof e?e:bp(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))}function Jd(){var t=this.parentNode;t&&t.removeChild(this)}function tv(){return this.each(Jd)}function ev(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function nv(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function rv(t){return this.select(t?nv:ev)}function iv(t){return arguments.length?this.property("__data__",t):this.node().__data__}function ov(t){return function(e){t.call(this,e,this.__data__)}}function av(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function sv(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.options);++i?e.length=i:delete this.__on}}}function uv(t,e,n){return function(){var r,i=this.__on,o=ov(e);if(i)for(var a=0,s=i.length;a<s;++a)if((r=i[a]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=n),void(r.value=e);this.addEventListener(t.type,o,n),r={type:t.type,name:t.name,value:e,listener:o,options:n},i?i.push(r):this.__on=[r]}}function lv(t,e,n){var r,i,o=av(t+""),a=o.length;if(!(arguments.length<2)){for(s=e?uv:sv,r=0;r<a;++r)this.each(s(o[r],e,n));return this}var s=this.node().__on;if(s)for(var u,l=0,c=s.length;l<c;++l)for(r=0,u=s[l];r<a;++r)if((i=o[r]).type===u.type&&i.name===u.name)return u.value}function cv(t,e,n){var r=gd(t),i=r.CustomEvent;"function"===typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function hv(t,e){return function(){return cv(this,t,e)}}function fv(t,e){return function(){return cv(this,t,e.apply(this,arguments))}}function pv(t,e){return this.each(("function"===typeof e?fv:hv)(t,e))}function*dv(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r,i=t[e],o=0,a=i.length;o<a;++o)(r=i[o])&&(yield r)}Sd.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var vv=[null];function gv(t,e){this._groups=t,this._parents=e}function yv(){return new gv([[document.documentElement]],vv)}function mv(){return this}gv.prototype=yv.prototype={constructor:gv,select:xp,selectAll:Cp,selectChild:Lp,selectChildren:Ip,filter:Wp,data:Bp,enter:qp,exit:Qp,join:Up,merge:Gp,selection:mv,order:Kp,sort:Zp,call:td,nodes:ed,node:nd,size:rd,empty:id,each:od,attr:vd,style:_d,property:Ed,classed:Xd,text:Wd,html:jd,raise:Fd,lower:Bd,append:Gd,insert:Zd,remove:tv,clone:rv,datum:iv,on:lv,dispatch:pv,[Symbol.iterator]:dv};const wv=yv;function _v(t){return"string"===typeof t?new gv([[document.querySelector(t)]],[document.documentElement]):new gv([[t]],vv)}const bv={capture:!0,passive:!1};function xv(t){t.preventDefault(),t.stopImmediatePropagation()}function kv(t){var e=t.document.documentElement,n=_v(t).on("dragstart.drag",xv,bv);"onselectstart"in e?n.on("selectstart.drag",xv,bv):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function Av(t,e){var n=t.document.documentElement,r=_v(t).on("dragstart.drag",null);e&&(r.on("click.drag",xv,bv),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var Ev=1e-12;function Nv(t){return((t=Math.exp(t))+1/t)/2}function Cv(t){return((t=Math.exp(t))-1/t)/2}function Sv(t){return((t=Math.exp(2*t))-1)/(t+1)}const Mv=function t(e,n,r){function i(t,i){var o,a,s=t[0],u=t[1],l=t[2],c=i[0],h=i[1],f=i[2],p=c-s,d=h-u,v=p*p+d*d;if(v<Ev)a=Math.log(f/l)/e,o=function(t){return[s+t*p,u+t*d,l*Math.exp(e*t*a)]};else{var g=Math.sqrt(v),y=(f*f-l*l+r*v)/(2*l*n*g),m=(f*f-l*l-r*v)/(2*f*n*g),w=Math.log(Math.sqrt(y*y+1)-y),_=Math.log(Math.sqrt(m*m+1)-m);a=(_-w)/e,o=function(t){var r=t*a,i=Nv(w),o=l/(n*g)*(i*Sv(e*r+w)-Cv(w));return[s+o*p,u+o*d,l*i/Nv(e*r+w)]}}return o.duration=1e3*a*e/Math.SQRT2,o}return i.rho=function(e){var n=Math.max(.001,+e),r=n*n,i=r*r;return t(n,r,i)},i}(Math.SQRT2,2,4);function $v(t){let e;while(e=t.sourceEvent)t=e;return t}function Dv(t,e){if(t=$v(t),void 0===e&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}var Tv,Lv,Xv=0,zv=0,Ov=0,Iv=1e3,Wv=0,Pv=0,qv=0,Rv="object"===typeof performance&&performance.now?performance:Date,jv="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Hv(){return Pv||(jv(Fv),Pv=Rv.now()+qv)}function Fv(){Pv=0}function Yv(){this._call=this._time=this._next=null}function Bv(t,e,n){var r=new Yv;return r.restart(t,e,n),r}function Vv(){Hv(),++Xv;var t,e=Tv;while(e)(t=Pv-e._time)>=0&&e._call.call(void 0,t),e=e._next;--Xv}function Qv(){Pv=(Wv=Rv.now())+qv,Xv=zv=0;try{Vv()}finally{Xv=0,Gv(),Pv=0}}function Uv(){var t=Rv.now(),e=t-Wv;e>Iv&&(qv-=e,Wv=t)}function Gv(){var t,e,n=Tv,r=1/0;while(n)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Tv=e);Lv=t,Kv(r)}function Kv(t){if(!Xv){zv&&(zv=clearTimeout(zv));var e=t-Pv;e>24?(t<1/0&&(zv=setTimeout(Qv,t-Rv.now()-qv)),Ov&&(Ov=clearInterval(Ov))):(Ov||(Wv=Rv.now(),Ov=setInterval(Uv,Iv)),Xv=1,jv(Qv))}}function Zv(t,e,n){var r=new Yv;return e=null==e?0:+e,r.restart((n=>{r.stop(),t(n+e)}),e,n),r}Yv.prototype=Bv.prototype={constructor:Yv,restart:function(t,e,n){if("function"!==typeof t)throw new TypeError("callback is not a function");n=(null==n?Hv():+n)+(null==e?0:+e),this._next||Lv===this||(Lv?Lv._next=this:Tv=this,Lv=this),this._call=t,this._time=n,Kv()},stop:function(){this._call&&(this._call=null,this._time=1/0,Kv())}};var Jv=wp("start","end","cancel","interrupt"),tg=[],eg=0,ng=1,rg=2,ig=3,og=4,ag=5,sg=6;function ug(t,e,n,r,i,o){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};fg(t,n,{name:e,index:r,group:i,on:Jv,tween:tg,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:eg})}function lg(t,e){var n=hg(t,e);if(n.state>eg)throw new Error("too late; already scheduled");return n}function cg(t,e){var n=hg(t,e);if(n.state>ig)throw new Error("too late; already running");return n}function hg(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function fg(t,e,n){var r,i=t.__transition;function o(t){n.state=ng,n.timer.restart(a,n.delay,n.time),n.delay<=t&&a(t-n.delay)}function a(o){var l,c,h,f;if(n.state!==ng)return u();for(l in i)if(f=i[l],f.name===n.name){if(f.state===ig)return Zv(a);f.state===og?(f.state=sg,f.timer.stop(),f.on.call("interrupt",t,t.__data__,f.index,f.group),delete i[l]):+l<e&&(f.state=sg,f.timer.stop(),f.on.call("cancel",t,t.__data__,f.index,f.group),delete i[l])}if(Zv((function(){n.state===ig&&(n.state=og,n.timer.restart(s,n.delay,n.time),s(o))})),n.state=rg,n.on.call("start",t,t.__data__,n.index,n.group),n.state===rg){for(n.state=ig,r=new Array(h=n.tween.length),l=0,c=-1;l<h;++l)(f=n.tween[l].value.call(t,t.__data__,n.index,n.group))&&(r[++c]=f);r.length=c+1}}function s(e){var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(u),n.state=ag,1),o=-1,a=r.length;while(++o<a)r[o].call(t,i);n.state===ag&&(n.on.call("end",t,t.__data__,n.index,n.group),u())}function u(){for(var r in n.state=sg,n.timer.stop(),delete i[e],i)return;delete t.__transition}i[e]=n,n.timer=Bv(o,0,n.time)}function pg(t,e){var n,r,i,o=t.__transition,a=!0;if(o){for(i in e=null==e?null:e+"",o)(n=o[i]).name===e?(r=n.state>rg&&n.state<ag,n.state=sg,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete o[i]):a=!1;a&&delete t.__transition}}function dg(t){return this.each((function(){pg(this,t)}))}function vg(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var gg,yg=180/Math.PI,mg={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function wg(t,e,n,r,i,o){var a,s,u;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,u/=s),t*r<e*n&&(t=-t,e=-e,u=-u,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*yg,skewX:Math.atan(u)*yg,scaleX:a,scaleY:s}}function _g(t){const e=new("function"===typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?mg:wg(e.a,e.b,e.c,e.d,e.e,e.f)}function bg(t){return null==t?mg:(gg||(gg=document.createElementNS("http://www.w3.org/2000/svg","g")),gg.setAttribute("transform",t),(t=gg.transform.baseVal.consolidate())?(t=t.matrix,wg(t.a,t.b,t.c,t.d,t.e,t.f)):mg)}function xg(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}function o(t,r,i,o,a,s){if(t!==i||r!==o){var u=a.push("translate(",null,e,null,n);s.push({i:u-4,x:vg(t,i)},{i:u-2,x:vg(r,o)})}else(i||o)&&a.push("translate("+i+e+o+n)}function a(t,e,n,o){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),o.push({i:n.push(i(n)+"rotate(",null,r)-2,x:vg(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}function s(t,e,n,o){t!==e?o.push({i:n.push(i(n)+"skewX(",null,r)-2,x:vg(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}function u(t,e,n,r,o,a){if(t!==n||e!==r){var s=o.push(i(o)+"scale(",null,",",null,")");a.push({i:s-4,x:vg(t,n)},{i:s-2,x:vg(e,r)})}else 1===n&&1===r||o.push(i(o)+"scale("+n+","+r+")")}return function(e,n){var r=[],i=[];return e=t(e),n=t(n),o(e.translateX,e.translateY,n.translateX,n.translateY,r,i),a(e.rotate,n.rotate,r,i),s(e.skewX,n.skewX,r,i),u(e.scaleX,e.scaleY,n.scaleX,n.scaleY,r,i),e=n=null,function(t){var e,n=-1,o=i.length;while(++n<o)r[(e=i[n]).i]=e.x(t);return r.join("")}}}var kg=xg(_g,"px, ","px)","deg)"),Ag=xg(bg,", ",")",")");function Eg(t,e){var n,r;return function(){var i=cg(this,t),o=i.tween;if(o!==n){r=n=o;for(var a=0,s=r.length;a<s;++a)if(r[a].name===e){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function Ng(t,e,n){var r,i;if("function"!==typeof n)throw new Error;return function(){var o=cg(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var s={name:e,value:n},u=0,l=i.length;u<l;++u)if(i[u].name===e){i[u]=s;break}u===l&&i.push(s)}o.tween=i}}function Cg(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=hg(this.node(),n).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==e?Eg:Ng)(n,t,e))}function Sg(t,e,n){var r=t._id;return t.each((function(){var t=cg(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return hg(t,r).value[e]}}function Mg(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function $g(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Dg(){}var Tg=.7,Lg=1/Tg,Xg="\\s*([+-]?\\d+)\\s*",zg="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Og="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ig=/^#([0-9a-f]{3,8})$/,Wg=new RegExp(`^rgb\\(${Xg},${Xg},${Xg}\\)$`),Pg=new RegExp(`^rgb\\(${Og},${Og},${Og}\\)$`),qg=new RegExp(`^rgba\\(${Xg},${Xg},${Xg},${zg}\\)$`),Rg=new RegExp(`^rgba\\(${Og},${Og},${Og},${zg}\\)$`),jg=new RegExp(`^hsl\\(${zg},${Og},${Og}\\)$`),Hg=new RegExp(`^hsla\\(${zg},${Og},${Og},${zg}\\)$`),Fg={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Yg(){return this.rgb().formatHex()}function Bg(){return this.rgb().formatHex8()}function Vg(){return uy(this).formatHsl()}function Qg(){return this.rgb().formatRgb()}function Ug(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Ig.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?Gg(e):3===n?new ty(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?Kg(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?Kg(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=Wg.exec(t))?new ty(e[1],e[2],e[3],1):(e=Pg.exec(t))?new ty(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=qg.exec(t))?Kg(e[1],e[2],e[3],e[4]):(e=Rg.exec(t))?Kg(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=jg.exec(t))?sy(e[1],e[2]/100,e[3]/100,1):(e=Hg.exec(t))?sy(e[1],e[2]/100,e[3]/100,e[4]):Fg.hasOwnProperty(t)?Gg(Fg[t]):"transparent"===t?new ty(NaN,NaN,NaN,0):null}function Gg(t){return new ty(t>>16&255,t>>8&255,255&t,1)}function Kg(t,e,n,r){return r<=0&&(t=e=n=NaN),new ty(t,e,n,r)}function Zg(t){return t instanceof Dg||(t=Ug(t)),t?(t=t.rgb(),new ty(t.r,t.g,t.b,t.opacity)):new ty}function Jg(t,e,n,r){return 1===arguments.length?Zg(t):new ty(t,e,n,null==r?1:r)}function ty(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function ey(){return`#${ay(this.r)}${ay(this.g)}${ay(this.b)}`}function ny(){return`#${ay(this.r)}${ay(this.g)}${ay(this.b)}${ay(255*(isNaN(this.opacity)?1:this.opacity))}`}function ry(){const t=iy(this.opacity);return`${1===t?"rgb(":"rgba("}${oy(this.r)}, ${oy(this.g)}, ${oy(this.b)}${1===t?")":`, ${t})`}`}function iy(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function oy(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function ay(t){return t=oy(t),(t<16?"0":"")+t.toString(16)}function sy(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new cy(t,e,n,r)}function uy(t){if(t instanceof cy)return new cy(t.h,t.s,t.l,t.opacity);if(t instanceof Dg||(t=Ug(t)),!t)return new cy;if(t instanceof cy)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,u=(o+i)/2;return s?(a=e===o?(n-r)/s+6*(n<r):n===o?(r-e)/s+2:(e-n)/s+4,s/=u<.5?o+i:2-o-i,a*=60):s=u>0&&u<1?0:a,new cy(a,s,u,t.opacity)}function ly(t,e,n,r){return 1===arguments.length?uy(t):new cy(t,e,n,null==r?1:r)}function cy(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function hy(t){return t=(t||0)%360,t<0?t+360:t}function fy(t){return Math.max(0,Math.min(1,t||0))}function py(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function dy(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}function vy(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,s=r<e-1?t[r+2]:2*o-i;return dy((n-r/e)*e,a,i,o,s)}}function gy(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],o=t[r%e],a=t[(r+1)%e],s=t[(r+2)%e];return dy((n-r/e)*e,i,o,a,s)}}Mg(Dg,Ug,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Yg,formatHex:Yg,formatHex8:Bg,formatHsl:Vg,formatRgb:Qg,toString:Qg}),Mg(ty,Jg,$g(Dg,{brighter(t){return t=null==t?Lg:Math.pow(Lg,t),new ty(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?Tg:Math.pow(Tg,t),new ty(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ty(oy(this.r),oy(this.g),oy(this.b),iy(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:ey,formatHex:ey,formatHex8:ny,formatRgb:ry,toString:ry})),Mg(cy,ly,$g(Dg,{brighter(t){return t=null==t?Lg:Math.pow(Lg,t),new cy(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?Tg:Math.pow(Tg,t),new cy(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new ty(py(t>=240?t-240:t+120,i,r),py(t,i,r),py(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new cy(hy(this.h),fy(this.s),fy(this.l),iy(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=iy(this.opacity);return`${1===t?"hsl(":"hsla("}${hy(this.h)}, ${100*fy(this.s)}%, ${100*fy(this.l)}%${1===t?")":`, ${t})`}`}}));const yy=t=>()=>t;function my(t,e){return function(n){return t+n*e}}function wy(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function _y(t){return 1===(t=+t)?by:function(e,n){return n-e?wy(e,n,t):yy(isNaN(e)?n:e)}}function by(t,e){var n=e-t;return n?my(t,n):yy(isNaN(t)?e:t)}const xy=function t(e){var n=_y(e);function r(t,e){var r=n((t=Jg(t)).r,(e=Jg(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),a=by(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=a(e),t+""}}return r.gamma=t,r}(1);function ky(t){return function(e){var n,r,i=e.length,o=new Array(i),a=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=Jg(e[n]),o[n]=r.r||0,a[n]=r.g||0,s[n]=r.b||0;return o=t(o),a=t(a),s=t(s),r.opacity=1,function(t){return r.r=o(t),r.g=a(t),r.b=s(t),r+""}}}ky(vy),ky(gy);var Ay=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Ey=new RegExp(Ay.source,"g");function Ny(t){return function(){return t}}function Cy(t){return function(e){return t(e)+""}}function Sy(t,e){var n,r,i,o=Ay.lastIndex=Ey.lastIndex=0,a=-1,s=[],u=[];t+="",e+="";while((n=Ay.exec(t))&&(r=Ey.exec(e)))(i=r.index)>o&&(i=e.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,u.push({i:a,x:vg(n,r)})),o=Ey.lastIndex;return o<e.length&&(i=e.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?u[0]?Cy(u[0].x):Ny(e):(e=u.length,function(t){for(var n,r=0;r<e;++r)s[(n=u[r]).i]=n.x(t);return s.join("")})}function My(t,e){var n;return("number"===typeof e?vg:e instanceof Ug?xy:(n=Ug(e))?(e=n,xy):Sy)(t,e)}function $y(t){return function(){this.removeAttribute(t)}}function Dy(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Ty(t,e,n){var r,i,o=n+"";return function(){var a=this.getAttribute(t);return a===o?null:a===r?i:i=e(r=a,n)}}function Ly(t,e,n){var r,i,o=n+"";return function(){var a=this.getAttributeNS(t.space,t.local);return a===o?null:a===r?i:i=e(r=a,n)}}function Xy(t,e,n){var r,i,o;return function(){var a,s,u=n(this);if(null!=u)return a=this.getAttribute(t),s=u+"",a===s?null:a===r&&s===i?o:(i=s,o=e(r=a,u));this.removeAttribute(t)}}function zy(t,e,n){var r,i,o;return function(){var a,s,u=n(this);if(null!=u)return a=this.getAttributeNS(t.space,t.local),s=u+"",a===s?null:a===r&&s===i?o:(i=s,o=e(r=a,u));this.removeAttributeNS(t.space,t.local)}}function Oy(t,e){var n=ud(t),r="transform"===n?Ag:My;return this.attrTween(t,"function"===typeof e?(n.local?zy:Xy)(n,r,Sg(this,"attr."+t,e)):null==e?(n.local?Dy:$y)(n):(n.local?Ly:Ty)(n,r,e))}function Iy(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Wy(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Py(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&Wy(t,i)),n}return i._value=e,i}function qy(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&Iy(t,i)),n}return i._value=e,i}function Ry(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!==typeof e)throw new Error;var r=ud(t);return this.tween(n,(r.local?Py:qy)(r,e))}function jy(t,e){return function(){lg(this,t).delay=+e.apply(this,arguments)}}function Hy(t,e){return e=+e,function(){lg(this,t).delay=e}}function Fy(t){var e=this._id;return arguments.length?this.each(("function"===typeof t?jy:Hy)(e,t)):hg(this.node(),e).delay}function Yy(t,e){return function(){cg(this,t).duration=+e.apply(this,arguments)}}function By(t,e){return e=+e,function(){cg(this,t).duration=e}}function Vy(t){var e=this._id;return arguments.length?this.each(("function"===typeof t?Yy:By)(e,t)):hg(this.node(),e).duration}function Qy(t,e){if("function"!==typeof e)throw new Error;return function(){cg(this,t).ease=e}}function Uy(t){var e=this._id;return arguments.length?this.each(Qy(e,t)):hg(this.node(),e).ease}function Gy(t,e){return function(){var n=e.apply(this,arguments);if("function"!==typeof n)throw new Error;cg(this,t).ease=n}}function Ky(t){if("function"!==typeof t)throw new Error;return this.each(Gy(this._id,t))}function Zy(t){"function"!==typeof t&&(t=Sp(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,u=r[i]=[],l=0;l<s;++l)(o=a[l])&&t.call(o,o.__data__,l,a)&&u.push(o);return new Cm(r,this._parents,this._name,this._id)}function Jy(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var u,l=e[s],c=n[s],h=l.length,f=a[s]=new Array(h),p=0;p<h;++p)(u=l[p]||c[p])&&(f[p]=u);for(;s<r;++s)a[s]=e[s];return new Cm(a,this._parents,this._name,this._id)}function tm(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}function em(t,e,n){var r,i,o=tm(e)?lg:cg;return function(){var a=o(this,t),s=a.on;s!==r&&(i=(r=s).copy()).on(e,n),a.on=i}}function nm(t,e){var n=this._id;return arguments.length<2?hg(this.node(),n).on.on(t):this.each(em(n,t,e))}function rm(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function im(){return this.on("end.remove",rm(this._id))}function om(t){var e=this._name,n=this._id;"function"!==typeof t&&(t=bp(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s,u,l=r[a],c=l.length,h=o[a]=new Array(c),f=0;f<c;++f)(s=l[f])&&(u=t.call(s,s.__data__,f,l))&&("__data__"in s&&(u.__data__=s.__data__),h[f]=u,ug(h[f],e,n,f,h,hg(s,n)));return new Cm(o,this._parents,e,n)}function am(t){var e=this._name,n=this._id;"function"!==typeof t&&(t=Ep(t));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var u,l=r[s],c=l.length,h=0;h<c;++h)if(u=l[h]){for(var f,p=t.call(u,u.__data__,h,l),d=hg(u,n),v=0,g=p.length;v<g;++v)(f=p[v])&&ug(f,e,n,v,p,d);o.push(p),a.push(u)}return new Cm(o,a,e,n)}var sm=wv.prototype.constructor;function um(){return new sm(this._groups,this._parents)}function lm(t,e){var n,r,i;return function(){var o=bd(this,t),a=(this.style.removeProperty(t),bd(this,t));return o===a?null:o===n&&a===r?i:i=e(n=o,r=a)}}function cm(t){return function(){this.style.removeProperty(t)}}function hm(t,e,n){var r,i,o=n+"";return function(){var a=bd(this,t);return a===o?null:a===r?i:i=e(r=a,n)}}function fm(t,e,n){var r,i,o;return function(){var a=bd(this,t),s=n(this),u=s+"";return null==s&&(this.style.removeProperty(t),u=s=bd(this,t)),a===u?null:a===r&&u===i?o:(i=u,o=e(r=a,s))}}function pm(t,e){var n,r,i,o,a="style."+e,s="end."+a;return function(){var u=cg(this,t),l=u.on,c=null==u.value[a]?o||(o=cm(e)):void 0;l===n&&i===c||(r=(n=l).copy()).on(s,i=c),u.on=r}}function dm(t,e,n){var r="transform"===(t+="")?kg:My;return null==e?this.styleTween(t,lm(t,r)).on("end.style."+t,cm(t)):"function"===typeof e?this.styleTween(t,fm(t,r,Sg(this,"style."+t,e))).each(pm(this._id,t)):this.styleTween(t,hm(t,r,e),n).on("end.style."+t,null)}function vm(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function gm(t,e,n){var r,i;function o(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&vm(t,o,n)),r}return o._value=e,o}function ym(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!==typeof e)throw new Error;return this.tween(r,gm(t,e,null==n?"":n))}function mm(t){return function(){this.textContent=t}}function wm(t){return function(){var e=t(this);this.textContent=null==e?"":e}}function _m(t){return this.tween("text","function"===typeof t?wm(Sg(this,"text",t)):mm(null==t?"":t+""))}function bm(t){return function(e){this.textContent=t.call(this,e)}}function xm(t){var e,n;function r(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&bm(r)),e}return r._value=t,r}function km(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!==typeof t)throw new Error;return this.tween(e,xm(t))}function Am(){for(var t=this._name,e=this._id,n=Mm(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],u=s.length,l=0;l<u;++l)if(a=s[l]){var c=hg(a,e);ug(a,t,n,l,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Cm(r,this._parents,t,n)}function Em(){var t,e,n=this,r=n._id,i=n.size();return new Promise((function(o,a){var s={value:a},u={value:function(){0===--i&&o()}};n.each((function(){var n=cg(this,r),i=n.on;i!==t&&(e=(t=i).copy(),e._.cancel.push(s),e._.interrupt.push(s),e._.end.push(u)),n.on=e})),0===i&&o()}))}var Nm=0;function Cm(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Sm(t){return wv().transition(t)}function Mm(){return++Nm}var $m=wv.prototype;function Dm(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}Cm.prototype=Sm.prototype={constructor:Cm,select:om,selectAll:am,selectChild:$m.selectChild,selectChildren:$m.selectChildren,filter:Zy,merge:Jy,selection:um,transition:Am,call:$m.call,nodes:$m.nodes,node:$m.node,size:$m.size,empty:$m.empty,each:$m.each,on:nm,attr:Oy,attrTween:Ry,style:dm,styleTween:ym,text:_m,textTween:km,remove:im,tween:Cg,delay:Fy,duration:Vy,ease:Uy,easeVarying:Ky,end:Em,[Symbol.iterator]:$m[Symbol.iterator]};var Tm={time:null,delay:0,duration:250,ease:Dm};function Lm(t,e){var n;while(!(n=t.__transition)||!(n=n[e]))if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function Xm(t){var e,n;t instanceof Cm?(e=t._id,t=t._name):(e=Mm(),(n=Tm).time=Hv(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],u=s.length,l=0;l<u;++l)(a=s[l])&&ug(a,t,e,l,s,n||Lm(a,e));return new Cm(r,this._parents,t,e)}wv.prototype.interrupt=dg,wv.prototype.transition=Xm;const zm=t=>()=>t;function Om(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function Im(t,e,n){this.k=t,this.x=e,this.y=n}Im.prototype={constructor:Im,scale:function(t){return 1===t?this:new Im(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new Im(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Wm=new Im(1,0,0);function Pm(t){while(!t.__zoom)if(!(t=t.parentNode))return Wm;return t.__zoom}function qm(t){t.stopImmediatePropagation()}function Rm(t){t.preventDefault(),t.stopImmediatePropagation()}function jm(t){return(!t.ctrlKey||"wheel"===t.type)&&!t.button}function Hm(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function Fm(){return this.__zoom||Wm}function Ym(t){return-t.deltaY*(1===t.deltaMode?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function Bm(){return navigator.maxTouchPoints||"ontouchstart"in this}function Vm(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],o=t.invertY(e[0][1])-n[0][1],a=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),a>o?(o+a)/2:Math.min(0,o)||Math.max(0,a))}function Qm(){var t,e,n,r=jm,i=Hm,o=Vm,a=Ym,s=Bm,u=[0,1/0],l=[[-1/0,-1/0],[1/0,1/0]],c=250,h=Mv,f=wp("start","zoom","end"),p=500,d=150,v=0,g=10;function y(t){t.property("__zoom",Fm).on("wheel.zoom",A,{passive:!1}).on("mousedown.zoom",E).on("dblclick.zoom",N).filter(s).on("touchstart.zoom",C).on("touchmove.zoom",S).on("touchend.zoom touchcancel.zoom",M).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function m(t,e){return e=Math.max(u[0],Math.min(u[1],e)),e===t.k?t:new Im(e,t.x,t.y)}function w(t,e,n){var r=e[0]-n[0]*t.k,i=e[1]-n[1]*t.k;return r===t.x&&i===t.y?t:new Im(t.k,r,i)}function _(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function b(t,e,n,r){t.on("start.zoom",(function(){x(this,arguments).event(r).start()})).on("interrupt.zoom end.zoom",(function(){x(this,arguments).event(r).end()})).tween("zoom",(function(){var t=this,o=arguments,a=x(t,o).event(r),s=i.apply(t,o),u=null==n?_(s):"function"===typeof n?n.apply(t,o):n,l=Math.max(s[1][0]-s[0][0],s[1][1]-s[0][1]),c=t.__zoom,f="function"===typeof e?e.apply(t,o):e,p=h(c.invert(u).concat(l/c.k),f.invert(u).concat(l/f.k));return function(t){if(1===t)t=f;else{var e=p(t),n=l/e[2];t=new Im(n,u[0]-e[0]*n,u[1]-e[1]*n)}a.zoom(null,t)}}))}function x(t,e,n){return!n&&t.__zooming||new k(t,e)}function k(t,e){this.that=t,this.args=e,this.active=0,this.sourceEvent=null,this.extent=i.apply(t,e),this.taps=0}function A(t,...e){if(r.apply(this,arguments)){var n=x(this,e).event(t),i=this.__zoom,s=Math.max(u[0],Math.min(u[1],i.k*Math.pow(2,a.apply(this,arguments)))),c=Dv(t);if(n.wheel)n.mouse[0][0]===c[0]&&n.mouse[0][1]===c[1]||(n.mouse[1]=i.invert(n.mouse[0]=c)),clearTimeout(n.wheel);else{if(i.k===s)return;n.mouse=[c,i.invert(c)],pg(this),n.start()}Rm(t),n.wheel=setTimeout(h,d),n.zoom("mouse",o(w(m(i,s),n.mouse[0],n.mouse[1]),n.extent,l))}function h(){n.wheel=null,n.end()}}function E(t,...e){if(!n&&r.apply(this,arguments)){var i=t.currentTarget,a=x(this,e,!0).event(t),s=_v(t.view).on("mousemove.zoom",f,!0).on("mouseup.zoom",p,!0),u=Dv(t,i),c=t.clientX,h=t.clientY;kv(t.view),qm(t),a.mouse=[u,this.__zoom.invert(u)],pg(this),a.start()}function f(t){if(Rm(t),!a.moved){var e=t.clientX-c,n=t.clientY-h;a.moved=e*e+n*n>v}a.event(t).zoom("mouse",o(w(a.that.__zoom,a.mouse[0]=Dv(t,i),a.mouse[1]),a.extent,l))}function p(t){s.on("mousemove.zoom mouseup.zoom",null),Av(t.view,a.moved),Rm(t),a.event(t).end()}}function N(t,...e){if(r.apply(this,arguments)){var n=this.__zoom,a=Dv(t.changedTouches?t.changedTouches[0]:t,this),s=n.invert(a),u=n.k*(t.shiftKey?.5:2),h=o(w(m(n,u),a,s),i.apply(this,e),l);Rm(t),c>0?_v(this).transition().duration(c).call(b,h,a,t):_v(this).call(y.transform,h,a,t)}}function C(n,...i){if(r.apply(this,arguments)){var o,a,s,u,l=n.touches,c=l.length,h=x(this,i,n.changedTouches.length===c).event(n);for(qm(n),a=0;a<c;++a)s=l[a],u=Dv(s,this),u=[u,this.__zoom.invert(u),s.identifier],h.touch0?h.touch1||h.touch0[2]===u[2]||(h.touch1=u,h.taps=0):(h.touch0=u,o=!0,h.taps=1+!!t);t&&(t=clearTimeout(t)),o&&(h.taps<2&&(e=u[0],t=setTimeout((function(){t=null}),p)),pg(this),h.start())}}function S(t,...e){if(this.__zooming){var n,r,i,a,s=x(this,e).event(t),u=t.changedTouches,c=u.length;for(Rm(t),n=0;n<c;++n)r=u[n],i=Dv(r,this),s.touch0&&s.touch0[2]===r.identifier?s.touch0[0]=i:s.touch1&&s.touch1[2]===r.identifier&&(s.touch1[0]=i);if(r=s.that.__zoom,s.touch1){var h=s.touch0[0],f=s.touch0[1],p=s.touch1[0],d=s.touch1[1],v=(v=p[0]-h[0])*v+(v=p[1]-h[1])*v,g=(g=d[0]-f[0])*g+(g=d[1]-f[1])*g;r=m(r,Math.sqrt(v/g)),i=[(h[0]+p[0])/2,(h[1]+p[1])/2],a=[(f[0]+d[0])/2,(f[1]+d[1])/2]}else{if(!s.touch0)return;i=s.touch0[0],a=s.touch0[1]}s.zoom("touch",o(w(r,i,a),s.extent,l))}}function M(t,...r){if(this.__zooming){var i,o,a=x(this,r).event(t),s=t.changedTouches,u=s.length;for(qm(t),n&&clearTimeout(n),n=setTimeout((function(){n=null}),p),i=0;i<u;++i)o=s[i],a.touch0&&a.touch0[2]===o.identifier?delete a.touch0:a.touch1&&a.touch1[2]===o.identifier&&delete a.touch1;if(a.touch1&&!a.touch0&&(a.touch0=a.touch1,delete a.touch1),a.touch0)a.touch0[1]=this.__zoom.invert(a.touch0[0]);else if(a.end(),2===a.taps&&(o=Dv(o,this),Math.hypot(e[0]-o[0],e[1]-o[1])<g)){var l=_v(this).on("dblclick.zoom");l&&l.apply(this,arguments)}}}return y.transform=function(t,e,n,r){var i=t.selection?t.selection():t;i.property("__zoom",Fm),t!==i?b(t,e,n,r):i.interrupt().each((function(){x(this,arguments).event(r).start().zoom(null,"function"===typeof e?e.apply(this,arguments):e).end()}))},y.scaleBy=function(t,e,n,r){y.scaleTo(t,(function(){var t=this.__zoom.k,n="function"===typeof e?e.apply(this,arguments):e;return t*n}),n,r)},y.scaleTo=function(t,e,n,r){y.transform(t,(function(){var t=i.apply(this,arguments),r=this.__zoom,a=null==n?_(t):"function"===typeof n?n.apply(this,arguments):n,s=r.invert(a),u="function"===typeof e?e.apply(this,arguments):e;return o(w(m(r,u),a,s),t,l)}),n,r)},y.translateBy=function(t,e,n,r){y.transform(t,(function(){return o(this.__zoom.translate("function"===typeof e?e.apply(this,arguments):e,"function"===typeof n?n.apply(this,arguments):n),i.apply(this,arguments),l)}),null,r)},y.translateTo=function(t,e,n,r,a){y.transform(t,(function(){var t=i.apply(this,arguments),a=this.__zoom,s=null==r?_(t):"function"===typeof r?r.apply(this,arguments):r;return o(Wm.translate(s[0],s[1]).scale(a.k).translate("function"===typeof e?-e.apply(this,arguments):-e,"function"===typeof n?-n.apply(this,arguments):-n),t,l)}),r,a)},k.prototype={event:function(t){return t&&(this.sourceEvent=t),this},start:function(){return 1===++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0===--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(t){var e=_v(this.that).datum();f.call(t,this.that,new Om(t,{sourceEvent:this.sourceEvent,target:y,type:t,transform:this.that.__zoom,dispatch:f}),e)}},y.wheelDelta=function(t){return arguments.length?(a="function"===typeof t?t:zm(+t),y):a},y.filter=function(t){return arguments.length?(r="function"===typeof t?t:zm(!!t),y):r},y.touchable=function(t){return arguments.length?(s="function"===typeof t?t:zm(!!t),y):s},y.extent=function(t){return arguments.length?(i="function"===typeof t?t:zm([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),y):i},y.scaleExtent=function(t){return arguments.length?(u[0]=+t[0],u[1]=+t[1],y):[u[0],u[1]]},y.translateExtent=function(t){return arguments.length?(l[0][0]=+t[0][0],l[1][0]=+t[1][0],l[0][1]=+t[0][1],l[1][1]=+t[1][1],y):[[l[0][0],l[0][1]],[l[1][0],l[1][1]]]},y.constrain=function(t){return arguments.length?(o=t,y):o},y.duration=function(t){return arguments.length?(c=+t,y):c},y.interpolate=function(t){return arguments.length?(h=t,y):h},y.on=function(){var t=f.on.apply(f,arguments);return t===f?y:t},y.clickDistance=function(t){return arguments.length?(v=(t=+t)*t,y):Math.sqrt(v)},y.tapDistance=function(t){return arguments.length?(g=+t,y):g},y}Pm.prototype=Im.prototype;var Um=n(39147);const Gm=t=>`<defs>\n\x3c!-- GIT REPO ICON --\x3e\n<svg id="git" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 96 96" style="enable-background:new 0 0 96 96" xml:space="preserve"><path class="st0" d="M92.138 43.888 52.018 3.77a5.918 5.918 0 0 0-8.369 0l-8.33 8.332L45.887 22.67a7.025 7.025 0 0 1 7.23 1.684 7.031 7.031 0 0 1 1.67 7.275l10.185 10.185a7.03 7.03 0 0 1 7.275 1.67 7.04 7.04 0 0 1 0 9.958 7.042 7.042 0 0 1-11.492-7.658l-9.5-9.499v24.997a7.09 7.09 0 0 1 1.861 1.331 7.042 7.042 0 1 1-7.65-1.537V35.849a7.04 7.04 0 0 1-3.822-9.234l-10.418-10.42-27.51 27.508a5.921 5.921 0 0 0 0 8.371l40.121 40.118a5.919 5.919 0 0 0 8.37 0l39.93-39.932a5.92 5.92 0 0 0 0-8.37z"/></svg>\n\x3c!-- GENERIC BUNDLE ICON --\x3e\n<svg id="bundle" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" fill="#FFF"><path d="M16 3.2C8.931 3.2 3.2 8.931 3.2 16S8.931 28.8 16 28.8 28.8 23.069 28.8 16 23.069 3.2 16 3.2zm0 22.4c-5.302 0-9.6-4.298-9.6-9.6s4.298-9.6 9.6-9.6 9.6 4.298 9.6 9.6a9.6 9.6 0 0 1-9.6 9.6z"/><path d="m24.086 16-6.232-1.348.917-1.424-1.424.917-1.348-6.232-1.348 6.232-1.424-.917.917 1.424L7.912 16l6.232 1.348-.917 1.424 1.424-.917 1.348 6.232 1.348-6.232 1.424.917-.917-1.424L24.086 16zM16 16.814a.814.814 0 1 1 0-1.628.814.814 0 0 1 0 1.628z"/></svg>\n\x3c!-- HELM BUNDLE ICON --\x3e\n<svg id="helm" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 500 500"><defs><style>.cls-1{fill:#fff}</style></defs><path class="cls-1" d="M136.53 121.135c-.573-.543-1.195-1.127-1.81-1.718-12.617-12.121-22.382-26.136-28.28-42.702-1.65-4.636-2.897-9.365-2.675-14.359.02-.473.02-.949.052-1.422.445-6.446 4.759-9.703 11.058-8.176a27.325 27.325 0 0 1 5.732 2.196c6.89 3.456 12.506 8.564 17.67 14.166A112.527 112.527 0 0 1 160 102.55a8.296 8.296 0 0 0 .39.86c.07.13.222.213.559.52a176.357 176.357 0 0 1 81.02-24.861c-.177-.876-.282-1.546-.448-2.2a112.494 112.494 0 0 1-2.653-36.957 84.075 84.075 0 0 1 4.445-21.764 31.326 31.326 0 0 1 5.476-10.17 15.687 15.687 0 0 1 3.164-2.822 7.026 7.026 0 0 1 8.032-.056 17.279 17.279 0 0 1 5.84 6.731 53.054 53.054 0 0 1 5.263 14.677 112.505 112.505 0 0 1 2.122 33.004 95.598 95.598 0 0 1-3.49 19.91c7.121 1.312 14.21 2.33 21.147 3.978a186.38 186.38 0 0 1 20.44 6.003 188.317 188.317 0 0 1 19.77 8.57c6.346 3.163 12.386 6.94 18.718 10.537.206-.433.505-.95.706-1.502a108.66 108.66 0 0 1 32.901-46.762 37.758 37.758 0 0 1 11.822-6.883 17.246 17.246 0 0 1 3.679-.845c6.264-.717 8.893 3.224 9.356 7.932a29.944 29.944 0 0 1-.774 10.354 87.906 87.906 0 0 1-10.73 24.688c-6.79 10.972-14.85 20.855-25.093 28.83-.302.236-.568.519-1.08.99a177.78 177.78 0 0 1 26.593 30.883 10.962 10.962 0 0 1-1.689.298c-10.595.015-21.19-.019-31.786.046a4.004 4.004 0 0 1-3.172-1.69 147.875 147.875 0 0 0-88.178-46.549 143.359 143.359 0 0 0-30.28-1.169 146.407 146.407 0 0 0-82.537 31.81 140.067 140.067 0 0 0-16.976 15.843 4.728 4.728 0 0 1-3.863 1.757c-10.121-.07-20.242-.035-30.363-.035h-2.152c.618-2.408 6.84-10.938 13.883-18.553 5.252-5.679 10.817-11.07 16.468-16.818ZM394.53 347.912a176.639 176.639 0 0 1-23.974 27.164l1.862 1.55a108.315 108.315 0 0 1 33.683 48.146 34.618 34.618 0 0 1 2.202 14.42 14.885 14.885 0 0 1-.748 3.692 7.208 7.208 0 0 1-8.157 5.023 22.233 22.233 0 0 1-6.763-2.006 51.232 51.232 0 0 1-9.182-5.815 107.592 107.592 0 0 1-32.936-46.707c-.187-.514-.392-1.02-.722-1.877a194.65 194.65 0 0 1-25.012 14.008 181.67 181.67 0 0 1-26.687 9.724 187.556 187.556 0 0 1-28.305 5.388c.168.84.265 1.51.438 2.16a109.172 109.172 0 0 1 2.97 36.442 80.804 80.804 0 0 1-4.422 22.478 78.25 78.25 0 0 1-4.165 8.744 13.39 13.39 0 0 1-2.339 2.971c-3.98 4.11-8.732 4.144-12.611-.074a27.28 27.28 0 0 1-3.907-5.617c-3.077-5.776-4.66-12.056-5.791-18.46a116.863 116.863 0 0 1-1.36-26.465 94.48 94.48 0 0 1 2.885-19.186c.14-.532.268-1.07.372-1.61.026-.137-.064-.297-.171-.738a176.121 176.121 0 0 1-80.969-24.994c-.41.91-.762 1.675-1.101 2.446a110.477 110.477 0 0 1-30.901 41.42 38.16 38.16 0 0 1-12.047 6.96 12.09 12.09 0 0 1-6.516.7 7.119 7.119 0 0 1-5.403-4.49c-1.416-3.424-1.165-6.985-.684-10.517a55.453 55.453 0 0 1 4.307-14.25 112.5 112.5 0 0 1 26.512-37.763c.459-.435.93-.857 1.38-1.3a3.76 3.76 0 0 0 .366-.655 178.905 178.905 0 0 1-28.47-31.317c.985-.08 1.644-.18 2.303-.18 10.514-.01 21.029.027 31.543-.044a4.706 4.706 0 0 1 3.703 1.626 146.946 146.946 0 0 0 39.403 28.885 139.947 139.947 0 0 0 49.704 14.774q70.68 6.87 121.6-42.854a7.646 7.646 0 0 1 5.992-2.444c9.802.121 19.605.05 29.408.05h2.534ZM350.736 197.762c2.787 0 5.47.189 8.115-.05 2.995-.271 5.139.8 7.323 2.813 12.613 11.622 25.357 23.1 38.059 34.627.638.58 1.29 1.144 2.11 1.87.764-.657 1.481-1.243 2.165-1.865q19.638-17.878 39.248-35.787a5.448 5.448 0 0 1 4.204-1.646c3.218.13 6.446.038 9.84.038V303.13c-1.722.504-24.875.604-27.638.061V249.83l-.537-.254-27.238 24.841-27.458-24.736-.524.192c-.023 4.454-.008 8.908-.01 13.362q-.005 6.64-.001 13.28v26.871h-27.428c-.514-1.773-.753-99.662-.23-105.623ZM97.634 197.882h27.264c.55 1.753.658 102.972.094 105.525H97.705c-.15-6.703-.048-13.384-.067-20.061-.018-6.623-.004-13.245-.004-20.04H63.847v39.741c-2.06.615-25.334.674-27.648.123V197.894h27.538v37.19c1.968.568 30.924.673 33.872.129.009-2.978.02-6.027.024-9.076q.007-4.744.001-9.487v-18.768ZM157.576 303.368V198.195c1.617-.53 61.545-.736 65.462-.205v22.414c-.879.063-1.786.184-2.693.185q-16.008.02-32.017.009h-2.968v17.433h33.347v23.192h-33.049c-.553 1.985-.705 15.817-.256 19.646.845.057 1.75.17 2.655.17q16.01.019 32.018.009h2.97v22.32ZM254.283 303.409c-.5-2.823-.4-103.602.097-105.518h27.162v77.765c1.172.06 2.092.149 3.011.15q16.128.014 32.256.006h2.908v27.597Z"/></svg>\n\x3c!-- RESOURCE DEPLOYMENT ICON --\x3e\n<svg id="deployment" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M24.01 20.027v2h-24v-2h4v-1a2.006 2.006 0 0 1-2-2v-10a2.006 2.006 0 0 1 2-2h1.996v2H4.01v10h16v-10h-2.004v-2h2.004a2.006 2.006 0 0 1 2 2l-.01 10a1.997 1.997 0 0 1-1.99 2v1Zm-9-6.012-3-3-3 3h2v2.01h2v-2.01Zm.995-7.991a4 4 0 1 1-4-4 4.001 4.001 0 0 1 4 4Zm-4.4 2.96v-.56a.802.802 0 0 1-.8-.8v-.4L9.06 5.479a2.958 2.958 0 0 0 2.545 3.505Zm2.658-1.007a2.977 2.977 0 0 0-1.068-4.704.797.797 0 0 1-.79.75h-.8v.8a.401.401 0 0 1-.4.4h-.8v.8h2.4a.401.401 0 0 1 .4.4v1.2h.4a.787.787 0 0 1 .658.354Z" fill="#fff"/></svg>\n\x3c!-- NODE ICON --\x3e\n<svg id="node" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g fill="#fff"><circle cx="12" cy="3" r="1"/><circle cx="20" cy="8" r="1"/><circle cx="20" cy="16" r="1"/><circle cx="4" cy="8" r="1"/><circle cx="4" cy="16" r="1"/><path d="M20 14v-4a1.992 1.992 0 0 1-1.481-3.333l-4.783-2.69a1.983 1.983 0 0 1-3.472 0l-4.783 2.69A1.992 1.992 0 0 1 4 10v4a1.992 1.992 0 0 1 1.481 3.333l4.783 2.69a1.991 1.991 0 0 1 1.236-.952v-5.142a2 2 0 1 1 1 0v5.142a1.991 1.991 0 0 1 1.236.953l4.783-2.69A1.992 1.992 0 0 1 20 14Z"/><circle cx="12" cy="21" r="1"/><circle cx="12" cy="12" r="1"/></g></svg>\n\x3c!-- RESOURCE OTHER ICON --\x3e\n<svg id="other" xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="#FFF"><path d="M27.476 10.22H14.83l-1.558-3.115a1.327 1.327 0 0 0-1.184-.732H4.522c-.731 0-1.324.593-1.324 1.324v16.606c0 .731.593 1.324 1.324 1.324h22.953c.731 0 1.324-.593 1.324-1.324v-12.76c0-.731-.593-1.324-1.324-1.324z"/></svg>\n</defs>\n<use id="customIcon" href="#${t}" fill="#fff" />`,Km={name:"ForceDirectedTreeChart",components:{BadgeState:R.j},props:{data:{type:[Array,Object],required:!0},fdcConfig:{type:Object,required:!0}},data(){return{dataWatcher:void 0,parsedInfo:void 0,root:void 0,allNodesData:void 0,allLinks:void 0,rootNode:void 0,node:void 0,link:void 0,svg:void 0,zoom:void 0,simulation:void 0,isChartFirstRendered:!1,isChartFirstRenderAnimationFinished:!1,moreInfo:{}}},methods:{watcherFunction(t){if(t.length)if(this.isChartFirstRendered){const t=this.fdcConfig.parseData(this.data),e=this.flatten(t);let n=!1;e.forEach((t=>{const e=this.allNodesData.findIndex((e=>t.matchingId===e.data.matchingId));e>-1&&this.allNodesData[e].data.state!==t.state&&(this.allNodesData[e].data.state=t.state,this.allNodesData[e].data.stateLabel=t.stateLabel,this.allNodesData[e].data.stateColor=t.stateColor,n=!0,this.allNodesData[e].data.active&&this.setDetailsInfo(this.allNodesData[e].data,!1))})),n&&this.updateChart(!1,!1)}else this.parsedInfo=this.fdcConfig.parseData(this.data),this.setDetailsInfo(this.parsedInfo,!1),this.parsedInfo.active=!0,this.renderChart(),this.updateChart(!0,!0),this.isChartFirstRendered=!0},renderChart(){this.zoom=Qm().scaleExtent([1/8,16]).on("zoom",this.zoomed);const t=Wm.scale(1).translate(0,0);this.rootNode=this.svg.append("g").attr("class","root-node"),this.svg.call(this.zoom),this.svg.call(this.zoom.transform,t),this.simulation=Pl().force("charge",ql().strength(this.fdcConfig.simulationParams.fdcStrength).distanceMax(this.fdcConfig.simulationParams.fdcDistanceMax)).force("collision",tl(this.fdcConfig.simulationParams.fdcForceCollide)).force("center",Cu(this.fdcConfig.chartWidth/2,this.fdcConfig.chartHeight/2)).alphaDecay(this.fdcConfig.simulationParams.fdcAlphaDecay).on("tick",this.ticked).on("end",(()=>{this.isChartFirstRenderAnimationFinished||(this.zoomFit(),this.isChartFirstRenderAnimationFinished=!0)}))},updateChart(t,e){t&&(this.root=nc(this.parsedInfo)),e&&(this.allNodesData=this.flatten(this.root),this.allLinks=this.root.links()),this.link=this.rootNode.selectAll(".link").data(this.allLinks,(t=>t.target.id)),this.link.exit().remove();const n=this.link.enter().append("line").attr("class","link").style("opacity","0.2").style("stroke-width",4);this.link=n.merge(this.link),this.node=this.rootNode.selectAll(".node").data(this.allNodesData,(t=>t.id)).attr("class",this.mainNodeClass),this.node.exit().remove();const r=this.node.enter().append("g").attr("class",this.mainNodeClass).style("opacity",1).on("click",((t,e)=>{this.setDetailsInfo(e.data,!0)})).call(Nu().on("start",this.dragStarted).on("drag",this.dragging).on("end",this.dragEnded));r.append("circle").attr("r",this.setNodeRadius),r.append("circle").attr("r",(t=>this.setNodeRadius(t)-5)).attr("class","node-hover-layer"),r.append("svg").html((t=>{const e=this.fdcConfig.fetchNodeIcon(t);return Gm(e)})).attr("x",this.nodeImagePosition).attr("y",this.nodeImagePosition).attr("height",this.nodeImageSize).attr("width",this.nodeImageSize),this.node=r.merge(this.node),this.simulation.nodes(this.allNodesData),this.simulation.force("link",rl().id((t=>t.id)).distance(100).links(this.allLinks))},mainNodeClass(t){const e=t.data?.state?t.data.state.toLowerCase():"unkown_status",n=["node"];Um.xj[e]&&Um.xj[e].color?n.push(`node-${Um.xj[e].color}`):n.push("node-default-fill"),t.data?.active&&n.push("active");const r=this.fdcConfig.extendNodeClass(t).concat(n);return r.join(" ")},setNodeRadius(t){const{radius:e}=this.fdcConfig.nodeDimensions(t);return e},nodeImageSize(t){const{size:e}=this.fdcConfig.nodeDimensions(t);return e},nodeImagePosition(t){const{position:e}=this.fdcConfig.nodeDimensions(t);return e},setDetailsInfo(t,e){this.moreInfo=Object.assign([],this.fdcConfig.infoDetails(t)),e&&(this.allNodesData.forEach(((e,n)=>{e.data.matchingId===t.matchingId?this.allNodesData[n].data.active=!0:this.allNodesData[n].data.active=!1})),this.updateChart(!1,!1))},zoomFit(){const t=hu(".root-node"),e=30,n=t.node().getBoundingClientRect(),r=t.node().getBBox(),i=t.node().parentElement,o=i.clientWidth,a=i.clientHeight,s=n.width,u=n.height,l=r.x+s/2,c=r.y+u/2;if(0===s||0===u)return;const h=1/Math.max(s/(o-e),u/(a-e)),f=[o/2-h*l,a/2-h*c],p=Wm.translate(f[0],f[1]).scale(h);this.svg.call(this.zoom.transform,p)},ticked(){this.link.attr("x1",(t=>t.source.x)).attr("y1",(t=>t.source.y)).attr("x2",(t=>t.target.x)).attr("y2",(t=>t.target.y)),this.node.attr("transform",(t=>`translate(${t.x}, ${t.y})`))},dragStarted(t,e){t.active||this.simulation.alphaTarget(.3).restart(),e.fx=e.x,e.fy=e.y},dragging(t,e){e.fx=t.x,e.fy=t.y},dragEnded(t,e){t.active||this.simulation.alphaTarget(0),e.fx=void 0,e.fy=void 0},zoomed(t){this.rootNode.attr("transform",t.transform)},flatten(t){const e=[];let n=0;function r(t){t.children&&t.children.forEach(r),t.id?++n:t.id=++n,e.push(t)}return r(t),e}},mounted(){this.svg=hu("#tree").append("svg").attr("viewBox",`0 0 ${this.fdcConfig.chartWidth} ${this.fdcConfig.chartHeight}`).attr("preserveAspectRatio","none"),this.dataWatcher=this.$watch(this.fdcConfig.watcherProp,(function(t){this.watcherFunction(t)}),{deep:!0,immediate:!0})},unmounted(){this.dataWatcher()}};n(53015);const Zm=(0,G.A)(Km,[["render",Pt]]),Jm=Zm;var tw=n(87445);function ew(t){return t.query?.mode===d.HC?d.HC:t.params?.id?t.query.mode||d.nW:d.YQ}async function nw(t,e){let n;const r={headers:{accept:"application/yaml"}};return e.hasLink("view")&&(n=(await e.followLink("view",r)).data),e.cleanForDownload(n)}const rw={emits:["input"],components:{Loading:f.A,DetailTop:At,ForceDirectedTreeChart:Jm,ResourceYaml:p.A,Masthead:Z,IconMessage:Et.A},mixins:[h.A],props:{storeOverride:{type:String,default:null},resourceOverride:{type:String,default:null},parentRouteOverride:{type:String,default:null},flexContent:{type:Boolean,default:!1},componentTestid:{type:String,default:"resource-details"}},async fetch(){const t=this.$store,e=this.$route,n=e.params;let r=this.resourceOverride||n.resource;const i=this.storeOverride||t.getters["currentStore"](r),o=this.realMode;let{namespace:a,id:s}=n;const u=[d.dT,d.HC,d.wZ].includes(o)?d.YQ:o,l=t.getters["type-map/hasGraph"](r),c=!!l,h=t.getters["type-map/hasCustomDetail"](r,s),f=t.getters["type-map/hasCustomEdit"](r,s),p=t.getters[`${i}/all`](v.yx),y=e.query[d.AS];let m,w=!1;m=u!==d.nW||!h||y&&y!==d.fS?u===d.nW&&c&&y===d.Yq?d.Yq:!f||y&&y!==d.au?d.zD:d.au:d.fS,this.as=m;const _=t.getters["type-map/optionsFor"](r);this.showMasthead=![d.YQ,d.G5].includes(u)||_.resourceEditMasthead;const b=_.canYaml;_.resource&&(r=_.resource);const x=t.getters[`${i}/schemaFor`](r);let k,A,E,N;if(o===d.YQ||o===d.HC){a||(a=t.getters["defaultNamespace"]);const e={type:r};x?.attributes?.namespaced&&(e.metadata={namespace:a}),E=await t.dispatch(`${i}/create`,e),A=await t.dispatch(`${i}/clone`,{resource:E}),k=await t.dispatch(`${i}/clone`,{resource:E}),!0===k.forceYaml&&(m=d.zD,this.as=m),m===d.zD&&(x?.fetchResourceFields&&await x.fetchResourceFields(),N=(0,g.mH)(p,r,e))}else{if(m===d.Yq){const t=await(0,tw.eT)({cluster:{inStoreType:"management",type:v.Hs.CLUSTER},bundle:{inStoreType:"management",type:v.Hs.BUNDLE,opt:{excludeFields:["metadata.managedFields","spec.resources"]}},bundleDeployment:{inStoreType:"management",type:v.Hs.BUNDLE_DEPLOYMENT}},this.$store);this.canViewChart=t.cluster&&t.bundle&&t.bundleDeployment}let e=s;x.attributes?.namespaced&&a&&(e=`${a}/${e}`);try{E=await t.dispatch(`${i}/find`,{type:r,id:e,opt:{watch:!0}})}catch(S){404!==S.status&&403!==S.status||t.dispatch("loadingError",new Error(this.t("nav.failWhale.resourceIdNotFound",{resource:r,fqid:e},!0))),E={},w=e}k=o===d.nW?E:await t.dispatch(`${i}/clone`,{resource:E}),A=await t.dispatch(`${i}/clone`,{resource:E}),m===d.zD&&(N=await nw(this.$store,E)),m===d.Yq&&(this.chartData=E),[d.dT,d.HC,d.wZ].includes(o)&&(k.cleanForNew(),N=k.cleanYaml(N,o))}k=await t.dispatch(`${i}/cleanForDetail`,k);const C={hasGraph:c,getGraphConfig:l,hasCustomDetail:h,hasCustomEdit:f,canViewYaml:b,resourceType:r,as:m,yaml:N,initialModel:A,liveModel:E,mode:u,value:k,notFound:w};for(const d in C)this[d]=C[d];this.mode===d.YQ&&this.value.applyDefaults(this,o)},data(){return{chartData:null,resourceSubtype:null,hasGraph:null,hasCustomDetail:null,hasCustomEdit:null,resourceType:null,asYaml:null,yaml:null,liveModel:null,initialModel:null,mode:null,as:null,value:null,model:null,notFound:null,canViewChart:!0,canViewYaml:null}},computed:{realMode(){const t=ew(this.$route);return t},isView(){return this.mode===d.nW},isYaml(){return this.as===d.zD},isDetail(){return this.as===d.fS},isGraph(){return this.as===d.Yq},offerPreview(){return this.as===d.zD&&[d.G5,d.dT,d.HC,d.wZ].includes(this.mode)},showComponent(){switch(this.as){case d.fS:return this.detailComponent;case d.au:return this.editComponent}return null}},watch:{$route(t,e){if(t.name!==e.name)return;const n=(0,H.clone)(t.query),r=(0,H.clone)(e.query);delete n[d.$y],delete r[d.$y],this.isView||(delete n[d.AS],delete r[d.AS]);const i=Object.keys((0,H.diff)(n,r));(i.includes(d.g)||i.includes(d.AS))&&this.$fetch()},async"value.metadata.resourceVersion"(t,e){this.mode===d.nW&&this.as===d.zD&&t&&e&&t!==e&&(this.yaml=await nw(this.$store,this.liveModel))}},created(){const t=this.$route.params.id,e=this.resourceOverride||this.$route.params.resource,n=this.$store.getters["type-map/optionsFor"](e),r=n.resourceDetail||n.resource||e,i=n.resourceEdit||n.resource||e;this.detailComponent=this.$store.getters["type-map/importDetail"](r,t),this.editComponent=this.$store.getters["type-map/importEdit"](i,t)},methods:{setSubtype(t){this.resourceSubtype=t},keyAction(t){const e=this.liveModel;e?.[t]&&e[t]()}}};n(94193);const iw=(0,G.A)(rw,[["render",c],["__scopeId","data-v-2362ea15"]]),ow=iw},61774:(t,e,n)=>{var r=n(30632);r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[t.id,r,""]]),r.locals&&(t.exports=r.locals);var i=n(99548).A;i("562bf9f2",r,!0,{sourceMap:!1,shadowMode:!1})},33950:(t,e,n)=>{var r=n(46180);r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[t.id,r,""]]),r.locals&&(t.exports=r.locals);var i=n(99548).A;i("a6ed4a08",r,!0,{sourceMap:!1,shadowMode:!1})},4398:(t,e,n)=>{var r=n(16680);r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[t.id,r,""]]),r.locals&&(t.exports=r.locals);var i=n(99548).A;i("27fb5330",r,!0,{sourceMap:!1,shadowMode:!1})},94193:(t,e,n)=>{var r=n(24548);r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[t.id,r,""]]),r.locals&&(t.exports=r.locals);var i=n(99548).A;i("e6cf979a",r,!0,{sourceMap:!1,shadowMode:!1})},53015:(t,e,n)=>{var r=n(89201);r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[t.id,r,""]]),r.locals&&(t.exports=r.locals);var i=n(99548).A;i("879f6b86",r,!0,{sourceMap:!1,shadowMode:!1})}}]);
//# sourceMappingURL=6515.0caf5ae6.js.map