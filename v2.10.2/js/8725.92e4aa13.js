"use strict";(self["webpackChunkdashboard"]=self["webpackChunkdashboard"]||[]).push([[8725],{87030:(e,t,a)=>{a.d(t,{A:()=>p});var r=a(20641),n=a(90033);const o={class:"chart-heading"},l=["href"];function i(e,t,a,i,s,c){return(0,r.uX)(),(0,r.CE)("div",o,[(0,r.Lk)("h1",null,(0,n.toDisplayString)(e.t("chartHeading.overview")),1),(0,r.eW)(" "+(0,n.toDisplayString)(e.t("chartHeading.poweredBy"))+" ",1),(0,r.Lk)("a",{href:a.url,rel:"nofollow noopener noreferrer",target:"_blank"},(0,n.toDisplayString)(a.label),9,l)])}const s={props:{label:{type:String,required:!0},url:{type:String,required:!0}}};var c=a(66262);const d=(0,c.A)(s,[["render",i]]),p=d},18725:(e,t,a)=>{a.r(t),a.d(t,{OPA_GATE_KEEPER_ID:()=>h,default:()=>y});var r=a(20641);const n={key:1},o=(0,r.Lk)("div",{class:"spacer"},null,-1),l={class:"mb-10"};function i(e,t,a,i,s,c){const d=(0,r.g2)("Loading"),p=(0,r.g2)("ChartHeading"),u=(0,r.g2)("Banner"),g=(0,r.g2)("t"),h=(0,r.g2)("SortableTable"),k=(0,r.gN)("clean-html");return e.$fetchState.pending?((0,r.uX)(),(0,r.Wv)(d,{key:0})):((0,r.uX)(),(0,r.CE)("div",n,[(0,r.bF)(p,{label:e.t("gatekeeperIndex.poweredBy"),url:"https://github.com/open-policy-agent/gatekeeper"},null,8,["label"]),(0,r.eW)(),(0,r.bF)(u,{color:"warning"},{default:(0,r.k6)((()=>[(0,r.bo)((0,r.Lk)("span",null,null,512),[[k,e.t("gatekeeperIndex.deprecated",{},!0)]])])),_:1}),(0,r.eW)(),o,(0,r.eW)(),(0,r.Lk)("div",l,[(0,r.Lk)("h2",null,[(0,r.bF)(g,{k:"gatekeeperIndex.violations"})])]),(0,r.eW)(),(0,r.Lk)("div",null,[(0,r.bF)(h,{headers:s.headers,rows:s.violations,search:!1,"table-actions":!1,"row-actions":!1,paging:!0,"rows-per-page":10,"key-field":"id","group-by":"templateLink.text"},null,8,["headers","rows"])])]))}var s=a(87030),c=a(80112),d=a(17899),p=a(53806),u=a(45848),g=a(45016);const h="cluster/rancher-charts/rancher-gatekeeper",k={components:{ChartHeading:s.A,SortableTable:c.A,Banner:d.l,Loading:g.A},async fetch(){const e=this.constraint?[this.constraint]:await this.$store.dispatch("cluster/findAll",{type:u.CC.SPOOFED.CONSTRAINT});this.violations=e.map(((e,t)=>({id:t,constraintLink:{text:e.nameDisplay,to:e.detailLocation},templateLink:{text:e.kind,to:{name:"c-cluster-product-resource-id",params:{resource:"templates.gatekeeper.sh.constrainttemplate",id:e.kind.toLowerCase(),product:"gatekeeper"}}},count:e.totalViolations})))},data(e){return{headers:[p.H7,p.gi,p.Wz],violations:[]}}};var b=a(66262);const v=(0,b.A)(k,[["render",i]]),y=v}}]);
//# sourceMappingURL=8725.92e4aa13.js.map