{"version":3,"file":"js/8725.92e4aa13.js","mappings":"iKAgBOA,MAAM,iB,qDAAX,QAOM,MAPN,EAOM,EANJ,QAAyC,gCAAlC,EAAAC,EAAE,0BAAD,I,QAAiC,KACzC,qBAAG,EAAAA,EAAE,2BAA4B,IAAC,YAIlB,KAHbC,KAAM,EAAAC,IACPC,IAAI,+BACJC,OAAO,W,qBACL,EAAAC,OAAK,M,CArBb,SACEC,MAAO,CACLD,MAAO,CACLE,KAAUC,OACVC,UAAU,GAEZP,IAAK,CACHK,KAAUC,OACVC,UAAU,K,eCJhB,MAAMC,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,G,2GCoDI,QAAsB,OAAjBZ,MAAM,UAAQ,S,GACdA,MAAM,S,gLAVE,EAAAa,YAAmB,U,WAAlC,QAAsC,c,WACtC,QAyBM,UAxBJ,QAGE,GAFCP,MAAO,EAAAL,EAAE,6BACVE,IAAI,mD,8BAEN,QAES,GAFDW,MAAM,WAAS,C,kBACrB,IAAiE,E,SAAjE,QAAiE,uB,GAA7C,EAAAb,EAAE,6BAA8B,CAAC,GAAG,S,iBAE1D,G,WACA,QAEM,MAFN,EAEM,EADJ,QAA6C,YAAzC,QAAoC,GAAjCc,EAAE,oC,WAEX,QAYM,aAXJ,QAUE,GATCC,QAAS,EAAAA,QACTC,KAAM,EAAAC,WACNC,QAAQ,EACR,iBAAe,EACf,eAAa,EACbC,QAAQ,EACR,gBAAe,GAChB,YAAU,KACV,WAAS,qB,sGAjEV,MAAMC,EAAqB,4CAElC,GACEC,WAAY,CACVC,aAAY,IAAEC,cAAa,IAAEC,OAAM,IAAEC,QAAO,KAE9C,WAAMC,GACJ,MAAMC,EAAcC,KAAKC,WAAa,CAACD,KAAKC,kBAAoBD,KAAKE,OAAOC,SAAS,kBAAmB,CAAExB,KAAM,KAAWyB,QAAQC,aAEnIL,KAAKX,WAAaU,EACfO,KAAI,CAACL,EAAYM,KAAM,CACtBC,GAAgBD,EAChBE,eAAgB,CACdC,KAAMT,EAAWU,YACjBC,GAAMX,EAAWY,gBAEnBC,aAAc,CACZJ,KAAMT,EAAWc,KACjBH,GAAM,CACJI,KAAQ,gCACRC,OAAQ,CACNC,SAAU,6CAA8CV,GAAIP,EAAWc,KAAKI,cAAeC,QAAS,gBAI1GC,MAAOpB,EAAWqB,mBAExB,EACA,IAAAC,CAAKC,GACH,MAAO,CACLrC,QAAS,CACP,KACA,KACA,MAEFE,WAAY,GAEhB,G,eCxCF,MAAMP,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,G","sources":["webpack://dashboard/./shell/components/ChartHeading.vue","webpack://dashboard/./shell/components/ChartHeading.vue?c0d0","webpack://dashboard/./shell/pages/c/_cluster/gatekeeper/index.vue","webpack://dashboard/./shell/pages/c/_cluster/gatekeeper/index.vue?fbaf"],"sourcesContent":["<script>\nexport default {\n  props: {\n    label: {\n      type:     String,\n      required: true\n    },\n    url: {\n      type:     String,\n      required: true\n    }\n  }\n};\n</script>\n\n<template>\n  <div class=\"chart-heading\">\n    <h1>{{ t('chartHeading.overview') }}</h1>\n    {{ t('chartHeading.poweredBy') }} <a\n      :href=\"url\"\n      rel=\"nofollow noopener noreferrer\"\n      target=\"_blank\"\n    >{{ label }}</a>\n  </div>\n</template>\n","import { render } from \"./ChartHeading.vue?vue&type=template&id=3fa1a3e2\"\nimport script from \"./ChartHeading.vue?vue&type=script&lang=js\"\nexport * from \"./ChartHeading.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<script>\nimport ChartHeading from '@shell/components/ChartHeading';\nimport SortableTable from '@shell/components/SortableTable';\nimport { Banner } from '@components/Banner';\nimport { CONSTRAINT_VIOLATION_CONSTRAINT_LINK, CONSTRAINT_VIOLATION_COUNT, CONSTRAINT_VIOLATION_TEMPLATE_LINK } from '@shell/config/table-headers';\nimport { GATEKEEPER } from '@shell/config/types';\nimport Loading from '@shell/components/Loading';\n\nexport const OPA_GATE_KEEPER_ID = 'cluster/rancher-charts/rancher-gatekeeper';\n\nexport default {\n  components: {\n    ChartHeading, SortableTable, Banner, Loading\n  },\n  async fetch() {\n    const constraints = this.constraint ? [this.constraint] : await this.$store.dispatch('cluster/findAll', { type: GATEKEEPER.SPOOFED.CONSTRAINT });\n\n    this.violations = constraints\n      .map((constraint, i) => ({\n        id:             i,\n        constraintLink: {\n          text: constraint.nameDisplay,\n          to:   constraint.detailLocation\n        },\n        templateLink: {\n          text: constraint.kind,\n          to:   {\n            name:   'c-cluster-product-resource-id',\n            params: {\n              resource: 'templates.gatekeeper.sh.constrainttemplate', id: constraint.kind.toLowerCase(), product: 'gatekeeper'\n            }\n          }\n        },\n        count: constraint.totalViolations\n      }));\n  },\n  data(ctx) {\n    return {\n      headers: [\n        CONSTRAINT_VIOLATION_CONSTRAINT_LINK,\n        CONSTRAINT_VIOLATION_TEMPLATE_LINK,\n        CONSTRAINT_VIOLATION_COUNT\n      ],\n      violations: []\n    };\n  }\n};\n</script>\n\n<template>\n  <Loading v-if=\"$fetchState.pending\" />\n  <div v-else>\n    <ChartHeading\n      :label=\"t('gatekeeperIndex.poweredBy')\"\n      url=\"https://github.com/open-policy-agent/gatekeeper\"\n    />\n    <Banner color=\"warning\">\n      <span v-clean-html=\"t('gatekeeperIndex.deprecated', {}, true)\" />\n    </Banner>\n    <div class=\"spacer\" />\n    <div class=\"mb-10\">\n      <h2><t k=\"gatekeeperIndex.violations\" /></h2>\n    </div>\n    <div>\n      <SortableTable\n        :headers=\"headers\"\n        :rows=\"violations\"\n        :search=\"false\"\n        :table-actions=\"false\"\n        :row-actions=\"false\"\n        :paging=\"true\"\n        :rows-per-page=\"10\"\n        key-field=\"id\"\n        group-by=\"templateLink.text\"\n      />\n    </div>\n  </div>\n</template>\n","import { render } from \"./index.vue?vue&type=template&id=48f2469e\"\nimport script from \"./index.vue?vue&type=script&lang=js\"\nexport * from \"./index.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","t","href","url","rel","target","label","props","type","String","required","__exports__","render","$fetchState","color","k","headers","rows","violations","search","paging","OPA_GATE_KEEPER_ID","components","ChartHeading","SortableTable","Banner","Loading","fetch","constraints","this","constraint","$store","dispatch","SPOOFED","CONSTRAINT","map","i","id","constraintLink","text","nameDisplay","to","detailLocation","templateLink","kind","name","params","resource","toLowerCase","product","count","totalViolations","data","ctx"],"sourceRoot":""}