"use strict";(self["webpackChunkdashboard"]=self["webpackChunkdashboard"]||[]).push([[4768],{65724:(e,s,t)=>{t.d(s,{A:()=>o});const o={props:{focusOnMount:{type:Boolean,required:!0},name:{type:String,required:!0}},computed:{displayName(){return this.t(`model.authConfig.provider.${this.name}`)}},mounted(){this.focusOnMount&&this.focus()},methods:{focus(){this.$refs.btn.focus()}}}},97135:(e,s,t)=>{t.r(s),t.d(s,{default:()=>v});var o=t(20641),a=t(90033);const n={class:"span-6 offset-3"},l={class:"mb-20"},r={class:"mb-20"},i={class:"row"},u={class:"col span-12 text-center"},p={key:1,class:"text-center"};function d(e,s,t,d,c,b){const m=(0,o.g2)("LabeledInput"),h=(0,o.g2)("AsyncButton");return(0,o.uX)(),(0,o.CE)("form",null,[t.open?((0,o.uX)(),(0,o.CE)(o.FK,{key:0},[(0,o.Lk)("div",n,[(0,o.Lk)("div",l,[(0,o.bF)(m,{value:c.username,"onUpdate:value":s[0]||(s[0]=e=>c.username=e),label:e.t("login.username"),autocomplete:"username"},null,8,["value","label"])]),(0,o.eW)(),(0,o.Lk)("div",r,[(0,o.bF)(m,{value:c.password,"onUpdate:value":s[1]||(s[1]=e=>c.password=e),type:"password",label:e.t("login.password"),autocomplete:"password"},null,8,["value","label"])])]),(0,o.eW)(),(0,o.Lk)("div",i,[(0,o.Lk)("div",u,[(0,o.bF)(h,{ref:"btn",type:"submit","action-label":e.t("login.loginWithProvider",{provider:e.displayName}),"waiting-label":e.t("login.loggingIn"),"success-label":e.t("login.loggedIn"),"error-label":e.t("asyncButton.default.error"),class:"btn bg-primary",style:{"font-size":"18px"},onClick:b.login},null,8,["action-label","waiting-label","success-label","error-label","onClick"])])])],64)):((0,o.uX)(),(0,o.CE)("div",p,[(0,o.Lk)("button",{style:{"font-size":"18px"},type:"button",class:"btn bg-primary",onClick:s[2]||(s[2]=s=>e.$emit("showInputs"))},(0,a.toDisplayString)(e.t("login.loginWithProvider",{provider:e.displayName})),1)]))])}var c=t(76773),b=t(17793),m=t(65724);const h={emits:["error","showInputs"],components:{LabeledInput:c.o,AsyncButton:b.A},mixins:[m.A],props:{open:{type:Boolean,default:!1}},data(){return{username:"",password:""}},methods:{async login(e){try{this.err=null,await this.$store.dispatch("auth/login",{provider:this.name,body:{username:this.username,password:this.password}}),e(!0),this.$router.replace("/")}catch(s){this.err=s,this.$emit("error",s),e(!1)}}}};var g=t(66262);const y=(0,g.A)(h,[["render",d]]),v=y}}]);
//# sourceMappingURL=login2.00bb25b6.js.map