(window.webpackJsonp=window.webpackJsonp||[]).push([[100],{2671:function(e,t,r){"use strict";var n=r(6),o=r(66),c=r(7),l=(r(2),r(3),r(4),r(5),r(26),r(9));t.a=function(e,t,r){var d=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return function(){var m=Object(c.a)(regeneratorRuntime.mark((function c(m){var v,h,f,k,w,x;return regeneratorRuntime.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:if(h=m.redirect,f=m.store,k=(null===(v=f.getters.currentCluster)||void 0===v?void 0:v.id)||"local",!f.getters["type-map/isProductActive"](e)){c.next=9;break}if(!r){c.next=7;break}if("object"!==Object(o.a)(r)){c.next=6;break}return c.abrupt("return",h(r));case 6:return c.abrupt("return",h({name:"c-cluster-product-resource",params:{cluster:k,product:e,resource:r}}));case 7:c.next=21;break;case 9:if(!d){c.next=20;break}return c.next=12,f.dispatch("catalog/load");case 12:if(!(w=f.getters["catalog/chart"]({chartName:t}))){c.next=17;break}return c.abrupt("return",h({name:"c-cluster-apps-charts-chart",params:{cluster:k},query:(x={},Object(n.a)(x,l.z,w.repoType),Object(n.a)(x,l.y,w.repoName),Object(n.a)(x,l.d,w.chartName),Object(n.a)(x,l.G,w.versions[0].version),x)}));case 17:f.dispatch("loadingError","Chart not found for ".concat(e));case 18:c.next=21;break;case 20:return c.abrupt("return",h({name:"c-cluster-explorer",params:{cluster:k}}));case 21:case"end":return c.stop()}}),c)})));return function(e){return m.apply(this,arguments)}}()}},3193:function(e,t,r){"use strict";r.r(t);var n=r(7),o=(r(2),r(3),r(4),r(5),r(16),r(10),r(18),r(26),r(44)),c=r.n(o),l=r(2671),d=r(1034),m=r(414),v=r(0),h=r(58),f=r(11),k=r(40),w=r(645),x=r(649),y=r(235),L="cattle-monitoring-system",j={components:{Banner:k.a,LazyImage:w.a,SimpleBox:x.a,AlertTable:d.a},middleware:Object(l.a)(m.NAME,m.CHART_NAME),fetch:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.fetchDeps();case 2:case"end":return t.stop()}}),t)})))()},data:function(){var e=r(1594),t=r(1599),n=this.$store.getters.currentCluster;return{availableLinks:{alertmanager:!1,grafana:!1,prometheus:!1},resources:[v.y.ALERTMANAGER,v.y.PROMETHEUS],v1Installed:!1,externalLinks:[{enabled:!1,group:"alertmanager",iconSrc:t,label:"monitoring.overview.linkedList.alertManager.label",description:"monitoring.overview.linkedList.alertManager.description",link:"/k8s/clusters/".concat(n.id,"/api/v1/namespaces/cattle-monitoring-system/services/http:rancher-monitoring-alertmanager:9093/proxy")},{enabled:!1,group:"grafana",iconSrc:e,label:"monitoring.overview.linkedList.grafana.label",description:"monitoring.overview.linkedList.grafana.description",link:"/k8s/clusters/".concat(n.id,"/api/v1/namespaces/cattle-monitoring-system/services/http:rancher-monitoring-grafana:80/proxy")},{enabled:!1,group:"prometheus",iconSrc:t,label:"monitoring.overview.linkedList.prometheusPromQl.label",description:"monitoring.overview.linkedList.prometheusPromQl.description",link:"/k8s/clusters/".concat(n.id,"/api/v1/namespaces/cattle-monitoring-system/services/http:rancher-monitoring-prometheus:9090/proxy/graph")},{enabled:!1,group:"prometheus",iconSrc:t,label:"monitoring.overview.linkedList.prometheusRules.label",description:"monitoring.overview.linkedList.prometheusRules.description",link:"/k8s/clusters/".concat(n.id,"/api/v1/namespaces/cattle-monitoring-system/services/http:rancher-monitoring-prometheus:9090/proxy/rules")},{enabled:!1,group:"prometheus",iconSrc:t,label:"monitoring.overview.linkedList.prometheusTargets.label",description:"monitoring.overview.linkedList.prometheusTargets.description",link:"/k8s/clusters/".concat(n.id,"/api/v1/namespaces/cattle-monitoring-system/services/http:rancher-monitoring-prometheus:9090/proxy/targets")}]}},methods:{fetchDeps:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r,n,o,l,d,m,k,w,x;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.$store,n=e.externalLinks,t.next=3,Object(y.b)(r);case 3:return e.v1Installed=t.sent,t.next=6,Object(h.a)({endpoints:r.dispatch("cluster/findAll",{type:v.k})});case 6:o=t.sent,c()(o.endpoints)||(l=Object(f.e)(n,"group","alertmanager"),d=Object(f.e)(n,"group","grafana"),m=n.filter((function(e){return"prometheus"===e.group})),k=Object(f.e)(o.endpoints,"id","".concat(L,"/rancher-monitoring-alertmanager")),w=Object(f.e)(o.endpoints,"id","".concat(L,"/rancher-monitoring-grafana")),x=Object(f.e)(o.endpoints,"id","".concat(L,"/rancher-monitoring-prometheus")),c()(k)||c()(k.subsets)||(l.enabled=!0),c()(w)||c()(w.subsets)||(d.enabled=!0),c()(x)||c()(x.subsets)||m.forEach((function(e){e.enabled=!0})));case 8:case"end":return t.stop()}}),t)})))()}}},O=r(1),component=Object(O.a)(j,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",[r("header",{staticClass:"row"},[r("div",{staticClass:"col span-12"},[r("h1",[r("t",{attrs:{k:"monitoring.overview.title"}})],1),e._v(" "),r("div",[r("t",{attrs:{k:"monitoring.overview.subtitle",raw:!0}})],1)])]),e._v(" "),r("div",[e.v1Installed?r("Banner",{attrs:{color:"warning"},scopedSlots:e._u([{key:"default",fn:function(){return[r("t",{attrs:{k:"monitoring.v1Warning",raw:!0}})]},proxy:!0}],null,!1,1527155515)}):e._e(),e._v(" "),r("div",{staticClass:"create-resource-container"},[r("div",{staticClass:"subtypes-container"},e._l(e.externalLinks,(function(t){return r("a",{directives:[{name:"tooltip",rawName:"v-tooltip",value:t.enabled?void 0:e.t("monitoring.overview.linkedList.na"),expression:"\n            !fel.enabled ? t('monitoring.overview.linkedList.na') : undefined\n          "}],key:t.label,class:{"subtype-banner":!0,disabled:!t.enabled},attrs:{href:t.enabled?t.link:void 0,disabled:!t.enabled,target:"_blank",rel:"noopener noreferrer"}},[r("div",{staticClass:"subtype-content"},[r("div",{staticClass:"title"},[r("div",{staticClass:"subtype-logo round-image"},[r("LazyImage",{attrs:{src:t.iconSrc}})],1),e._v(" "),r("h5",[r("span",[r("t",{attrs:{k:t.label}})],1)]),e._v(" "),e._m(0,!0)]),e._v(" "),r("hr"),e._v(" "),r("div",{staticClass:"description"},[r("span",[r("t",{attrs:{k:t.description}})],1)])])])})),0)])],1),e._v(" "),r("div",[r("SimpleBox",{staticClass:"mt-30",attrs:{title:e.t("monitoring.overview.alertsList.label")}},[r("AlertTable")],1)],1)])}),[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"flex-right"},[t("i",{staticClass:"icon icon-external-link"})])}],!1,null,null,null);t.default=component.exports}}]);
//# sourceMappingURL=1a5b283e8c51ff6c0579.js.map