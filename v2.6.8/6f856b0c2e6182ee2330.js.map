{"version":3,"sources":["webpack:///./shell/pages/c/_cluster/explorer/explorer-utils.js","webpack:///./shell/pages/c/_cluster/explorer/EventsTable.vue?d840","webpack:///shell/pages/c/_cluster/explorer/EventsTable.vue","webpack:///./shell/pages/c/_cluster/explorer/EventsTable.vue?4351","webpack:///./shell/pages/c/_cluster/explorer/EventsTable.vue"],"names":["fetchClusterResources","store","type","opt","getters","dispatch","resources","console","error","components","data","events","eventHeaders","width","component","_vm","this","_h","$createElement","_c","_self","attrs","$fetchState","pending","scopedSlots","_u","key","fn","ref","row","value","detailLocation","_v","_s","displayMessage","_e"],"mappings":"iMAAO,SAAeA,EAAtB,oC,2DAAO,WAAqCC,EAAOC,GAA5C,uGAAkDC,EAAlD,+BAAwD,IAC9CF,EAAMG,QAAQ,qBAAqBF,GAD7C,0CAKuBD,EAAMI,SAAS,kBAAmB,CAAEH,OAAMC,QALjE,cAKKG,EALL,yBAOMA,GAPN,yCASDC,QAAQC,MAAR,2CAAmDN,EAAnD,sBATC,kBAWM,IAXN,iCAeE,IAfF,0D,6GCAP,I,ssBCOA,ICPsV,EDOtV,CACEO,WAAY,CAAd,mBAEE,MAHF,WAGA,oKACA,8CADA,OACA,SADA,qDAIEC,KAPF,WAoCI,MAAO,CACLC,OAAQ,GACRC,aAxBN,CANA,SACA,MACA,CAAM,eAAN,IAFA,IAGMC,MAAO,MAKb,CACM,KAAN,WACM,MAAN,WACM,SAAN,kDACM,MAAN,wBACM,KAAN,8CACM,eAAN,GAEA,CACM,KAAN,OACM,MAAN,OACM,SAAN,8CACM,MAAN,YACM,KAAN,iBACM,UAAN,OACM,MAAN,IACM,aAAN,O,OEhCIC,UAAY,YACd,GHRW,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,gBAAgB,CAACE,MAAM,CAAC,QAAUN,EAAIO,YAAYC,QAAQ,KAAOR,EAAIJ,OAAO,QAAUI,EAAIH,aAAa,YAAY,KAAK,QAAS,EAAM,iBAAgB,EAAM,eAAc,EAAM,QAAS,EAAK,gBAAgB,GAAG,kBAAkB,QAAQY,YAAYT,EAAIU,GAAG,CAAC,CAACC,IAAI,gBAAgBC,GAAG,SAASC,GACpY,IAAIC,EAAMD,EAAIC,IACVC,EAAQF,EAAIE,MAChB,MAAO,CAACX,EAAG,SAAS,CAACE,MAAM,CAAC,GAAKQ,EAAIE,iBAAiB,CAAChB,EAAIiB,GAAG,WAAWjB,EAAIkB,GAAGH,GAAO,YAAYf,EAAIiB,GAAG,KAAMH,EAAW,QAAEV,EAAG,MAAM,CAACJ,EAAIiB,GAAG,WAAWjB,EAAIkB,GAAGJ,EAAIK,gBAAgB,YAAYnB,EAAIoB,cAC9K,IGOpB,EACA,KACA,KACA,MAIa,UAAArB,U","file":"6f856b0c2e6182ee2330.js","sourcesContent":["export async function fetchClusterResources(store, type, opt = {}) {\n  const schema = store.getters['cluster/schemaFor'](type);\n\n  if (schema) {\n    try {\n      const resources = await store.dispatch('cluster/findAll', { type, opt });\n\n      return resources;\n    } catch (err) {\n      console.error(`Failed fetching cluster resource ${ type } with error:`, err); // eslint-disable-line no-console\n\n      return [];\n    }\n  }\n\n  return [];\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('SortableTable',{attrs:{\"loading\":_vm.$fetchState.pending,\"rows\":_vm.events,\"headers\":_vm.eventHeaders,\"key-field\":\"id\",\"search\":false,\"table-actions\":false,\"row-actions\":false,\"paging\":true,\"rows-per-page\":10,\"default-sort-by\":\"date\"},scopedSlots:_vm._u([{key:\"cell:resource\",fn:function(ref){\nvar row = ref.row;\nvar value = ref.value;\nreturn [_c('n-link',{attrs:{\"to\":row.detailLocation}},[_vm._v(\"\\n      \"+_vm._s(value)+\"\\n    \")]),_vm._v(\" \"),(row.message)?_c('div',[_vm._v(\"\\n      \"+_vm._s(row.displayMessage)+\"\\n    \")]):_vm._e()]}}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\n\nimport SortableTable from '@shell/components/SortableTable';\nimport { REASON } from '@shell/config/table-headers';\nimport { EVENT } from '@shell/config/types';\nimport { fetchClusterResources } from './explorer-utils';\n\nexport default {\n  components: { SortableTable },\n\n  async fetch() {\n    this.events = await fetchClusterResources(this.$store, EVENT);\n  },\n\n  data() {\n    const reason = {\n      ...REASON,\n      ...{ canBeVariable: true },\n      width: 130,\n    };\n\n    const eventHeaders = [\n      reason,\n      {\n        name:          'resource',\n        label:         'Resource',\n        labelKey:      'clusterIndexPage.sections.events.resource.label',\n        value:         'displayInvolvedObject',\n        sort:          ['involvedObject.kind', 'involvedObject.name'],\n        canBeVariable: true,\n      },\n      {\n        name:          'date',\n        label:         'Date',\n        labelKey:      'clusterIndexPage.sections.events.date.label',\n        value:         'timestamp',\n        sort:          'timestamp:desc',\n        formatter:     'Date',\n        width:         220,\n        defaultSort:   true,\n      },\n    ];\n\n    return {\n      events: [],\n      eventHeaders,\n    };\n  }\n};\n</script>\n\n<template>\n  <SortableTable\n    :loading=\"$fetchState.pending\"\n    :rows=\"events\"\n    :headers=\"eventHeaders\"\n    key-field=\"id\"\n    :search=\"false\"\n    :table-actions=\"false\"\n    :row-actions=\"false\"\n    :paging=\"true\"\n    :rows-per-page=\"10\"\n    default-sort-by=\"date\"\n  >\n    <template #cell:resource=\"{row, value}\">\n      <n-link :to=\"row.detailLocation\">\n        {{ value }}\n      </n-link>\n      <div v-if=\"row.message\">\n        {{ row.displayMessage }}\n      </div>\n    </template>\n  </SortableTable>\n</template>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--6-0!../../../../../node_modules/thread-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/babel-loader/lib/index.js??ref--6-2!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EventsTable.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--6-0!../../../../../node_modules/thread-loader/dist/cjs.js??ref--6-1!../../../../../node_modules/babel-loader/lib/index.js??ref--6-2!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EventsTable.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EventsTable.vue?vue&type=template&id=ac95c2c4&\"\nimport script from \"./EventsTable.vue?vue&type=script&lang=js&\"\nexport * from \"./EventsTable.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}