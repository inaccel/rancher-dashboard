{"version":3,"sources":["webpack:///./shell/pages/c/_cluster/auth/config/index.vue?e084","webpack:///./shell/pages/c/_cluster/auth/config/index.vue?6ef7","webpack:///shell/pages/c/_cluster/auth/config/index.vue","webpack:///./shell/pages/c/_cluster/auth/config/index.vue"],"names":["components","data","resource","schema","hasListComponent","hasEditComponent","nonLocal","computed","rows","displayName","this","$store","getters","localUsersRoute","name","params","cluster","$route","methods","colorFor","goTo","$router","push","query","component","_vm","_h","$createElement","_c","_self","staticClass","_v","_s","enabled","length","_e","attrs","t","on","row","id"],"mappings":"mGAAA,I,0FCA4V,ECQ5V,CACEA,WAAY,CAAd,+BAEE,UAHF,YAGA,0LACA,eADA,cACA,EADA,QAGA,iBACA,qBAJA,kBAOA,yCAPA,8CAUEC,KAbF,WAcI,IAAJ,kBACA,sBACA,oBACA,iCACA,iCAGI,MAAO,CACLC,SAAN,EACMC,OAJN,gCAKMC,iBAAN,EACMC,iBAAN,EAGMC,SAAU,OAIdC,SAAU,CACRC,KADJ,WAEM,OAAO,OAAb,IAAa,CAAb,4CAGIC,YALJ,WAMM,OAAOC,KAAKC,OAAOC,QAAQ,qBAAqBF,KAAKP,OAAQ,IAG/DU,gBATJ,WAUM,MAAO,CACLC,KAAM,6BACNC,OAAQ,CACNC,QAASN,KAAKO,OAAOF,OAAOC,QAA5B,QAAV,OAAU,SAAV,aAMEE,QAAS,CACPC,SADJ,SACA,GACM,IAEN,EAFA,+BAEA,sBAEM,OAAN,IAAU,EACK,SAGF,QAAb,aAGIC,KAbJ,SAaA,GACMV,KAAKW,QAAQC,KAAK,CAChBR,KAAM,2BACNC,OAAQ,CAAhB,MACQQ,MAAO,OAAf,IAAe,CAAf,iB,OCrEIC,UAAY,YACd,GHRW,WAAa,IAAIC,EAAIf,KAASgB,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,KAAK,CAACE,YAAY,OAAO,CAACL,EAAIM,GAAG,SAASN,EAAIO,GAAGP,EAAIhB,aAAa,UAAUgB,EAAIM,GAAG,KAAON,EAAIQ,QAAQC,OAA2WT,EAAIU,KAAvWP,EAAG,SAAS,CAACQ,MAAM,CAAC,MAAQX,EAAIY,EAAE,0BAA0B,MAAQ,SAAS,CAACZ,EAAIM,GAAG,SAASN,EAAIO,GAAGP,EAAIY,EAAE,4BAA4B,UAAUT,EAAG,YAAY,CAACQ,MAAM,CAAC,GAAKX,EAAIZ,kBAAkB,CAACY,EAAIM,GAAG,WAAWN,EAAIO,GAAGP,EAAIY,EAAE,2BAA2B,YAAYZ,EAAIM,GAAG,KAAKH,EAAG,MAAMH,EAAIM,GAAG,SAASN,EAAIO,GAAGP,EAAIY,EAAE,2BAA2B,SAAS,GAAYZ,EAAIM,GAAG,KAAKH,EAAG,iBAAiB,CAACQ,MAAM,CAAC,KAAOX,EAAIjB,KAAK,YAAYiB,EAAIN,SAAS,aAAa,YAAYmB,GAAG,CAAC,QAAU,SAAUC,GAAO,OAAOd,EAAIL,KAAKmB,EAAIC,SAAW,KACztB,IGUpB,EACA,KACA,KACA,MAIa,UAAAhB,U","file":"9356b249447540a36fdf.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h1',{staticClass:\"m-0\"},[_vm._v(\"\\n    \"+_vm._s(_vm.displayName)+\"\\n  \")]),_vm._v(\" \"),(!_vm.enabled.length)?_c('Banner',{attrs:{\"label\":_vm.t('authConfig.noneEnabled'),\"color\":\"info\"}},[_vm._v(\"\\n    \"+_vm._s(_vm.t('authConfig.localEnabled'))+\"\\n    \"),_c('nuxt-link',{attrs:{\"to\":_vm.localUsersRoute}},[_vm._v(\"\\n      \"+_vm._s(_vm.t('authConfig.manageLocal'))+\"\\n    \")]),_vm._v(\" \"),_c('br'),_vm._v(\"\\n    \"+_vm._s(_vm.t('authConfig.noneEnabled'))+\"\\n  \")],1):_vm._e(),_vm._v(\" \"),_c('SelectIconGrid',{attrs:{\"rows\":_vm.rows,\"color-for\":_vm.colorFor,\"name-field\":\"provider\"},on:{\"clicked\":function (row) { return _vm.goTo(row.id); }}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--6-0!../../../../../../node_modules/thread-loader/dist/cjs.js??ref--6-1!../../../../../../node_modules/babel-loader/lib/index.js??ref--6-2!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--6-0!../../../../../../node_modules/thread-loader/dist/cjs.js??ref--6-1!../../../../../../node_modules/babel-loader/lib/index.js??ref--6-2!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","<script>\nimport { MANAGEMENT } from '@shell/config/types';\nimport SelectIconGrid from '@shell/components/SelectIconGrid';\nimport { sortBy } from '@shell/utils/sort';\nimport { MODE, _EDIT } from '@shell/config/query-params';\nimport { authProvidersInfo } from '@shell/utils/auth';\nimport { Banner } from '@components/Banner';\n\nexport default {\n  components: { SelectIconGrid, Banner },\n\n  async asyncData({ store, redirect }) {\n    const authProvs = await authProvidersInfo(store);\n\n    if (!!authProvs.enabledLocation) {\n      redirect(authProvs.enabledLocation);\n    }\n\n    return { nonLocal: authProvs.nonLocal, enabled: authProvs.enabled };\n  },\n\n  data() {\n    const resource = MANAGEMENT.AUTH_CONFIG;\n    const getters = this.$store.getters;\n    const inStore = getters['currentStore'](resource);\n    const hasListComponent = getters['type-map/hasCustomList'](resource);\n    const hasEditComponent = getters['type-map/hasCustomEdit'](resource);\n    const schema = getters[`${ inStore }/schemaFor`](resource);\n\n    return {\n      resource,\n      schema,\n      hasListComponent,\n      hasEditComponent,\n\n      // Provided by asyncData later\n      nonLocal: null,\n    };\n  },\n\n  computed: {\n    rows() {\n      return sortBy(this.nonLocal, ['sideLabel', 'nameDisplay']);\n    },\n\n    displayName() {\n      return this.$store.getters['type-map/labelFor'](this.schema, 2);\n    },\n\n    localUsersRoute() {\n      return {\n        name:   'c-cluster-product-resource',\n        params: {\n          cluster: this.$route.params.cluster, product: 'auth', resource: MANAGEMENT.USER\n        }\n      };\n    },\n  },\n\n  methods: {\n    colorFor(row) {\n      const types = ['ldap', 'oauth', 'saml', 'oidc'];\n\n      const idx = types.indexOf(row.configType);\n\n      if ( idx === -1 ) {\n        return 'color8';\n      }\n\n      return `color${ idx + 1 }`;\n    },\n\n    goTo(id) {\n      this.$router.push({\n        name:   'c-cluster-auth-config-id',\n        params: { id },\n        query:  { [MODE]: _EDIT }\n      });\n    },\n  }\n};\n</script>\n\n<template>\n  <div>\n    <h1 class=\"m-0\">\n      {{ displayName }}\n    </h1>\n    <Banner v-if=\"!enabled.length\" :label=\"t('authConfig.noneEnabled')\" color=\"info\">\n      {{ t('authConfig.localEnabled') }}\n      <nuxt-link :to=\"localUsersRoute\">\n        {{ t('authConfig.manageLocal') }}\n      </nuxt-link>\n      <br />\n      {{ t('authConfig.noneEnabled') }}\n    </Banner>\n    <SelectIconGrid\n      :rows=\"rows\"\n      :color-for=\"colorFor\"\n      name-field=\"provider\"\n      @clicked=\"(row) => goTo(row.id)\"\n    />\n  </div>\n</template>\n","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=be8fc378&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}