{"version":3,"sources":["webpack:///./shell/pages/index.vue?de10","webpack:///shell/pages/index.vue","webpack:///./shell/pages/index.vue"],"names":["middleware","versionInfo","fullVersion","seenWhatsNew","isSingleProduct","redirect","component","render","staticRenderFns"],"mappings":"6IAA4S,ECI5S,CACEA,WADF,YACA,2BACA,2CACA,iBACA,4BAGI,OAAIC,EAAYC,cAAgBC,GAAiBC,EAO1CC,EAFX,oCAJaA,EAAS,CAAtB,gB,OCLIC,UAAY,YACd,EAREC,UAAQC,WAWV,EACA,KACA,KACA,MAIa,UAAAF,U","file":"a977e47bccf15c5c6716.js","sourcesContent":["import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--6-0!../../node_modules/thread-loader/dist/cjs.js??ref--6-1!../../node_modules/babel-loader/lib/index.js??ref--6-2!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--6-0!../../node_modules/thread-loader/dist/cjs.js??ref--6-1!../../node_modules/babel-loader/lib/index.js??ref--6-2!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","<script>\nimport { SEEN_WHATS_NEW } from '@shell/store/prefs';\nimport { getVersionInfo } from '@shell/utils/version';\n\nexport default {\n  middleware({ redirect, store } ) {\n    const seenWhatsNew = store.getters['prefs/get'](SEEN_WHATS_NEW);\n    const versionInfo = getVersionInfo(store);\n    const isSingleProduct = store.getters['isSingleProduct'];\n\n    // If this is a new version, then take the user to the home page to view the release notes\n    if (versionInfo.fullVersion !== seenWhatsNew && !isSingleProduct) {\n      return redirect({ name: 'home' });\n    }\n\n    // Take the user to the configured login route\n    const afterLoginRouteObject = store.getters['prefs/afterLoginRoute'];\n\n    return redirect(afterLoginRouteObject);\n  }\n};\n</script>\n","var render, staticRenderFns\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}