{"version":3,"sources":["webpack:///./shell/components/ExplorerProjectsNamespaces.vue?4ab0","webpack:///./shell/components/ExplorerProjectsNamespaces.vue?858b","webpack:///./shell/components/ExplorerProjectsNamespaces.vue?d17c","webpack:///./shell/components/ExplorerProjectsNamespaces.vue?7dcc","webpack:///./shell/components/ExplorerProjectsNamespaces.vue?9dd7","webpack:///./shell/components/ExplorerProjectsNamespaces.vue?e4c4","webpack:///./shell/components/ExtensionPanel.vue","webpack:///shell/components/ExtensionPanel.vue","webpack:///./shell/components/ExtensionPanel.vue?5adc","webpack:///./shell/components/ExtensionPanel.vue?f36d","webpack:///./shell/pages/c/_cluster/_product/projectsnamespaces.vue","webpack:///./shell/components/ExplorerProjectsNamespaces.vue","webpack:///shell/components/ExplorerProjectsNamespaces.vue","webpack:///./shell/components/ExplorerProjectsNamespaces.vue?abb7","webpack:///./shell/components/ExplorerProjectsNamespaces.vue?0ec5","webpack:///shell/pages/c/_cluster/_product/projectsnamespaces.vue","webpack:///./shell/pages/c/_cluster/_product/projectsnamespaces.vue?aa74","webpack:///./shell/pages/c/_cluster/_product/projectsnamespaces.vue?181a"],"names":["___CSS_LOADER_API_IMPORT___","exports","push","module","i","content","__esModule","default","locals","add","render","_vm","this","_c","_self","extensionData","length","_l","item","key","concat","location","component","tag","attrs","resource","_e","staticRenderFns","name","props","type","Object","String","data","getApplicableExtensionEnhancements","$route","_b","$attrs","staticClass","projectSchema","t","MANAGEMENT","PROJECT","VIRTUAL_TYPES","PROJECT_NAMESPACES","createProjectLocation","showIncrementalLoadingIndicator","loadResources","loadIndeterminate","showCreateNsButton","slot","createNamespaceLocationFlatList","_v","_s","extensionType","extensionLocation","_g","ref","schema","headers","filteredRows","sortGenerationFn","loading","scopedSlots","_u","fn","group","class","projectDescription","directives","rawName","value","projectLabel","expression","isNamespaceCreatable","canSeeProjectlessNamespaces","notInProjectKey","createNamespaceLocation","invisible","showProjectActionButton","on","$event","showProjectAction","_ref","row","project","nameDisplay","_ref2","detailLocation","hideDetailLocation","injectionEnabled","hasSystemLabels","getPsaTooltip","projectsWithoutNamespaces","slotName","id","proxy","$listeners","clearSelection","components","ExtensionPanel","Masthead","MoveModal","ResourceTable","mixins","ResourceFetch","createProjectLocationOverride","createNamespaceLocationOverride","fetch","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","inStore","wrap","_context","prev","next","$store","getters","NAMESPACE","abrupt","$fetchType","dispatch","opt","force","projects","sent","stop","ExtensionPoint","PANEL","PanelLocation","RESOURCE_LIST","defaultCreateProjectLocation","params","product","computed","_objectSpread","mapGetters","namespaces","currentCluster","$fetchState","pending","_this$perfConfig","_this$perfConfig$incr","perfConfig","incrementalLoading","enabled","_this$schema","collectionMethods","includes","label","sort","STATE","NAME","groupPreference","AGE","filter","h","projectIdsWithNamespaces","ids","rows","map","projectId","uniq","clusterProjects","_this$currentProduct","_this$currentProduct2","clusterId","projectsInAllClusters","currentProduct","customNamespaceFilter","clustersInProjects","spec","clusterName","_this2","activeProjects","find","_project$id","endsWith","rowsWithFakeNamespaces","fakeRows","_project$spec","groupByLabel","isFake","mainRowKey","displayName","availableActions","showMockNotInProjectGroup","_toConsumableArray","mapPref","GROUP_RESOURCES","activeNamespaceFilters","activeProjectFilters","_step","_iterator","_createForOfIteratorHelper","s","n","done","_filter$split","split","_filter$split2","_slicedToArray","err","e","f","_this3","namespaceFilters","NAMESPACE_FILTER_ALL_ORPHANS","keys","userIsFilteringForSpecificNamespaceOrProject","projectData","activeNamespaces","namespaceData","metadata","_this4","ALL_NAMESPACES","namespace","_this4$currentProduct","isSettingSystemNamespace","systemNS","isSystem","isFleetManaged","hideSystemResources","canUpdate","someNamespacesAreNotInProject","some","usingSpecificFilter","methods","dictionary","psaTooltipsDescription","list","values","text","join","title","activeFilters","filterType","query","_defineProperty","PROJECT_ID","_this$$store$getters$","FLAT_VIEW","event","commit","resources","elem","target","_row$project","DOMPurify","sanitize","ALLOWED_TAGS","description","$refs","table","base","defaultTableSortGenerationFn","ExplorerProjectsNamespaces"],"mappings":"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","file":"js/pages/c/_cluster/_product/projectsnamespaces.21b3826a.js","sourcesContent":["// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/@vue/cli-service/node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".psa-tooltip{margin:3px 0;padding:0 8px 0 22px}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-3!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ExplorerProjectsNamespaces.vue?vue&type=style&index=0&id=7c11e61f&prod&lang=scss&scoped=true&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"81ae9c40\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-3!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ExplorerProjectsNamespaces.vue?vue&type=style&index=1&id=7c11e61f&prod&lang=scss&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"dc8975d4\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","export * from \"-!../../node_modules/vue-style-loader/index.js??ref--9-oneOf-1-0!../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-3!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ExplorerProjectsNamespaces.vue?vue&type=style&index=0&id=7c11e61f&prod&lang=scss&scoped=true&\"","export * from \"-!../../node_modules/vue-style-loader/index.js??ref--9-oneOf-1-0!../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-3!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ExplorerProjectsNamespaces.vue?vue&type=style&index=1&id=7c11e61f&prod&lang=scss&\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/@vue/cli-service/node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".project-namespaces[data-v-7c11e61f] .project-name{line-height:30px}.project-namespaces[data-v-7c11e61f] .project-bar{display:flex;flex-direction:row;justify-content:space-between}.project-namespaces[data-v-7c11e61f] .project-bar.has-description .right{margin-top:5px}.project-namespaces[data-v-7c11e61f] .project-bar.has-description .group-tab,.project-namespaces[data-v-7c11e61f] .project-bar.has-description .group-tab:after{height:50px}.project-namespaces[data-v-7c11e61f] .project-bar.has-description .group-tab:after{right:-20px}.project-namespaces[data-v-7c11e61f] .project-bar.has-description .group-tab .description{margin-top:-20px}.project-namespaces[data-v-7c11e61f] .namespace-name{display:flex;align-items:center}.project-namespaces[data-v-7c11e61f] .namespace-name .icon-istio{color:var(--primary)}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.extensionData.length)?_c('div',_vm._l((_vm.extensionData),function(item,i){return _c('div',{key:`extensionData${_vm.location}${i}`},[_c(item.component,{tag:\"component\",attrs:{\"resource\":_vm.resource}})],1)}),0):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport { getApplicableExtensionEnhancements } from '@shell/core/plugin-helpers';\n\nexport default {\n  name:  'ExtensionPanel',\n  props: {\n    resource: {\n      type:    Object,\n      default: () => {\n        return {};\n      }\n    },\n    type: {\n      type:    String,\n      default: ''\n    },\n    location: {\n      type:    String,\n      default: ''\n    },\n  },\n  data() {\n    return { extensionData: getApplicableExtensionEnhancements(this, this.type, this.location, this.$route) };\n  },\n};\n</script>\n\n<template>\n  <div\n    v-if=\"extensionData.length\"\n  >\n    <div\n      v-for=\"item, i in extensionData\"\n      :key=\"`extensionData${location}${i}`\"\n    >\n      <component\n        :is=\"item.component\"\n        :resource=\"resource\"\n      />\n    </div>\n  </div>\n</template>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--16-0!../../node_modules/babel-loader/lib/index.js??ref--16-1!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ExtensionPanel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--16-0!../../node_modules/babel-loader/lib/index.js??ref--16-1!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ExtensionPanel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ExtensionPanel.vue?vue&type=template&id=738c2b23&\"\nimport script from \"./ExtensionPanel.vue?vue&type=script&lang=js&\"\nexport * from \"./ExtensionPanel.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('ExplorerProjectsNamespaces',_vm._b({},'ExplorerProjectsNamespaces',_vm.$attrs,false))\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"project-namespaces\"},[_c('Masthead',{attrs:{\"schema\":_vm.projectSchema,\"type-display\":_vm.t('projectNamespaces.label'),\"resource\":_vm.MANAGEMENT.PROJECT,\"favorite-resource\":_vm.VIRTUAL_TYPES.PROJECT_NAMESPACES,\"create-location\":_vm.createProjectLocation,\"create-button-label\":_vm.t('projectNamespaces.createProject'),\"show-incremental-loading-indicator\":_vm.showIncrementalLoadingIndicator,\"load-resources\":_vm.loadResources,\"load-indeterminate\":_vm.loadIndeterminate}},[(_vm.showCreateNsButton)?_c('template',{slot:\"extraActions\"},[_c('n-link',{staticClass:\"btn role-primary mr-10\",attrs:{\"to\":_vm.createNamespaceLocationFlatList(),\"data-testid\":\"create_project_namespaces\"}},[_vm._v(\"\\n        \"+_vm._s(_vm.t('projectNamespaces.createNamespace'))+\"\\n      \")])],1):_vm._e()],2),_vm._v(\" \"),_c('ExtensionPanel',{attrs:{\"resource\":{},\"type\":_vm.extensionType,\"location\":_vm.extensionLocation}}),_vm._v(\" \"),_c('ResourceTable',_vm._g(_vm._b({ref:\"table\",staticClass:\"table\",attrs:{\"schema\":_vm.schema,\"headers\":_vm.headers,\"rows\":_vm.filteredRows,\"groupable\":true,\"sort-generation-fn\":_vm.sortGenerationFn,\"loading\":_vm.loading,\"group-tooltip\":\"resourceTable.groupBy.project\",\"key-field\":\"_key\"},scopedSlots:_vm._u([{key:\"group-by\",fn:function(group){return [_c('div',{staticClass:\"project-bar\",class:{'has-description': _vm.projectDescription(group.group)}},[_c('div',{directives:[{name:\"trim-whitespace\",rawName:\"v-trim-whitespace\"}],staticClass:\"group-tab\"},[_c('div',{directives:[{name:\"clean-html\",rawName:\"v-clean-html\",value:(_vm.projectLabel(group.group)),expression:\"projectLabel(group.group)\"}],staticClass:\"project-name\"}),_vm._v(\" \"),(_vm.projectDescription(group.group))?_c('div',{staticClass:\"description text-muted text-small\"},[_vm._v(\"\\n            \"+_vm._s(_vm.projectDescription(group.group))+\"\\n          \")]):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"right\"},[(_vm.isNamespaceCreatable && (_vm.canSeeProjectlessNamespaces || group.group.key !== _vm.notInProjectKey))?_c('n-link',{staticClass:\"create-namespace btn btn-sm role-secondary mr-5\",attrs:{\"to\":_vm.createNamespaceLocation(group.group)}},[_vm._v(\"\\n            \"+_vm._s(_vm.t('projectNamespaces.createNamespace'))+\"\\n          \")]):_vm._e(),_vm._v(\" \"),_c('button',{staticClass:\"project-action btn btn-sm role-multi-action actions mr-10\",class:{invisible: !_vm.showProjectActionButton(group.group)},attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.showProjectAction($event, group.group)}}},[_c('i',{staticClass:\"icon icon-actions\"})])],1)])]}},{key:\"cell:project\",fn:function({row}){return [(row.project)?_c('span',[_vm._v(_vm._s(row.project.nameDisplay))]):_c('span',{staticClass:\"text-muted\"},[_vm._v(\"–\")])]}},{key:\"cell:name\",fn:function({row}){return [_c('div',{staticClass:\"namespace-name\"},[(row.detailLocation && !row.hideDetailLocation)?_c('n-link',{attrs:{\"to\":row.detailLocation}},[_vm._v(\"\\n          \"+_vm._s(row.name)+\"\\n        \")]):_c('span',[_vm._v(\"\\n          \"+_vm._s(row.name)+\"\\n        \")]),_vm._v(\" \"),(row.injectionEnabled)?_c('i',{directives:[{name:\"clean-tooltip\",rawName:\"v-clean-tooltip\",value:(_vm.t('projectNamespaces.isIstioInjectionEnabled')),expression:\"t('projectNamespaces.isIstioInjectionEnabled')\"}],staticClass:\"icon icon-istio ml-5\"}):_vm._e(),_vm._v(\" \"),(row.hasSystemLabels)?_c('i',{directives:[{name:\"clean-tooltip\",rawName:\"v-clean-tooltip\",value:(_vm.getPsaTooltip(row)),expression:\"getPsaTooltip(row)\"}],staticClass:\"icon icon-lock ml-5\"}):_vm._e()],1)]}},_vm._l((_vm.projectsWithoutNamespaces),function(project){return {key:_vm.slotName(project),fn:function(){return [_c('tr',{key:project.id,staticClass:\"main-row\"},[_c('td',{staticClass:\"empty text-center\",attrs:{\"colspan\":\"5\"}},[_vm._v(\"\\n          \"+_vm._s(_vm.t('projectNamespaces.noNamespaces'))+\"\\n        \")])])]},proxy:true}}),{key:\"main-row:fake-empty\",fn:function(){return [_c('tr',{staticClass:\"main-row\"},[_c('td',{staticClass:\"empty text-center\",attrs:{\"colspan\":\"5\"}},[_vm._v(\"\\n          \"+_vm._s(_vm.t('projectNamespaces.noProjectNoNamespaces'))+\"\\n        \")])])]},proxy:true}],null,true)},'ResourceTable',_vm.$attrs,false),_vm.$listeners)),_vm._v(\" \"),_c('MoveModal',{on:{\"moving\":_vm.clearSelection}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\r\nimport { mapGetters } from 'vuex';\r\nimport ResourceTable, { defaultTableSortGenerationFn } from '@shell/components/ResourceTable';\r\nimport { STATE, AGE, NAME } from '@shell/config/table-headers';\r\nimport { uniq } from '@shell/utils/array';\r\nimport { MANAGEMENT, NAMESPACE, VIRTUAL_TYPES } from '@shell/config/types';\r\nimport { PROJECT_ID, FLAT_VIEW } from '@shell/config/query-params';\r\nimport { PanelLocation, ExtensionPoint } from '@shell/core/types';\r\nimport ExtensionPanel from '@shell/components/ExtensionPanel';\r\nimport Masthead from '@shell/components/ResourceList/Masthead';\r\nimport { mapPref, GROUP_RESOURCES, ALL_NAMESPACES } from '@shell/store/prefs';\r\nimport MoveModal from '@shell/components/MoveModal';\r\n\r\nimport { NAMESPACE_FILTER_ALL_ORPHANS } from '@shell/utils/namespace-filter';\r\nimport ResourceFetch from '@shell/mixins/resource-fetch';\r\nimport DOMPurify from 'dompurify';\r\n\r\nexport default {\r\n  name:       'ListProjectNamespace',\r\n  components: {\r\n    ExtensionPanel, Masthead, MoveModal, ResourceTable\r\n  },\r\n  mixins: [ResourceFetch],\r\n\r\n  props: {\r\n    createProjectLocationOverride: {\r\n      type:    Object,\r\n      default: () => null\r\n    },\r\n\r\n    createNamespaceLocationOverride: {\r\n      type:    Object,\r\n      default: () => null\r\n    }\r\n  },\r\n\r\n  async fetch() {\r\n    const inStore = this.$store.getters['currentStore'](NAMESPACE);\r\n\r\n    this.schema = this.$store.getters[`${ inStore }/schemaFor`](NAMESPACE);\r\n    this.projectSchema = this.$store.getters[`management/schemaFor`](MANAGEMENT.PROJECT);\r\n\r\n    if ( !this.schema ) {\r\n      // clusterReady:   When switching routes, it will cause clusterReady to change, causing itself to repeat rendering。\r\n      // this.$store.dispatch('loadingError', `Type ${ NAMESPACE } not found`);\r\n\r\n      return;\r\n    }\r\n\r\n    await this.$fetchType(NAMESPACE);\r\n    this.projects = await this.$store.dispatch('management/findAll', { type: MANAGEMENT.PROJECT, opt: { force: true } });\r\n  },\r\n\r\n  data() {\r\n    return {\r\n      loadResources:                [NAMESPACE],\r\n      loadIndeterminate:            true,\r\n      schema:                       null,\r\n      projects:                     [],\r\n      projectSchema:                null,\r\n      extensionType:                ExtensionPoint.PANEL,\r\n      extensionLocation:            PanelLocation.RESOURCE_LIST,\r\n      MANAGEMENT,\r\n      VIRTUAL_TYPES,\r\n      defaultCreateProjectLocation: {\r\n        name:   'c-cluster-product-resource-create',\r\n        params: {\r\n          product:  this.$store.getters['currentProduct'].name,\r\n          resource: MANAGEMENT.PROJECT\r\n        },\r\n      }\r\n    };\r\n  },\r\n\r\n  computed: {\r\n    ...mapGetters(['currentCluster', 'currentProduct']),\r\n    namespaces() {\r\n      const inStore = this.$store.getters['currentStore'](NAMESPACE);\r\n\r\n      return this.$store.getters[`${ inStore }/all`](NAMESPACE);\r\n    },\r\n    loading() {\r\n      return !this.currentCluster || this.namespaces.length ? false : this.$fetchState.pending;\r\n    },\r\n    showIncrementalLoadingIndicator() {\r\n      return this.perfConfig?.incrementalLoading?.enabled;\r\n    },\r\n    isNamespaceCreatable() {\r\n      return (this.schema?.collectionMethods || []).includes('POST');\r\n    },\r\n    headers() {\r\n      const project = {\r\n        name:  'project',\r\n        label: this.t('tableHeaders.project'),\r\n        value: 'project.nameDisplay',\r\n        sort:  ['projectNameSort', 'nameSort'],\r\n      };\r\n\r\n      return [\r\n        STATE,\r\n        NAME,\r\n        this.groupPreference === 'none' ? project : null,\r\n        AGE\r\n      ].filter((h) => h);\r\n    },\r\n    projectIdsWithNamespaces() {\r\n      const ids = this.rows\r\n        .map((row) => row.projectId)\r\n        .filter((id) => id);\r\n\r\n      return uniq(ids);\r\n    },\r\n    clusterProjects() {\r\n      const clusterId = this.currentCluster.id;\r\n\r\n      // Get the list of projects from the store so that the list\r\n      // is updated if a new project is created or removed.\r\n      const projectsInAllClusters = this.$store.getters['management/all'](MANAGEMENT.PROJECT);\r\n\r\n      if (this.currentProduct?.customNamespaceFilter && this.currentProduct?.inStore && this.$store.getters[`${ this.currentProduct.inStore }/filterProject`]) {\r\n        return this.$store.getters[`${ this.currentProduct.inStore }/filterProject`];\r\n      }\r\n\r\n      const clustersInProjects = projectsInAllClusters.filter((project) => project.spec.clusterName === clusterId);\r\n\r\n      return clustersInProjects;\r\n    },\r\n    projectsWithoutNamespaces() {\r\n      return this.activeProjects.filter((project) => {\r\n        return !this.projectIdsWithNamespaces.find((item) => project?.id?.endsWith(`/${ item }`));\r\n      });\r\n    },\r\n    // We're using this because we need to show projects as groups even if the project doesn't have any namespaces.\r\n    rowsWithFakeNamespaces() {\r\n      const fakeRows = this.projectsWithoutNamespaces.map((project) => {\r\n        return {\r\n          groupByLabel:     `${ ('resourceTable.groupLabel.notInAProject') }-${ project.id }`,\r\n          isFake:           true,\r\n          mainRowKey:       project.id,\r\n          nameDisplay:      project.spec?.displayName, // Enable filtering by the project name\r\n          project,\r\n          availableActions: []\r\n        };\r\n      });\r\n\r\n      if (this.showMockNotInProjectGroup) {\r\n        fakeRows.push( {\r\n          groupByLabel: this.t('resourceTable.groupLabel.notInAProject'), // Same as the groupByLabel for the namespace model\r\n          mainRowKey:   'fake-empty',\r\n        });\r\n      }\r\n\r\n      return [...this.rows, ...fakeRows];\r\n    },\r\n    createProjectLocation() {\r\n      return this.createProjectLocationOverride || this.defaultCreateProjectLocation;\r\n    },\r\n    groupPreference: mapPref(GROUP_RESOURCES),\r\n    activeNamespaceFilters() {\r\n      return this.$store.getters['activeNamespaceFilters'];\r\n    },\r\n    activeProjectFilters() {\r\n      const activeProjects = {};\r\n\r\n      for (const filter of this.activeNamespaceFilters) {\r\n        const [type, id] = filter.split('://', 2);\r\n\r\n        if (type === 'project') {\r\n          activeProjects[id] = true;\r\n        }\r\n      }\r\n\r\n      return activeProjects;\r\n    },\r\n    activeProjects() {\r\n      const namespaceFilters = this.$store.getters['activeNamespaceFilters'];\r\n\r\n      if (namespaceFilters.includes(NAMESPACE_FILTER_ALL_ORPHANS) && Object.keys(this.activeProjectFilters).length === 0) {\r\n        // If the user wants to only see namespaces that are not\r\n        // in a project, don't show any projects.\r\n        return [];\r\n      }\r\n\r\n      // If the user is not filtering by any projects or namespaces, return\r\n      // all projects in the cluster.\r\n      if (!this.userIsFilteringForSpecificNamespaceOrProject()) {\r\n        return this.clusterProjects;\r\n      }\r\n\r\n      // Filter out projects that are not selected in the top nav.\r\n      return this.clusterProjects.filter((projectData) => {\r\n        const projectId = projectData.id.split('/')[1];\r\n\r\n        return !!this.activeProjectFilters[projectId];\r\n      });\r\n    },\r\n    activeNamespaces() {\r\n      // Apply namespace filters from the top nav.\r\n      const activeNamespaces = this.$store.getters['namespaces']();\r\n\r\n      return this.namespaces.filter((namespaceData) => {\r\n        return !!activeNamespaces[namespaceData.metadata.name];\r\n      });\r\n    },\r\n    filteredRows() {\r\n      return this.groupPreference === 'none' ? this.rows : this.rowsWithFakeNamespaces;\r\n    },\r\n    rows() {\r\n      if (this.$store.getters['prefs/get'](ALL_NAMESPACES)) {\r\n        // If all namespaces options are turned on in the user preferences,\r\n        // return all namespaces including system namespaces and RBAC\r\n        // management namespaces.\r\n        return this.activeNamespaces;\r\n      }\r\n\r\n      return this.activeNamespaces.filter((namespace) => {\r\n        const isSettingSystemNamespace = this.$store.getters['systemNamespaces'].includes(namespace.metadata.name);\r\n        const systemNS = namespace.isSystem || namespace.isFleetManaged || isSettingSystemNamespace;\r\n\r\n        return this.currentProduct?.hideSystemResources ? !systemNS : true;\r\n      });\r\n    },\r\n\r\n    canSeeProjectlessNamespaces() {\r\n      return this.currentCluster.canUpdate;\r\n    },\r\n\r\n    showMockNotInProjectGroup() {\r\n      if (!this.canSeeProjectlessNamespaces) {\r\n        return false;\r\n      }\r\n\r\n      const someNamespacesAreNotInProject = !this.rows.some((row) => !row.project);\r\n\r\n      // Hide the \"Not in a Project\" group if the user is filtering\r\n      // for specific namespaces or projects.\r\n      const usingSpecificFilter = this.userIsFilteringForSpecificNamespaceOrProject();\r\n\r\n      return !usingSpecificFilter && someNamespacesAreNotInProject;\r\n    },\r\n\r\n    notInProjectKey() {\r\n      return this.$store.getters['i18n/t']('resourceTable.groupLabel.notInAProject');\r\n    },\r\n    showCreateNsButton() {\r\n      return this.groupPreference !== 'namespace';\r\n    }\r\n  },\r\n  methods: {\r\n    /**\r\n     * Get PSA HTML to be displayed in the tooltips\r\n     */\r\n    getPsaTooltip(row) {\r\n      const dictionary = row.psaTooltipsDescription;\r\n      const list = Object.values(dictionary)\r\n        .sort()\r\n        .map((text) => `<li>${ text }</li>`).join('');\r\n      const title = `<p>${ this.t('podSecurityAdmission.name') }: </p>`;\r\n\r\n      return `${ title }<ul class=\"psa-tooltip\">${ list }</ul>`;\r\n    },\r\n\r\n    userIsFilteringForSpecificNamespaceOrProject() {\r\n      const activeFilters = this.$store.getters['namespaceFilters'];\r\n\r\n      for (let i = 0; i < activeFilters.length; i++) {\r\n        const filter = activeFilters[i];\r\n        const filterType = filter.split('://')[0];\r\n\r\n        if (filterType === 'ns' || filterType === 'project') {\r\n          return true;\r\n        }\r\n      }\r\n\r\n      return false;\r\n    },\r\n    slotName(project) {\r\n      return `main-row:${ project.id }`;\r\n    },\r\n    createNamespaceLocation(group) {\r\n      const project = group.rows[0].project;\r\n\r\n      const location = this.createNamespaceLocationOverride ? { ...this.createNamespaceLocationOverride } : {\r\n        name:   'c-cluster-product-resource-create',\r\n        params: {\r\n          product:  this.$store.getters['currentProduct'].name,\r\n          resource: NAMESPACE\r\n        },\r\n      };\r\n\r\n      location.query = { [PROJECT_ID]: project?.metadata.name };\r\n\r\n      return location;\r\n    },\r\n\r\n    createNamespaceLocationFlatList() {\r\n      const location = this.createNamespaceLocationOverride ? { ...this.createNamespaceLocationOverride } : {\r\n        name:   'c-cluster-product-resource-create',\r\n        params: {\r\n          product:  this.$store.getters['currentProduct']?.name,\r\n          resource: NAMESPACE\r\n        },\r\n      };\r\n\r\n      location.query = { [FLAT_VIEW]: true };\r\n\r\n      return location;\r\n    },\r\n\r\n    showProjectAction(event, group) {\r\n      const project = group.rows[0].project;\r\n\r\n      this.$store.commit(`action-menu/show`, {\r\n        resources: [project],\r\n        elem:      event.target\r\n      });\r\n    },\r\n    showProjectActionButton(group) {\r\n      const project = group.rows[0].project;\r\n\r\n      return !!project;\r\n    },\r\n    projectLabel(group) {\r\n      const row = group.rows[0];\r\n\r\n      if (row.isFake) {\r\n        return DOMPurify.sanitize(\r\n          this.t('resourceTable.groupLabel.project', { name: row.project?.nameDisplay }, true),\r\n          { ALLOWED_TAGS: ['span'] }\r\n        );\r\n      }\r\n\r\n      return row.groupByLabel;\r\n    },\r\n\r\n    projectDescription(group) {\r\n      const project = group.rows[0].project;\r\n\r\n      return project?.description;\r\n    },\r\n\r\n    clearSelection() {\r\n      this.$refs.table.clearSelection();\r\n    },\r\n\r\n    sortGenerationFn() {\r\n      // The sort generation function creates a unique value and is used to create a key including sort details.\r\n      // The unique key determines if the list is redrawn or a cached version is shown.\r\n      // Because we ensure the 'not in a project' group is there via a row, and timing issues, the unqiue key doesn't change\r\n      // after a namespace is removed... so the list won't update... so we need to inject a string to ensure the key is fresh\r\n      const base = defaultTableSortGenerationFn(this.schema, this.$store);\r\n\r\n      return base + (this.showMockNotInProjectGroup ? '-mock' : '');\r\n    },\r\n\r\n  }\r\n};\r\n</script>\r\n\r\n<template>\r\n  <div class=\"project-namespaces\">\r\n    <Masthead\r\n      :schema=\"projectSchema\"\r\n      :type-display=\"t('projectNamespaces.label')\"\r\n      :resource=\"MANAGEMENT.PROJECT\"\r\n      :favorite-resource=\"VIRTUAL_TYPES.PROJECT_NAMESPACES\"\r\n      :create-location=\"createProjectLocation\"\r\n      :create-button-label=\"t('projectNamespaces.createProject')\"\r\n      :show-incremental-loading-indicator=\"showIncrementalLoadingIndicator\"\r\n      :load-resources=\"loadResources\"\r\n      :load-indeterminate=\"loadIndeterminate\"\r\n    >\r\n      <template\r\n        v-if=\"showCreateNsButton\"\r\n        slot=\"extraActions\"\r\n      >\r\n        <n-link\r\n          :to=\"createNamespaceLocationFlatList()\"\r\n          class=\"btn role-primary mr-10\"\r\n          data-testid=\"create_project_namespaces\"\r\n        >\r\n          {{ t('projectNamespaces.createNamespace') }}\r\n        </n-link>\r\n      </template>\r\n    </Masthead>\r\n    <!-- Extensions area -->\r\n    <ExtensionPanel\r\n      :resource=\"{}\"\r\n      :type=\"extensionType\"\r\n      :location=\"extensionLocation\"\r\n    />\r\n    <ResourceTable\r\n      ref=\"table\"\r\n      class=\"table\"\r\n      v-bind=\"$attrs\"\r\n      :schema=\"schema\"\r\n      :headers=\"headers\"\r\n      :rows=\"filteredRows\"\r\n      :groupable=\"true\"\r\n      :sort-generation-fn=\"sortGenerationFn\"\r\n      :loading=\"loading\"\r\n      group-tooltip=\"resourceTable.groupBy.project\"\r\n      key-field=\"_key\"\r\n      v-on=\"$listeners\"\r\n    >\r\n      <template #group-by=\"group\">\r\n        <div\r\n          class=\"project-bar\"\r\n          :class=\"{'has-description': projectDescription(group.group)}\"\r\n        >\r\n          <div\r\n            v-trim-whitespace\r\n            class=\"group-tab\"\r\n          >\r\n            <div\r\n              v-clean-html=\"projectLabel(group.group)\"\r\n              class=\"project-name\"\r\n            />\r\n            <div\r\n              v-if=\"projectDescription(group.group)\"\r\n              class=\"description text-muted text-small\"\r\n            >\r\n              {{ projectDescription(group.group) }}\r\n            </div>\r\n          </div>\r\n          <div class=\"right\">\r\n            <n-link\r\n              v-if=\"isNamespaceCreatable && (canSeeProjectlessNamespaces || group.group.key !== notInProjectKey)\"\r\n              class=\"create-namespace btn btn-sm role-secondary mr-5\"\r\n              :to=\"createNamespaceLocation(group.group)\"\r\n            >\r\n              {{ t('projectNamespaces.createNamespace') }}\r\n            </n-link>\r\n            <button\r\n              type=\"button\"\r\n              class=\"project-action btn btn-sm role-multi-action actions mr-10\"\r\n              :class=\"{invisible: !showProjectActionButton(group.group)}\"\r\n              @click=\"showProjectAction($event, group.group)\"\r\n            >\r\n              <i class=\"icon icon-actions\" />\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </template>\r\n      <template #cell:project=\"{row}\">\r\n        <span v-if=\"row.project\">{{ row.project.nameDisplay }}</span>\r\n        <span\r\n          v-else\r\n          class=\"text-muted\"\r\n        >&ndash;</span>\r\n      </template>\r\n      <template #cell:name=\"{row}\">\r\n        <div class=\"namespace-name\">\r\n          <n-link\r\n            v-if=\"row.detailLocation && !row.hideDetailLocation\"\r\n            :to=\"row.detailLocation\"\r\n          >\r\n            {{ row.name }}\r\n          </n-link>\r\n          <span v-else>\r\n            {{ row.name }}\r\n          </span>\r\n          <i\r\n            v-if=\"row.injectionEnabled\"\r\n            v-clean-tooltip=\"t('projectNamespaces.isIstioInjectionEnabled')\"\r\n            class=\"icon icon-istio ml-5\"\r\n          />\r\n          <i\r\n            v-if=\"row.hasSystemLabels\"\r\n            v-clean-tooltip=\"getPsaTooltip(row)\"\r\n            class=\"icon icon-lock ml-5\"\r\n          />\r\n        </div>\r\n      </template>\r\n      <template\r\n        v-for=\"project in projectsWithoutNamespaces\"\r\n        v-slot:[slotName(project)]\r\n      >\r\n        <tr\r\n          :key=\"project.id\"\r\n          class=\"main-row\"\r\n        >\r\n          <td\r\n            class=\"empty text-center\"\r\n            colspan=\"5\"\r\n          >\r\n            {{ t('projectNamespaces.noNamespaces') }}\r\n          </td>\r\n        </tr>\r\n      </template>\r\n      <template #main-row:fake-empty>\r\n        <tr class=\"main-row\">\r\n          <td\r\n            class=\"empty text-center\"\r\n            colspan=\"5\"\r\n          >\r\n            {{ t('projectNamespaces.noProjectNoNamespaces') }}\r\n          </td>\r\n        </tr>\r\n      </template>\r\n    </ResourceTable>\r\n    <MoveModal @moving=\"clearSelection\" />\r\n  </div>\r\n</template>\r\n<style lang=\"scss\" scoped>\r\n.project-namespaces {\r\n  & ::v-deep {\r\n    .project-name {\r\n      line-height: 30px;\r\n    }\r\n\r\n    .project-bar {\r\n      display: flex;\r\n      flex-direction: row;\r\n      justify-content: space-between;\r\n\r\n      &.has-description {\r\n        .right {\r\n          margin-top: 5px;\r\n        }\r\n        .group-tab {\r\n          &, &::after {\r\n              height: 50px;\r\n          }\r\n\r\n          &::after {\r\n              right: -20px;\r\n          }\r\n\r\n          .description {\r\n              margin-top: -20px;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    .namespace-name {\r\n      display: flex;\r\n      align-items: center;\r\n\r\n      .icon-istio {\r\n        color: var(--primary);\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n<style lang=\"scss\">\r\n  .psa-tooltip {\r\n    // These could pop up a lot as the mouse moves around, keep them as small and unintrusive as possible\r\n    // (easier to test with v-clean-tooltip=\"{ content: getPSA(row), autoHide: false, show: true }\")\r\n    margin: 3px 0;\r\n    padding: 0 8px 0 22px;\r\n  }\r\n</style>\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--16-0!../../node_modules/babel-loader/lib/index.js??ref--16-1!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ExplorerProjectsNamespaces.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--16-0!../../node_modules/babel-loader/lib/index.js??ref--16-1!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./ExplorerProjectsNamespaces.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ExplorerProjectsNamespaces.vue?vue&type=template&id=7c11e61f&scoped=true&\"\nimport script from \"./ExplorerProjectsNamespaces.vue?vue&type=script&lang=js&\"\nexport * from \"./ExplorerProjectsNamespaces.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ExplorerProjectsNamespaces.vue?vue&type=style&index=0&id=7c11e61f&prod&lang=scss&scoped=true&\"\nimport style1 from \"./ExplorerProjectsNamespaces.vue?vue&type=style&index=1&id=7c11e61f&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7c11e61f\",\n  null\n  \n)\n\nexport default component.exports","<script>\nimport ExplorerProjectsNamespaces from '@shell/components/ExplorerProjectsNamespaces';\nexport default { components: { ExplorerProjectsNamespaces } };\n</script>\n\n<template><ExplorerProjectsNamespaces v-bind=\"$attrs\" /></template>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--16-0!../../../../../node_modules/babel-loader/lib/index.js??ref--16-1!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./projectsnamespaces.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--16-0!../../../../../node_modules/babel-loader/lib/index.js??ref--16-1!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./projectsnamespaces.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./projectsnamespaces.vue?vue&type=template&id=7089ede9&\"\nimport script from \"./projectsnamespaces.vue?vue&type=script&lang=js&\"\nexport * from \"./projectsnamespaces.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}