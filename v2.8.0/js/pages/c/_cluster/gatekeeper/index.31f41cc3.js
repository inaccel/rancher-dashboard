(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages/c/_cluster/gatekeeper/index"],{8495:function(e,t,r){"use strict";var a=r("ade3"),n=r("53ca"),c=r("1da1"),s=r("a34a"),i=r.n(s),o=(r("96cf"),r("fa3b"));t["a"]=function(e,t,r){var s=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return function(){var u=Object(c["a"])(i.a.mark((function c(u){var l,p,d,b,h,f;return i.a.wrap((function(c){while(1)switch(c.prev=c.next){case 0:if(p=u.redirect,d=u.store,b=(null===(l=d.getters["currentCluster"])||void 0===l?void 0:l.id)||"local",!d.getters["type-map/isProductActive"](e)){c.next=9;break}if(!r){c.next=7;break}if("object"!==Object(n["a"])(r)){c.next=6;break}return c.abrupt("return",p(r));case 6:return c.abrupt("return",p({name:"c-cluster-product-resource",params:{cluster:b,product:e,resource:r}}));case 7:c.next=21;break;case 9:if(!s){c.next=20;break}return c.next=12,d.dispatch("catalog/load",{force:!0});case 12:if(h=d.getters["catalog/chart"]({chartName:t}),!h){c.next=17;break}return c.abrupt("return",p({name:"c-cluster-apps-charts-chart",params:{cluster:b},query:(f={},Object(a["a"])(f,o["A"],h.repoType),Object(a["a"])(f,o["z"],h.repoName),Object(a["a"])(f,o["d"],h.chartName),Object(a["a"])(f,o["H"],h.versions[0].version),f)}));case 17:d.dispatch("loadingError","Chart not found for ".concat(e));case 18:c.next=21;break;case 20:return c.abrupt("return",p({name:"c-cluster-explorer",params:{cluster:b}}));case 21:case"end":return c.stop()}}),c)})));function l(e){return u.apply(this,arguments)}return l}()}},a27c:function(e,t,r){"use strict";r.r(t),r.d(t,"OPA_GATE_KEEPER_ID",(function(){return f}));var a=function(){var e=this,t=e._self._c;return t("div",[t("ChartHeading",{attrs:{label:e.t("gatekeeperIndex.poweredBy"),url:"https://github.com/open-policy-agent/gatekeeper"}}),e._v(" "),t("Banner",{attrs:{color:"warning"}},[t("span",{directives:[{name:"clean-html",rawName:"v-clean-html",value:e.t("gatekeeperIndex.deprecated",{},!0),expression:"t('gatekeeperIndex.deprecated', {}, true)"}]})]),e._v(" "),t("div",{staticClass:"spacer"}),e._v(" "),t("div",{staticClass:"mb-10"},[t("h2",[t("t",{attrs:{k:"gatekeeperIndex.violations"}})],1)]),e._v(" "),t("div",[t("SortableTable",{attrs:{headers:e.headers,rows:e.violations,search:!1,"table-actions":!1,"row-actions":!1,paging:!0,"rows-per-page":10,"key-field":"id","group-by":"templateLink.text"}})],1)],1)},n=[],c=r("1da1"),s=r("a34a"),i=r.n(s),o=(r("96cf"),r("d81d"),r("8558")),u=r("8495"),l=r("fb27"),p=r("40d2"),d=r("bec1"),b=r("9149"),h=r("a788"),f="cluster/rancher-charts/rancher-gatekeeper",v={components:{ChartHeading:l["a"],SortableTable:p["c"],Banner:d["a"]},middleware:Object(u["a"])(o["NAME"],o["CHART_NAME"]),fetch:function(){var e=this;return Object(c["a"])(i.a.mark((function t(){var r;return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.constraint){t.next=4;break}t.t0=[e.constraint],t.next=7;break;case 4:return t.next=6,e.$store.dispatch("cluster/findAll",{type:h["o"].SPOOFED.CONSTRAINT});case 6:t.t0=t.sent;case 7:r=t.t0,e.violations=r.map((function(e,t){return{id:t,constraintLink:{text:e.nameDisplay,to:e.detailLocation},templateLink:{text:e.kind,to:{name:"c-cluster-product-resource-id",params:{resource:"templates.gatekeeper.sh.constrainttemplate",id:e.kind.toLowerCase(),product:"gatekeeper"}}},count:e.totalViolations}}));case 9:case"end":return t.stop()}}),t)})))()},data:function(e){return{headers:[b["j"],b["o"],b["k"]],violations:[]}}},g=v,k=r("0c7c"),m=Object(k["a"])(g,a,n,!1,null,null,null);t["default"]=m.exports},fb27:function(e,t,r){"use strict";var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"chart-heading"},[t("h1",[e._v(e._s(e.t("chartHeading.overview")))]),e._v("\n  "+e._s(e.t("chartHeading.poweredBy"))+" "),t("a",{attrs:{href:e.url,rel:"nofollow noopener noreferrer",target:"_blank"}},[e._v(e._s(e.label))])])},n=[],c={props:{label:{type:String,required:!0},url:{type:String,required:!0}}},s=c,i=r("0c7c"),o=Object(i["a"])(s,a,n,!1,null,null,null);t["a"]=o.exports}}]);
//# sourceMappingURL=index.31f41cc3.js.map