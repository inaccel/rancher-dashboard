{"version":3,"sources":["webpack:///./shell/components/IconMessage.vue","webpack:///shell/components/IconMessage.vue","webpack:///./shell/components/IconMessage.vue?f088","webpack:///./shell/components/IconMessage.vue?4439","webpack:///./shell/pages/c/_cluster/uiplugins/SetupUIPlugins.vue?0394","webpack:///./shell/pages/c/_cluster/uiplugins/SetupUIPlugins.vue?6eb7","webpack:///./shell/components/Dialog.vue?903a","webpack:///./shell/components/IconMessage.vue?947c","webpack:///./shell/pages/c/_cluster/uiplugins/SetupUIPlugins.vue?93a5","webpack:///./shell/components/IconMessage.vue?70fe","webpack:///./shell/components/Dialog.vue?4bac","webpack:///./shell/pages/c/_cluster/uiplugins/SetupUIPlugins.vue","webpack:///shell/pages/c/_cluster/uiplugins/SetupUIPlugins.vue","webpack:///./shell/pages/c/_cluster/uiplugins/SetupUIPlugins.vue?51fc","webpack:///./shell/pages/c/_cluster/uiplugins/SetupUIPlugins.vue?2cce","webpack:///./shell/components/IconMessage.vue?52fe","webpack:///./shell/components/Dialog.vue?8e42","webpack:///./shell/components/Dialog.vue","webpack:///shell/components/Dialog.vue","webpack:///./shell/components/Dialog.vue?0d6a","webpack:///./shell/components/Dialog.vue?689e"],"names":["render","_class","_vm","this","_c","_self","staticClass","class","vertical","subtle","_defineProperty","icon","iconState","_v","_t","messageKey","_s","t","message","staticRenderFns","props","type","Boolean","default","String","required","component","content","__esModule","module","i","locals","exports","add","___CSS_LOADER_API_IMPORT___","push","attrs","scopedSlots","_u","key","fn","loading","_e","haveCharts","buttonState","on","enable","_l","errors","e","proxy","dialogClosed","isAnyRepoAvailableForInstall","prime","hasRancherUIPluginsRepo","model","value","addRepos","official","callback","$$v","$set","expression","hasRancherUIPartnersPluginsRepo","partners","components","AsyncButton","Checkbox","Banner","IconMessage","Dialog","fetch","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","c","charts","found","wrap","_context","prev","next","$store","getters","Object","values","UI_PLUGIN_CHARTS","forEach","f","find","chart","repoName","UI_PLUGIN_OPERATOR_REPO_NAME","chartName","length","installCharts","CATALOG","CLUSTER_REPO","dispatch","opt","force","MANAGEMENT","SETTING","id","defaultRegistrySetting","sent","stop","data","isRancherPrime","reposInfo","name","UI_PLUGINS_REPO_NAME","url","UI_PLUGINS_REPO_URL","branch","UI_PLUGINS_REPO_BRANCH","UI_PLUGINS_PARTNERS_REPO_NAME","UI_PLUGINS_PARTNERS_REPO_URL","UI_PLUGINS_PARTNERS_REPO_BRANCH","ASYNC_BUTTON_STATES","ACTION","computed","_objectSpread","mapGetters","repos","r","urlDisplay","methods","installChart","_this2","_callee2","_annotations","_this2$defaultRegistr","version","repoType","repo","defaultRegistry","input","action","res","operationId","_context2","versions","releaseName","annotations","CATALOG_ANNOTATIONS","SOURCE_REPO_TYPE","SOURCE_REPO_NAME","global","cattle","systemDefaultRegistry","wait","namespace","UI_PLUGIN_NAMESPACE","doAction","concat","operationNamespace","operationName","waitForOperation","abrupt","OPERATION","_this3","_callee3","_context3","$emit","$modal","show","ok","_this4","_callee4","_context4","WAITING","v","addDefaultHelmRepositories","installPluginCharts","Promise","resolve","setTimeout","ERROR","_this5","_callee5","promises","pluginCR","_context5","t0","keys","t1","done","metadata","spec","gitBranch","gitRepo","save","allSettled","result","status","console","error","reason","_this6","_callee6","_context6","$event","closeDialog","beforeOpen","title","$slots","buttons","mode","closed","btnCb","hide"],"mappings":"2JAAIA,EAAS,WAAiB,IAAAC,EAAKC,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACE,YAAY,eAAeC,MAAM,CAAC,SAAYL,EAAIM,SAAU,OAAUN,EAAIO,SAAS,CAACL,EAAG,IAAI,CAACE,YAAY,OAAOC,OAAKN,EAAA,GAAAS,eAAAT,EAAIC,EAAIS,MAAO,GAAID,eAAAT,EAAGC,EAAIU,YAAcV,EAAIU,WAASX,KAAIC,EAAIW,GAAG,KAAKT,EAAG,MAAM,CAACE,YAAY,WAAW,CAACJ,EAAIY,GAAG,WAAU,WAAW,MAAO,CAAEZ,EAAIa,WAAY,CAACb,EAAIW,GAAG,aAAaX,EAAIc,GAAGd,EAAIe,EAAEf,EAAIa,aAAa,aAAa,CAACb,EAAIW,GAAG,aAAaX,EAAIc,GAAGd,EAAIgB,SAAS,kBAAiB,MAEndC,EAAkB,GCDP,GACfC,MAAA,CACAZ,SAAA,CACAa,KAAAC,QACAC,SAAA,GAEAZ,KAAA,CACAU,KAAAG,OACAC,UAAA,GAEAb,UAAA,CACAS,KAAAG,OACAD,QAAA,MAEAL,QAAA,CACAG,KAAAG,OACAD,QAAA,MAEAR,WAAA,CACAM,KAAAG,OACAD,QAAA,MAEAd,OAAA,CACAY,KAAAC,QACAC,SAAA,KCzBiV,I,wBCQ7UG,EAAY,eACd,EACA,EACAP,GACA,EACA,KACA,WACA,MAIa,OAAAO,E,gCChBf,IAAIC,EAAU,EAAQ,QACnBA,EAAQC,aAAYD,EAAUA,EAAQJ,SACnB,kBAAZI,IAAsBA,EAAU,CAAC,CAACE,EAAOC,EAAIH,EAAS,MAC7DA,EAAQI,SAAQF,EAAOG,QAAUL,EAAQI,QAE5C,IAAIE,EAAM,EAAQ,QAAwEV,QAC7EU,EAAI,WAAYN,GAAS,EAAM,CAAC,WAAY,EAAM,YAAa,K,uBCR5E,IAAIO,EAA8B,EAAQ,QAC1CF,EAAUE,GAA4B,GAEtCF,EAAQG,KAAK,CAACN,EAAOC,EAAI,+NAAgO,KAEzPD,EAAOG,QAAUA,G,oCCNjB,W,uBCCA,IAAIE,EAA8B,EAAQ,QAC1CF,EAAUE,GAA4B,GAEtCF,EAAQG,KAAK,CAACN,EAAOC,EAAI,qoBAAsoB,KAE/pBD,EAAOG,QAAUA,G,kCCNjB,W,uBCGA,IAAIL,EAAU,EAAQ,QACnBA,EAAQC,aAAYD,EAAUA,EAAQJ,SACnB,kBAAZI,IAAsBA,EAAU,CAAC,CAACE,EAAOC,EAAIH,EAAS,MAC7DA,EAAQI,SAAQF,EAAOG,QAAUL,EAAQI,QAE5C,IAAIE,EAAM,EAAQ,QAA+DV,QACpEU,EAAI,WAAYN,GAAS,EAAM,CAAC,WAAY,EAAM,YAAa,K,qBCN5E,IAAIA,EAAU,EAAQ,QACnBA,EAAQC,aAAYD,EAAUA,EAAQJ,SACnB,kBAAZI,IAAsBA,EAAU,CAAC,CAACE,EAAOC,EAAIH,EAAS,MAC7DA,EAAQI,SAAQF,EAAOG,QAAUL,EAAQI,QAE5C,IAAIE,EAAM,EAAQ,QAA+DV,QACpEU,EAAI,WAAYN,GAAS,EAAM,CAAC,WAAY,EAAM,YAAa,K,yCCT5E,IAAI3B,EAAS,WAAkB,IAAIE,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,MAAM,CAACA,EAAG,cAAc,CAACgC,MAAM,CAAC,UAAW,EAAK,QAAS,EAAM,KAAO,aAAaC,YAAYnC,EAAIoC,GAAG,CAAC,CAACC,IAAI,UAAUC,GAAG,WAAW,MAAO,CAACpC,EAAG,KAAK,CAACF,EAAIW,GAAG,aAAaX,EAAIc,GAAGd,EAAIe,EAAE,wBAAwB,cAAcf,EAAIW,GAAG,KAAOX,EAAIuC,QAAkmBvC,EAAIwC,KAA7lBtC,EAAG,MAAM,CAAGF,EAAIyC,WAAqHvC,EAAG,MAAM,CAACA,EAAG,IAAI,CAACF,EAAIW,GAAG,iBAAiBX,EAAIc,GAAGd,EAAIe,EAAE,6BAA6B,kBAAkBf,EAAIW,GAAG,KAAKT,EAAG,cAAc,CAACE,YAAY,wBAAwB8B,MAAM,CAAC,KAAO,SAAS,QAAS,EAAK,gBAAgBlC,EAAI0C,YAAY,cAAc,6BAA6BC,GAAG,CAAC,MAAQ3C,EAAI4C,WAAW,GAA5Z1C,EAAG,MAAM,CAACA,EAAG,IAAI,CAACF,EAAIW,GAAG,iBAAiBX,EAAIc,GAAGd,EAAIe,EAAE,8BAA8B,oBAA0Uf,EAAIW,GAAG,KAAKX,EAAI6C,GAAI7C,EAAI8C,QAAQ,SAASC,EAAEnB,GAAG,OAAO1B,EAAG,MAAM,CAACmC,IAAIT,EAAExB,YAAY,sBAAsB,CAACJ,EAAIW,GAAG,eAAeX,EAAIc,GAAGiC,GAAG,oBAAmB,KAAcC,OAAM,OAAUhD,EAAIW,GAAG,KAAKT,EAAG,SAAS,CAACgC,MAAM,CAAC,KAAO,0BAA0B,MAAQlC,EAAIe,EAAE,gCAAgC4B,GAAG,CAAC,OAAS3C,EAAIiD,eAAe,CAAC,CAAC/C,EAAG,IAAI,CAACE,YAAY,SAAS,CAACJ,EAAIW,GAAG,aAAaX,EAAIc,GAAGd,EAAIe,EAAE,iCAAiC,cAAcf,EAAIW,GAAG,KAAMX,EAAIkD,6BAA8BhD,EAAG,SAAS,CAACE,YAAY,QAAQ8B,MAAM,CAAC,MAAQ,SAAS,CAAClC,EAAIW,GAAG,aAAaX,EAAIc,GAAGd,EAAIe,EAAE,iCAAiC,cAAcf,EAAIwC,KAAKxC,EAAIW,GAAG,KAAMX,EAAImD,MAAOjD,EAAG,MAAM,CAACE,YAAY,SAAS,CAACF,EAAG,WAAW,CAACgC,MAAM,CAAC,SAAWlC,EAAIoD,wBAAwB,SAAU,EAAK,YAAY,uCAAuC,cAAc,2CAA2CC,MAAM,CAACC,MAAOtD,EAAIuD,SAASC,SAAUC,SAAS,SAAUC,GAAM1D,EAAI2D,KAAK3D,EAAIuD,SAAU,WAAYG,IAAME,WAAW,uBAAuB5D,EAAIW,GAAG,KAAMX,EAAIoD,wBAAyBlD,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACJ,EAAIW,GAAG,gBAAgBX,EAAIc,GAAGd,EAAIe,EAAE,4BAA4B,iBAAiBf,EAAIwC,MAAM,GAAGxC,EAAIwC,KAAKxC,EAAIW,GAAG,KAAKT,EAAG,MAAM,CAACE,YAAY,SAAS,CAACF,EAAG,WAAW,CAACgC,MAAM,CAAC,SAAWlC,EAAI6D,gCAAgC,SAAU,EAAK,YAAY,+CAA+C,cAAc,2CAA2CR,MAAM,CAACC,MAAOtD,EAAIuD,SAASO,SAAUL,SAAS,SAAUC,GAAM1D,EAAI2D,KAAK3D,EAAIuD,SAAU,WAAYG,IAAME,WAAW,uBAAuB5D,EAAIW,GAAG,KAAMX,EAAI6D,gCAAiC3D,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACJ,EAAIW,GAAG,gBAAgBX,EAAIc,GAAGd,EAAIe,EAAE,4BAA4B,iBAAiBf,EAAIwC,MAAM,KAAK,IAAI,IAE39EvB,EAAkB,G,+5BCqBP,OACf8C,WAAA,CACAC,mBACAC,gBACAC,cACAC,mBACAC,eAGAC,MAAA,eAAAC,EAAA,YAAAC,eAAAC,IAAAC,MAAA,SAAAC,IAAA,IAAAC,EAAAC,EAAAC,EAAA,OAAAL,IAAAM,MAAA,SAAAC,GAAA,eAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAcA,GAZAN,EAAAL,EAAAY,OAAAC,QAAA,qBACAP,EAAAQ,OAAAC,OAAAV,GACAE,EAAA,GAEAS,OAAAC,SAAA,SAAAZ,GACA,IAAAa,EAAAZ,EAAAa,MAAA,SAAAC,GAAA,OAAAA,EAAAC,WAAAC,OAAAF,EAAAG,YAAAlB,KAEAa,GACAX,EAAA5C,KAAAuD,MAIAlB,EAAA7B,WAAAoC,EAAAiB,SAAAR,OAAAQ,QAEAxB,EAAA7B,WAAA,CAAAsC,EAAAE,KAAA,SACA,GAAAX,EAAAyB,cAAAlB,GAEAP,EAAAY,OAAAC,QAAA,wBAAAa,OAAAC,cAAA,CAAAlB,EAAAE,KAAA,gBAAAF,EAAAE,KAAA,GAEAX,EAAAY,OAAAgB,SAAA,sBAAA/E,KAAA6E,OAAAC,aAAAE,IAAA,CAAAC,OAAA,oBAAArB,EAAAE,KAAA,GAIAX,EAAAY,OAAAgB,SAAA,mBACA/E,KAAAkF,OAAAC,QACAC,GAAA,4BACA,QAHAjC,EAAAkC,uBAAAzB,EAAA0B,KAKAnC,EAAA/B,SAAA,2BAAAwC,EAAA2B,UAAAhC,MA9BAH,IAiCAoC,KAAA,WACA,OACApE,SAAA,EACAE,YAAA,EACAsD,cAAA,GACAjD,OAAA,GACAK,MAAAyD,iBACArD,SAAA,CACAC,UAAA,EACAM,UAAA,GAEA+C,UAAA,CACArD,SAAA,CACAsD,KAAAC,OACAC,IAAAC,OACAC,OAAAC,QAEArD,SAAA,CACAgD,KAAAM,OACAJ,IAAAK,OACAH,OAAAI,SAGA5E,YAAA6E,OAAAC,OACAhB,uBAAA,OAIAiB,SAAAC,IAAA,GACAC,eAAA,CAAAC,MAAA,uBACAxE,wBAAA,WACA,aAAAwE,MAAAnC,MAAA,SAAAoC,GAAA,OAAAA,EAAAC,aAAAb,WAEApD,gCAAA,WACA,aAAA+D,MAAAnC,MAAA,SAAAoC,GAAA,OAAAA,EAAAC,aAAAT,WAEAnE,6BAAA,WACA,OAAA0D,mBAAA,KAAAxD,0BAAA,KAAAS,mCAIAkE,QAAA,CACAC,aAAA,SAAAA,GAAA,IAAAC,EAAA,YAAA1D,eAAAC,IAAAC,MAAA,SAAAyD,IAAA,IAAAC,EAAAC,EAAAC,EAAAC,EAAA3C,EAAA4C,EAAA7C,EAAA8C,EAAAC,EAAAC,EAAAC,EAAAC,EAAA,OAAApE,IAAAM,MAAA,SAAA+D,GAAA,eAAAA,EAAA7D,KAAA6D,EAAA5D,MAAA,OAgCA,OA/BAoD,EAAAL,EAAAc,SAAA,GACAR,EAAAD,EAAAC,SACA3C,EAAA0C,EAAA1C,SACA4C,EAAAN,EAAA/C,OAAAC,QAAA,iBAAAmD,WAAA3C,aAEAD,EAAA,CACAG,UAAAmC,EAAAnC,UACAwC,kBACAU,YAAAf,EAAAnC,UACAmD,aAAAb,EAAA,GAAA3H,eAAA2H,EACAc,OAAAC,iBAAAZ,GAAA9H,eAAA2H,EACAc,OAAAE,iBAAAxD,GAAAwC,GAEA9C,OAAA,IAIAmD,GAAA,QAAAJ,EAAAH,EAAAzB,8BAAA,IAAA4B,OAAA,EAAAA,EAAA9E,QAAA,GAEAkF,IACA9C,EAAAL,OAAA+D,OAAA1D,EAAAL,OAAA+D,QAAA,GACA1D,EAAAL,OAAA+D,OAAAC,OAAA3D,EAAAL,OAAA+D,OAAAC,QAAA,GACA3D,EAAAL,OAAA+D,OAAAC,OAAAC,sBAAAd,GAGAC,EAAA,CACA7D,OAAA,CAAAc,GACA6D,MAAA,EACAC,UAAAC,QAGAf,EAAA,UAAAG,EAAA5D,KAAA,GACAsD,EAAAmB,SAAAhB,EAAAD,GAAA,QACA,OADAE,EAAAE,EAAApC,KACAmC,EAAA,GAAAe,OAAAhB,EAAAiB,mBAAA,KAAAD,OAAAhB,EAAAkB,eAAAhB,EAAA5D,KAAA,GAEAsD,EAAAuB,iBAAAlB,GAAA,eAAAC,EAAAkB,OAAA,SAEA9B,EAAA/C,OAAAgB,SAAA,mBACA/E,KAAA6E,OAAAgE,UACAzD,GAAAqC,KACA,yBAAAC,EAAAnC,UAAAwB,MAzCA3D,IA4CA3B,OAAA,eAAAqH,EAAA,YAAA1F,eAAAC,IAAAC,MAAA,SAAAyF,IAAA,OAAA1F,IAAAM,MAAA,SAAAqF,GAAA,eAAAA,EAAAnF,KAAAmF,EAAAlF,MAAA,OACAgF,EAAAnH,OAAA,GAGAmH,EAAAG,MAAA,iBAGAH,EAAA1G,SAAA,CACAC,SAAAoD,mBAAAqD,EAAA7G,wBACAU,UAAAmG,EAAApG,iCAGAoG,EAAAI,OAAAC,KAAA,mDAAAH,EAAAzD,UAAAwD,MAZA3F,IAeAtB,aAAA,SAAAsH,GAAA,IAAAC,EAAA,YAAAjG,eAAAC,IAAAC,MAAA,SAAAgG,IAAA,OAAAjG,IAAAM,MAAA,SAAA4F,GAAA,eAAAA,EAAA1F,KAAA0F,EAAAzF,MAAA,OAGA,GAFAuF,EAAA1H,OAAA,IAGAyH,EAAA,CAAAG,EAAAzF,KAAA,SACA,GAAAuF,EAAA9H,YAAA6E,OAAAoD,SAEAvF,OAAAC,OAAAmF,EAAAjH,UAAAkC,MAAA,SAAAmF,GAAA,OAAAA,KAAA,CAAAF,EAAAzF,KAAA,eAAAyF,EAAAzF,KAAA,EACAuF,EAAAK,6BAAA,cAAAH,EAAAzF,KAAA,EAGAuF,EAAAM,sBAAA,cAAAJ,EAAAzF,KAAA,GAEA,IAAA8F,SAAA,SAAAC,GAAA,OAAAC,WAAAD,EAAA,gBAEAR,EAAA9H,YAAA8H,EAAA1H,OAAAgD,OAAA,EAAAyB,OAAA2D,MAAA3D,OAAAC,OAEAgD,EAAAJ,MAAA,iCAAAM,EAAAhE,UAAA+D,MAjBAlG,IAqBAsG,2BAAA,eAAAM,EAAA,YAAA5G,eAAAC,IAAAC,MAAA,SAAA2G,IAAA,IAAAC,EAAAhJ,EAAAiJ,EAAA3C,EAAA,OAAAnE,IAAAM,MAAA,SAAAyG,GAAA,eAAAA,EAAAvG,KAAAuG,EAAAtG,MAAA,OACAoG,EAAA,GAAAE,EAAAC,GAAAhH,IAAAiH,KAEAN,EAAA5H,UAAA,WAAAgI,EAAAG,GAAAH,EAAAC,MAAAG,KAAA,CAAAJ,EAAAtG,KAAA,YAAA5C,EAAAkJ,EAAAG,GAAApI,OACA6H,EAAA5H,SAAAlB,GAAA,CAAAkJ,EAAAtG,KAAA,eAAAsG,EAAAtG,KAAA,EACAkG,EAAAjG,OAAAgB,SAAA,qBACA/E,KAAA6E,OAAAC,aACA2F,SAAA,CAAA9E,KAAAqE,EAAAtE,UAAAxE,GAAAyE,MACA+E,KAAA,CACAC,UAAAX,EAAAtE,UAAAxE,GAAA6E,OACA6E,QAAAZ,EAAAtE,UAAAxE,GAAA2E,OAEA,OAPAsE,EAAAC,EAAA9E,KASA4E,EAAApJ,KAAAqJ,EAAAU,QAAA,OAAAT,EAAAtG,KAAA,uBAAAsG,EAAAtG,KAAA,GAIA8F,QAAAkB,WAAAZ,GAAA,QAAA1C,EAAA4C,EAAA9E,KAEAkC,EAAApD,SAAA,SAAA2G,GACA,aAAAA,EAAAC,SACAC,QAAAC,MAAAH,EAAAI,QAEAnB,EAAArI,OAAAb,KAAAiK,EAAAI,YAEA,yBAAAf,EAAA7E,UAAA0E,MA1BA7G,IA6BAuG,oBAAA,eAAAyB,EAAA,YAAAhI,eAAAC,IAAAC,MAAA,SAAA+H,IAAA,IAAA5K,EAAA8D,EAAA,OAAAlB,IAAAM,MAAA,SAAA2H,GAAA,eAAAA,EAAAzH,KAAAyH,EAAAxH,MAAA,OACArD,EAAA,cAAAA,EAAA2K,EAAAxG,cAAAD,QAAA,CAAA2G,EAAAxH,KAAA,SACA,OAAAS,EAAA6G,EAAAxG,cAAAnE,GAAA6K,EAAAzH,KAAA,EAAAyH,EAAAxH,KAAA,EAGAsH,EAAAvE,aAAAtC,GAAA,OAAA+G,EAAAxH,KAAA,gBAAAwH,EAAAzH,KAAA,EAAAyH,EAAAjB,GAAAiB,EAAA,YAEAF,EAAAzJ,OAAAb,KAAAwK,EAAAjB,GAAAxK,SAAA,QANAY,IAAA6K,EAAAxH,KAAA,uBAAAwH,EAAA1C,OAAA,SAUA,IAAAgB,SAAA,SAAAC,GAAA,OAAAC,WAAAD,EAAA,kCAAAyB,EAAA/F,UAAA8F,EAAA,iBAXAjI,MCxNwX,I,wBCQpX/C,EAAY,eACd,EACA1B,EACAmB,GACA,EACA,KACA,WACA,MAIa,aAAAO,E,2CCnBf,W,qBCCA,IAAIQ,EAA8B,EAAQ,QAC1CF,EAAUE,GAA4B,GAEtCF,EAAQG,KAAK,CAACN,EAAOC,EAAI,yRAA0R,KAEnTD,EAAOG,QAAUA,G,gDCNbhC,EAAS,WAAkB,IAAIE,EAAIC,KAAKC,EAAGF,EAAIG,MAAMD,GAAG,OAAOA,EAAG,QAAQ,CAACgC,MAAM,CAAC,KAAOlC,EAAI8G,KAAK,OAAS,OAAO,YAAa,GAAMnE,GAAG,CAAC,OAAS,SAAS+J,GAAQ,OAAO1M,EAAI2M,aAAY,IAAQ,cAAc3M,EAAI4M,aAAa,CAAC1M,EAAG,MAAM,CAACE,YAAY,gBAAgB,CAACF,EAAG,KAAK,CAACF,EAAIW,GAAG,WAAWX,EAAIc,GAAGd,EAAI6M,OAAO,YAAY7M,EAAIW,GAAG,KAAKX,EAAIY,GAAG,WAAWZ,EAAIW,GAAG,KAAKT,EAAG,MAAM,CAACE,YAAY,wBAAwB,CAACJ,EAAIY,GAAG,WAAWZ,EAAIW,GAAG,KAAOX,EAAI8M,OAAOC,QAAwe/M,EAAIwC,KAAnetC,EAAG,MAAM,CAACA,EAAG,SAAS,CAACE,YAAY,qBAAqBuC,GAAG,CAAC,MAAQ,SAAS+J,GAAQ,OAAO1M,EAAI2M,aAAY,MAAU,CAAC3M,EAAIW,GAAG,eAAeX,EAAIc,GAAGd,EAAIe,EAAE,mBAAmB,gBAAgBf,EAAIW,GAAG,KAAOX,EAAIgN,KAAwL9M,EAAG,cAAc,CAACE,YAAY,QAAQ8B,MAAM,CAAC,KAAOlC,EAAIgN,MAAMrK,GAAG,CAAC,MAAQ3C,EAAIuK,MAAhQrK,EAAG,SAAS,CAACE,YAAY,yBAAyBuC,GAAG,CAAC,MAAQ,SAAS+J,GAAQ,OAAO1M,EAAI2M,aAAY,MAAS,CAAC3M,EAAIW,GAAG,eAAeX,EAAIc,GAAGd,EAAIe,EAAE,eAAe,iBAAqG,IAAa,IAAI,MAE57BE,EAAkB,G,YCCP,GACf8C,WAAA,CAAAC,oBAEA9C,MAAA,CACA4F,KAAA,CACA3F,KAAAG,OACAC,UAAA,GAGAsL,MAAA,CACA1L,KAAAG,OACAC,UAAA,GAGAyL,KAAA,CACA7L,KAAAG,OACAD,QAAA,KAIAsF,KAAA,WACA,OAAAsG,QAAA,IAGAlF,QAAA,CACA6E,WAAA,WACA,KAAAK,QAAA,GAGA1C,GAAA,SAAA2C,GAAA,IAAA5I,EAAA,KACAb,EAAA,SAAA8G,GACA2C,EAAA3C,GACAA,GACAjG,EAAAqI,aAAA,IAIA,KAAAvC,MAAA,OAAA3G,IAGAkJ,YAAA,SAAAT,GACA,KAAAe,SACA,KAAA5C,OAAA8C,KAAA,KAAArG,MACA,KAAAsD,MAAA,SAAA8B,GACA,KAAAe,QAAA,MC/C4U,I,wBCQxUzL,EAAY,eACd,EACA1B,EACAmB,GACA,EACA,KACA,WACA,MAIa,OAAAO,E","file":"js/pages/c/_cluster/uiplugins/SetupUIPlugins.d8dd5624.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"message-icon\",class:{'vertical': _vm.vertical, 'subtle': _vm.subtle}},[_c('i',{staticClass:\"icon\",class:{ [_vm.icon]: true, [_vm.iconState]: !!_vm.iconState}}),_vm._v(\" \"),_c('div',{staticClass:\"message\"},[_vm._t(\"message\",function(){return [(_vm.messageKey)?[_vm._v(\"\\n        \"+_vm._s(_vm.t(_vm.messageKey))+\"\\n      \")]:[_vm._v(\"\\n        \"+_vm._s(_vm.message)+\"\\n      \")]]})],2)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nexport default {\n  props: {\n    vertical: {\n      type:    Boolean,\n      default: false,\n    },\n    icon: {\n      type:     String,\n      required: true,\n    },\n    iconState: {\n      type:    String,\n      default: null\n    },\n    message: {\n      type:    String,\n      default: null\n    },\n    messageKey: {\n      type:    String,\n      default: null\n    },\n    subtle: {\n      type:    Boolean,\n      default: false,\n    }\n  },\n};\n</script>\n\n<template>\n  <div\n    class=\"message-icon\"\n    :class=\"{'vertical': vertical, 'subtle': subtle}\"\n  >\n    <i\n      class=\"icon\"\n      :class=\"{ [icon]: true, [iconState]: !!iconState}\"\n    />\n    <div class=\"message\">\n      <slot name=\"message\">\n        <template v-if=\"messageKey\">\n          {{ t(messageKey) }}\n        </template>\n        <template v-else>\n          {{ message }}\n        </template>\n      </slot>\n    </div>\n  </div>\n</template>\n\n<style lang=\"scss\" scoped>\n  .vertical {\n    flex-direction: column;\n    width: 100%;\n  }\n\n  .subtle {\n    opacity: 0.7;\n  }\n\n  .message-icon {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    flex: 1;\n    flex-direction: column;\n\n    > I {\n      font-size: 64px;\n      margin-bottom: 20px;\n\n      &.info {\n      color: var(--primary);\n      }\n\n      &.error {\n        color: var(--error);\n      }\n\n      &.warning {\n        color: var(--warning);\n      }\n\n      &.success {\n        color: var(--success);\n      }\n    }\n\n    > .message {\n      font-size: 20px;\n      margin-bottom: 40px;\n      max-width: 60%;\n      text-align: center;\n      line-height: 30px;\n    }\n\n  }\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--16-0!../../node_modules/babel-loader/lib/index.js??ref--16-1!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./IconMessage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--16-0!../../node_modules/babel-loader/lib/index.js??ref--16-1!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./IconMessage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./IconMessage.vue?vue&type=template&id=fcc3e7d2&scoped=true&\"\nimport script from \"./IconMessage.vue?vue&type=script&lang=js&\"\nexport * from \"./IconMessage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./IconMessage.vue?vue&type=style&index=0&id=fcc3e7d2&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"fcc3e7d2\",\n  null\n  \n)\n\nexport default component.exports","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-3!../../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-4!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./SetupUIPlugins.vue?vue&type=style&index=0&id=4a497002&prod&lang=scss&scoped=true&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"415677ee\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".enable-plugin-support[data-v-4a497002]{font-size:14px;margin-top:20px}.plugin-setup-error[data-v-4a497002]{font-size:14px;color:var(--error);margin:10px 0 0 0}.checkbox-info[data-v-4a497002]{margin-left:20px;opacity:.7}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","export * from \"-!../../node_modules/vue-style-loader/index.js??ref--9-oneOf-1-0!../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-3!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Dialog.vue?vue&type=style&index=0&id=5130a572&prod&lang=scss&scoped=true&\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/@vue/cli-service/node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".vertical[data-v-fcc3e7d2]{flex-direction:column;width:100%}.subtle[data-v-fcc3e7d2]{opacity:.7}.message-icon[data-v-fcc3e7d2]{display:flex;align-items:center;justify-content:center;flex:1;flex-direction:column}.message-icon>I[data-v-fcc3e7d2]{font-size:64px;margin-bottom:20px}.message-icon>I.info[data-v-fcc3e7d2]{color:var(--primary)}.message-icon>I.error[data-v-fcc3e7d2]{color:var(--error)}.message-icon>I.warning[data-v-fcc3e7d2]{color:var(--warning)}.message-icon>I.success[data-v-fcc3e7d2]{color:var(--success)}.message-icon>.message[data-v-fcc3e7d2]{font-size:20px;margin-bottom:40px;max-width:60%;text-align:center;line-height:30px}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","export * from \"-!../../../../../node_modules/vue-style-loader/index.js??ref--9-oneOf-1-0!../../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-3!../../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-4!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./SetupUIPlugins.vue?vue&type=style&index=0&id=4a497002&prod&lang=scss&scoped=true&\"","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-3!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./IconMessage.vue?vue&type=style&index=0&id=fcc3e7d2&prod&lang=scss&scoped=true&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"42b288f7\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-3!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Dialog.vue?vue&type=style&index=0&id=5130a572&prod&lang=scss&scoped=true&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"9f14f054\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('IconMessage',{attrs:{\"vertical\":true,\"subtle\":false,\"icon\":\"icon-gear\"},scopedSlots:_vm._u([{key:\"message\",fn:function(){return [_c('h2',[_vm._v(\"\\n        \"+_vm._s(_vm.t('plugins.setup.title'))+\"\\n      \")]),_vm._v(\" \"),(!_vm.loading)?_c('div',[(!_vm.haveCharts)?_c('div',[_c('p',[_vm._v(\"\\n            \"+_vm._s(_vm.t('plugins.setup.prompt.cant'))+\"\\n          \")])]):_c('div',[_c('p',[_vm._v(\"\\n            \"+_vm._s(_vm.t('plugins.setup.prompt.can'))+\"\\n          \")]),_vm._v(\" \"),_c('AsyncButton',{staticClass:\"enable-plugin-support\",attrs:{\"mode\":\"enable\",\"manual\":true,\"current-phase\":_vm.buttonState,\"data-testid\":\"extension-enable-operator\"},on:{\"click\":_vm.enable}})],1),_vm._v(\" \"),_vm._l((_vm.errors),function(e,i){return _c('div',{key:i,staticClass:\"plugin-setup-error\"},[_vm._v(\"\\n          \"+_vm._s(e)+\"\\n        \")])})],2):_vm._e()]},proxy:true}])}),_vm._v(\" \"),_c('Dialog',{attrs:{\"name\":\"confirm-uiplugins-setup\",\"title\":_vm.t('plugins.setup.install.title')},on:{\"closed\":_vm.dialogClosed}},[[_c('p',{staticClass:\"mb-20\"},[_vm._v(\"\\n        \"+_vm._s(_vm.t('plugins.setup.install.prompt'))+\"\\n      \")]),_vm._v(\" \"),(_vm.isAnyRepoAvailableForInstall)?_c('Banner',{staticClass:\"mb-20\",attrs:{\"color\":\"info\"}},[_vm._v(\"\\n        \"+_vm._s(_vm.t('plugins.setup.install.airgap'))+\"\\n      \")]):_vm._e(),_vm._v(\" \"),(_vm.prime)?_c('div',{staticClass:\"mb-15\"},[_c('Checkbox',{attrs:{\"disabled\":_vm.hasRancherUIPluginsRepo,\"primary\":true,\"label-key\":\"plugins.setup.install.addRancherRepo\",\"data-testid\":\"extension-enable-operator-official-repo\"},model:{value:(_vm.addRepos.official),callback:function ($$v) {_vm.$set(_vm.addRepos, \"official\", $$v)},expression:\"addRepos.official\"}}),_vm._v(\" \"),(_vm.hasRancherUIPluginsRepo)?_c('div',{staticClass:\"checkbox-info\"},[_vm._v(\"\\n          (\"+_vm._s(_vm.t('plugins.setup.installed'))+\")\\n        \")]):_vm._e()],1):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"mb-15\"},[_c('Checkbox',{attrs:{\"disabled\":_vm.hasRancherUIPartnersPluginsRepo,\"primary\":true,\"label-key\":\"plugins.setup.install.addPartnersRancherRepo\",\"data-testid\":\"extension-enable-operator-partners-repo\"},model:{value:(_vm.addRepos.partners),callback:function ($$v) {_vm.$set(_vm.addRepos, \"partners\", $$v)},expression:\"addRepos.partners\"}}),_vm._v(\" \"),(_vm.hasRancherUIPartnersPluginsRepo)?_c('div',{staticClass:\"checkbox-info\"},[_vm._v(\"\\n          (\"+_vm._s(_vm.t('plugins.setup.installed'))+\")\\n        \")]):_vm._e()],1)]],2)],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport { mapGetters } from 'vuex';\nimport AsyncButton, { ASYNC_BUTTON_STATES } from '@shell/components/AsyncButton';\nimport IconMessage from '@shell/components/IconMessage.vue';\nimport { CATALOG, MANAGEMENT } from '@shell/config/types';\nimport { CATALOG as CATALOG_ANNOTATIONS } from '@shell/config/labels-annotations';\nimport Dialog from '@shell/components/Dialog.vue';\nimport Checkbox from '@components/Form/Checkbox/Checkbox.vue';\nimport Banner from '@components/Banner/Banner.vue';\nimport { isRancherPrime } from '@shell/config/version';\n\nimport {\n  UI_PLUGIN_NAMESPACE,\n  UI_PLUGIN_CHARTS,\n  UI_PLUGIN_OPERATOR_REPO_NAME,\n  UI_PLUGINS_REPO_NAME,\n  UI_PLUGINS_REPO_URL,\n  UI_PLUGINS_REPO_BRANCH,\n  UI_PLUGINS_PARTNERS_REPO_NAME,\n  UI_PLUGINS_PARTNERS_REPO_URL,\n  UI_PLUGINS_PARTNERS_REPO_BRANCH,\n} from '@shell/config/uiplugins';\n\nexport default {\n  components: {\n    AsyncButton,\n    Checkbox,\n    Banner,\n    IconMessage,\n    Dialog,\n  },\n\n  async fetch() {\n    // Check to see that the charts we need are available\n    const c = this.$store.getters['catalog/rawCharts'];\n    const charts = Object.values(c);\n    const found = [];\n\n    UI_PLUGIN_CHARTS.forEach((c) => {\n      const f = charts.find((chart) => chart.repoName === UI_PLUGIN_OPERATOR_REPO_NAME & chart.chartName === c);\n\n      if (f) {\n        found.push(f);\n      }\n    });\n\n    this.haveCharts = (found.length === UI_PLUGIN_CHARTS.length);\n\n    if (this.haveCharts) {\n      this.installCharts = found;\n\n      if (this.$store.getters['management/schemaFor'](CATALOG.CLUSTER_REPO)) {\n        // we need to force the request, so that we know at all times if what's the status of the offical and partners repos (installed or not)\n        await this.$store.dispatch('management/findAll', { type: CATALOG.CLUSTER_REPO, opt: { force: true } });\n      }\n    }\n\n    this.defaultRegistrySetting = await this.$store.dispatch('management/find', {\n      type: MANAGEMENT.SETTING,\n      id:   'system-default-registry'\n    });\n\n    this.loading = false;\n  },\n\n  data() {\n    return {\n      loading:       true,\n      haveCharts:    false,\n      installCharts: [],\n      errors:        [],\n      prime:         isRancherPrime(),\n      addRepos:      {\n        official: true,\n        partners: true,\n      },\n      reposInfo: {\n        official: {\n          name:   UI_PLUGINS_REPO_NAME,\n          url:    UI_PLUGINS_REPO_URL,\n          branch: UI_PLUGINS_REPO_BRANCH,\n        },\n        partners: {\n          name:   UI_PLUGINS_PARTNERS_REPO_NAME,\n          url:    UI_PLUGINS_PARTNERS_REPO_URL,\n          branch: UI_PLUGINS_PARTNERS_REPO_BRANCH,\n        }\n      },\n      buttonState:            ASYNC_BUTTON_STATES.ACTION,\n      defaultRegistrySetting: null,\n    };\n  },\n\n  computed: {\n    ...mapGetters({ repos: 'catalog/repos' }),\n    hasRancherUIPluginsRepo() {\n      return !!this.repos.find((r) => r.urlDisplay === UI_PLUGINS_REPO_URL);\n    },\n    hasRancherUIPartnersPluginsRepo() {\n      return !!this.repos.find((r) => r.urlDisplay === UI_PLUGINS_PARTNERS_REPO_URL);\n    },\n    isAnyRepoAvailableForInstall() {\n      return (isRancherPrime() && !this.hasRancherUIPluginsRepo) || !this.hasRancherUIPartnersPluginsRepo;\n    }\n  },\n\n  methods: {\n    async installChart(installChart) {\n      const version = installChart.versions[0];\n      const repoType = version.repoType;\n      const repoName = version.repoName;\n      const repo = this.$store.getters['catalog/repo']({ repoType, repoName });\n\n      const chart = {\n        chartName:   installChart.chartName,\n        version:     version.version,\n        releaseName: installChart.chartName,\n        annotations: {\n          [CATALOG_ANNOTATIONS.SOURCE_REPO_TYPE]: repoType,\n          [CATALOG_ANNOTATIONS.SOURCE_REPO_NAME]: repoName\n        },\n        values: {}\n      };\n\n      // Pass in the system default registry property if set\n      const defaultRegistry = this.defaultRegistrySetting?.value || '';\n\n      if (defaultRegistry) {\n        chart.values.global = chart.values.global || {};\n        chart.values.global.cattle = chart.values.global.cattle || {};\n        chart.values.global.cattle.systemDefaultRegistry = defaultRegistry;\n      }\n\n      const input = {\n        charts:    [chart],\n        wait:      true,\n        namespace: UI_PLUGIN_NAMESPACE,\n      };\n\n      const action = 'install';\n      const res = await repo.doAction(action, input);\n      const operationId = `${ res.operationNamespace }/${ res.operationName }`;\n\n      await repo.waitForOperation(operationId);\n\n      return this.$store.dispatch(`management/find`, {\n        type: CATALOG.OPERATION,\n        id:   operationId\n      });\n    },\n\n    async enable() {\n      this.errors = [];\n\n      // force update of cluster repos so that modal have the correct information about the official and partners repo\n      this.$emit('refreshCharts');\n\n      // Reset checkbox based on if the repo is already installed\n      this.addRepos = {\n        official: isRancherPrime() && !this.hasRancherUIPluginsRepo,\n        partners: !this.hasRancherUIPartnersPluginsRepo,\n      };\n\n      this.$modal.show('confirm-uiplugins-setup');\n    },\n\n    async dialogClosed(ok) {\n      this.errors = [];\n\n      // User wants to proceed\n      if (ok) {\n        this.buttonState = ASYNC_BUTTON_STATES.WAITING;\n\n        if (Object.values(this.addRepos).find((v) => v)) {\n          await this.addDefaultHelmRepositories();\n        }\n\n        await this.installPluginCharts();\n\n        await new Promise((resolve) => setTimeout(resolve, 5000));\n\n        this.buttonState = this.errors.length > 0 ? ASYNC_BUTTON_STATES.ERROR : ASYNC_BUTTON_STATES.ACTION;\n\n        this.$emit('done');\n      }\n    },\n\n    async addDefaultHelmRepositories() {\n      const promises = [];\n\n      for (const key in this.addRepos) {\n        if (this.addRepos[key]) {\n          const pluginCR = await this.$store.dispatch('management/create', {\n            type:     CATALOG.CLUSTER_REPO,\n            metadata: { name: this.reposInfo[key].name },\n            spec:     {\n              gitBranch: this.reposInfo[key].branch,\n              gitRepo:   this.reposInfo[key].url,\n            }\n          });\n\n          promises.push(pluginCR.save());\n        }\n      }\n\n      const res = await Promise.allSettled(promises);\n\n      res.forEach((result) => {\n        if (result.status === 'rejected') {\n          console.error(result.reason); // eslint-disable-line no-console\n\n          this.errors.push(result.reason);\n        }\n      });\n    },\n\n    async installPluginCharts() {\n      for (let i = 0; i < this.installCharts.length; i++) {\n        const chart = this.installCharts[i];\n\n        try {\n          await this.installChart(chart);\n        } catch (e) {\n          this.errors.push(e.message);\n        }\n      }\n\n      return new Promise((resolve) => setTimeout(resolve, 2000));\n    }\n  }\n};\n</script>\n<template>\n  <div>\n    <IconMessage\n      :vertical=\"true\"\n      :subtle=\"false\"\n      icon=\"icon-gear\"\n    >\n      <template v-slot:message>\n        <h2>\n          {{ t('plugins.setup.title') }}\n        </h2>\n        <div v-if=\"!loading\">\n          <div v-if=\"!haveCharts\">\n            <p>\n              {{ t('plugins.setup.prompt.cant') }}\n            </p>\n          </div>\n          <div v-else>\n            <p>\n              {{ t('plugins.setup.prompt.can') }}\n            </p>\n            <AsyncButton\n              mode=\"enable\"\n              :manual=\"true\"\n              :current-phase=\"buttonState\"\n              class=\"enable-plugin-support\"\n              data-testid=\"extension-enable-operator\"\n              @click=\"enable\"\n            />\n          </div>\n          <div\n            v-for=\"(e, i) in errors\"\n            :key=\"i\"\n            class=\"plugin-setup-error\"\n          >\n            {{ e }}\n          </div>\n        </div>\n      </template>\n    </IconMessage>\n    <Dialog\n      name=\"confirm-uiplugins-setup\"\n      :title=\"t('plugins.setup.install.title')\"\n      @closed=\"dialogClosed\"\n    >\n      <template>\n        <p class=\"mb-20\">\n          {{ t('plugins.setup.install.prompt') }}\n        </p>\n        <Banner\n          v-if=\"isAnyRepoAvailableForInstall\"\n          color=\"info\"\n          class=\"mb-20\"\n        >\n          {{ t('plugins.setup.install.airgap') }}\n        </Banner>\n        <!-- Official rancher repo -->\n        <div\n          v-if=\"prime\"\n          class=\"mb-15\"\n        >\n          <Checkbox\n            v-model=\"addRepos.official\"\n            :disabled=\"hasRancherUIPluginsRepo\"\n            :primary=\"true\"\n            label-key=\"plugins.setup.install.addRancherRepo\"\n            data-testid=\"extension-enable-operator-official-repo\"\n          />\n          <div\n            v-if=\"hasRancherUIPluginsRepo\"\n            class=\"checkbox-info\"\n          >\n            ({{ t('plugins.setup.installed') }})\n          </div>\n        </div>\n        <!-- Partners rancher repo -->\n        <div\n          class=\"mb-15\"\n        >\n          <Checkbox\n            v-model=\"addRepos.partners\"\n            :disabled=\"hasRancherUIPartnersPluginsRepo\"\n            :primary=\"true\"\n            label-key=\"plugins.setup.install.addPartnersRancherRepo\"\n            data-testid=\"extension-enable-operator-partners-repo\"\n          />\n          <div\n            v-if=\"hasRancherUIPartnersPluginsRepo\"\n            class=\"checkbox-info\"\n          >\n            ({{ t('plugins.setup.installed') }})\n          </div>\n        </div>\n      </template>\n    </Dialog>\n  </div>\n</template>\n<style lang=\"scss\" scoped>\n  .enable-plugin-support {\n    font-size: 14px;\n    margin-top: 20px;\n  }\n\n  .plugin-setup-error {\n    font-size: 14px;\n    color: var(--error);\n    margin: 10px 0 0 0;\n  }\n\n  .checkbox-info {\n    margin-left: 20px;\n    opacity: 0.7;\n  }\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--16-0!../../../../../node_modules/babel-loader/lib/index.js??ref--16-1!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./SetupUIPlugins.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--16-0!../../../../../node_modules/babel-loader/lib/index.js??ref--16-1!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./SetupUIPlugins.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SetupUIPlugins.vue?vue&type=template&id=4a497002&scoped=true&\"\nimport script from \"./SetupUIPlugins.vue?vue&type=script&lang=js&\"\nexport * from \"./SetupUIPlugins.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SetupUIPlugins.vue?vue&type=style&index=0&id=4a497002&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4a497002\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/vue-style-loader/index.js??ref--9-oneOf-1-0!../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-3!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./IconMessage.vue?vue&type=style&index=0&id=fcc3e7d2&prod&lang=scss&scoped=true&\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/@vue/cli-service/node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".modal-dialog[data-v-5130a572]{padding:10px}.modal-dialog h4[data-v-5130a572]{font-weight:700}.modal-dialog .dialog-buttons[data-v-5130a572]{display:flex;justify-content:flex-end;margin-top:10px}.modal-dialog .dialog-buttons[data-v-5130a572]>:not(:last-child){margin-right:10px}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('modal',{attrs:{\"name\":_vm.name,\"height\":\"auto\",\"scrollable\":true},on:{\"closed\":function($event){return _vm.closeDialog(false)},\"before-open\":_vm.beforeOpen}},[_c('div',{staticClass:\"modal-dialog\"},[_c('h4',[_vm._v(\"\\n      \"+_vm._s(_vm.title)+\"\\n    \")]),_vm._v(\" \"),_vm._t(\"default\"),_vm._v(\" \"),_c('div',{staticClass:\"dialog-buttons mt-20\"},[_vm._t(\"buttons\"),_vm._v(\" \"),(!_vm.$slots.buttons)?_c('div',[_c('button',{staticClass:\"btn role-secondary\",on:{\"click\":function($event){return _vm.closeDialog(false)}}},[_vm._v(\"\\n          \"+_vm._s(_vm.t('generic.cancel'))+\"\\n        \")]),_vm._v(\" \"),(!_vm.mode)?_c('button',{staticClass:\"btn role-primary ml-10\",on:{\"click\":function($event){return _vm.closeDialog(true)}}},[_vm._v(\"\\n          \"+_vm._s(_vm.t('generic.ok'))+\"\\n        \")]):_c('AsyncButton',{staticClass:\"ml-10\",attrs:{\"mode\":_vm.mode},on:{\"click\":_vm.ok}})],1):_vm._e()],2)],2)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport AsyncButton from '@shell/components/AsyncButton';\n\nexport default {\n  components: { AsyncButton },\n\n  props: {\n    name: {\n      type:     String,\n      required: true,\n    },\n\n    title: {\n      type:     String,\n      required: true,\n    },\n\n    mode: {\n      type:    String,\n      default: '',\n    }\n  },\n\n  data() {\n    return { closed: false };\n  },\n\n  methods: {\n    beforeOpen() {\n      this.closed = false;\n    },\n\n    ok(btnCb) {\n      const callback = (ok) => {\n        btnCb(ok);\n        if (ok) {\n          this.closeDialog(true);\n        }\n      };\n\n      this.$emit('okay', callback);\n    },\n\n    closeDialog(result) {\n      if (!this.closed) {\n        this.$modal.hide(this.name);\n        this.$emit('closed', result);\n        this.closed = true;\n      }\n    },\n  }\n};\n</script>\n\n<template>\n  <modal\n    :name=\"name\"\n    height=\"auto\"\n    :scrollable=\"true\"\n    @closed=\"closeDialog(false)\"\n    @before-open=\"beforeOpen\"\n  >\n    <div class=\"modal-dialog\">\n      <h4>\n        {{ title }}\n      </h4>\n      <slot />\n      <div class=\"dialog-buttons mt-20\">\n        <slot name=\"buttons\" />\n        <div v-if=\"!$slots.buttons\">\n          <button\n            class=\"btn role-secondary\"\n            @click=\"closeDialog(false)\"\n          >\n            {{ t('generic.cancel') }}\n          </button>\n          <button\n            v-if=\"!mode\"\n            class=\"btn role-primary ml-10\"\n            @click=\"closeDialog(true)\"\n          >\n            {{ t('generic.ok') }}\n          </button>\n          <AsyncButton\n            v-else\n            :mode=\"mode\"\n            class=\"ml-10\"\n            @click=\"ok\"\n          />\n        </div>\n      </div>\n    </div>\n  </modal>\n</template>\n\n<style lang=\"scss\" scoped>\n  .modal-dialog {\n    padding: 10px;\n\n    h4 {\n      font-weight: bold;\n    }\n\n    .dialog-buttons {\n      display: flex;\n      justify-content: flex-end;\n      margin-top: 10px;\n\n      > *:not(:last-child) {\n        margin-right: 10px;\n      }\n    }\n  }\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--16-0!../../node_modules/babel-loader/lib/index.js??ref--16-1!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Dialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--16-0!../../node_modules/babel-loader/lib/index.js??ref--16-1!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./Dialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Dialog.vue?vue&type=template&id=5130a572&scoped=true&\"\nimport script from \"./Dialog.vue?vue&type=script&lang=js&\"\nexport * from \"./Dialog.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Dialog.vue?vue&type=style&index=0&id=5130a572&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5130a572\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}