(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages/c/_cluster/uiplugins/index","pages/c/_cluster/uiplugins/DeveloperInstallDialog","pages/c/_cluster/uiplugins/InstallDialog","pages/c/_cluster/uiplugins/PluginInfoPanel","pages/c/_cluster/uiplugins/UninstallDialog"],{"093f":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e._self._c;return t("Dialog",{attrs:{name:"confirm-uiplugins-remove",title:e.t("plugins.setup.remove.title"),mode:"disable","data-testid":"disable-ext-modal"},on:{okay:e.doRemove}},[[t("p",{staticClass:"mb-20"},[e._v("\n      "+e._s(e.t("plugins.setup.remove.prompt"))+"\n    ")]),e._v(" "),t("div",{staticClass:"mb-15"},[t("Checkbox",{attrs:{primary:!0,disabled:!e.officialRepo,"label-key":"plugins.setup.remove.registry.official.title","data-testid":"disable-ext-modal-remove-official-repo"},model:{value:e.removeRepos.official,callback:function(t){e.$set(e.removeRepos,"official",t)},expression:"removeRepos.official"}}),e._v(" "),e.officialRepo?e._e():t("div",{staticClass:"checkbox-info"},[e._v("\n        ("+e._s(e.t("plugins.setup.uninstalled"))+")\n      ")])],1),e._v(" "),t("div",{staticClass:"mb-15"},[t("Checkbox",{attrs:{primary:!0,disabled:!e.partnersRepo,"label-key":"plugins.setup.remove.registry.partners.title","data-testid":"disable-ext-modal-remove-partners-repo"},model:{value:e.removeRepos.partners,callback:function(t){e.$set(e.removeRepos,"partners",t)},expression:"removeRepos.partners"}}),e._v(" "),e.partnersRepo?e._e():t("div",{staticClass:"checkbox-info"},[e._v("\n        ("+e._s(e.t("plugins.setup.uninstalled"))+")\n      ")])],1),e._v(" "),e.hasPluginsInstalled?t("div",{staticClass:"mt-20"},[t("Checkbox",{attrs:{primary:!0,"label-key":"plugins.setup.remove.crd.title"},model:{value:e.removeCRD,callback:function(t){e.removeCRD=t},expression:"removeCRD"}}),e._v(" "),t("div",{staticClass:"checkbox-info"},[e._v("\n        "+e._s(e.t("plugins.setup.remove.crd.prompt"))+"\n      ")])],1):e._e()]],2)},i=[],s=(a("b64b"),a("a4d3"),a("e439"),a("dbb4"),a("2909")),r=a("ade3"),o=a("1da1"),l=(a("7db0"),a("d3b7"),a("b0c0"),a("e6cf"),a("4de4"),a("e260"),a("f20a"),a("3ca3"),a("ddb0"),a("159b"),a("a34a")),c=a.n(l),u=(a("96cf"),a("2f62")),d=a("a788"),p=a("e5e4"),g=a("bd30"),f=a("7600");function v(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function m(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?v(Object(a),!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):v(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var b={components:{Checkbox:g["a"],Dialog:p["a"]},fetch:function(){var e=this;return Object(o["a"])(c.a.mark((function t(){var a;return c.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.$store.getters["management/schemaFor"](d["f"].CLUSTER_REPO)){t.next=3;break}return t.next=3,e.$store.dispatch("management/findAll",{type:d["f"].CLUSTER_REPO,opt:{force:!0}});case 3:if(!e.$store.getters["management/schemaFor"](d["ab"])){t.next=9;break}return t.next=6,e.$store.dispatch("management/findAll",{type:d["ab"]});case 6:a=t.sent,e.hasPluginsInstalled=(a||[]).length>0,e.removeCRD=!e.hasPluginsInstalled;case 9:case"end":return t.stop()}}),t)})))()},data:function(){return{errors:[],removeRepos:{official:!0,partners:!0},reposInfo:{official:{name:f["e"],url:f["f"],branch:f["d"]},partners:{name:f["b"],url:f["c"],branch:f["a"]}},removeCRD:!0,hasPluginsInstalled:!1}},computed:m(m({},Object(u["b"])({repos:"catalog/repos"})),{},{officialRepo:function(){var e=this.repos.find((function(e){return e.urlDisplay===f["f"]}));return null!==e&&void 0!==e&&e.id?e:void 0},partnersRepo:function(){var e=this.repos.find((function(e){return e.urlDisplay===f["c"]}));return null!==e&&void 0!==e&&e.id?e:void 0}}),methods:{removeChart:function(e){var t=this;return Object(o["a"])(c.a.mark((function a(){var n,i;return c.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,t.$store.dispatch("management/findAll",{type:d["f"].APP});case 2:if(n=a.sent,i=n.find((function(t){return t.namespace===f["k"]&&t.name===e})),!i){a.next=6;break}return a.abrupt("return",i.remove());case 6:return a.abrupt("return",Promise.reject(new Error("Could not find chart ยง{ name }")));case 7:case"end":return a.stop()}}),a)})))()},showDialog:function(){this.removeRepos={official:!!this.officialRepo,partners:!!this.partnersRepo},this.$modal.show("confirm-uiplugins-remove")},doRemove:function(e){var t=this;return Object(o["a"])(c.a.mark((function a(){var n,i,r,o,l,u;return c.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:t.errors=[],n=Object(s["a"])(f["h"]).reverse(),t.removeCRD||(n=n.filter((function(e){return e!==f["l"]}))),i=0;case 4:if(!(i<n.length)){a.next=17;break}return r=n[i],a.prev=6,a.next=9,t.removeChart(r);case 9:a.next=14;break;case 11:a.prev=11,a.t0=a["catch"](6),t.errors.push(a.t0.message);case 14:i++,a.next=4;break;case 17:for(l in o=[],t.removeRepos)t.removeRepos[l]&&t["".concat(l,"Repo")]&&o.push(t["".concat(l,"Repo")].remove());return a.next=21,Promise.allSettled(o);case 21:return u=a.sent,u.forEach((function(e){"rejected"===e.status&&(console.error(e.reason),t.errors.push(e.reason))})),t.$store.dispatch("management/forgetType",d["ab"]),a.next=26,new Promise((function(e){return setTimeout(e,5e3)}));case 26:t.$emit("done"),e(!0);case 28:case"end":return a.stop()}}),a,null,[[6,11]])})))()}}},h=b,x=(a("1915"),a("0c7c")),_=Object(x["a"])(h,n,i,!1,null,"41f62665",null);t["default"]=_.exports},"10dd":function(e,t,a){"use strict";a.r(t);a("b0c0"),a("a4d3"),a("e01a");var n=function(){var e=this,t=e._self._c;return t("div",{staticClass:"plugins"},[t("div",{staticClass:"plugin-header"},[e.showCatalogList?[t("div",{staticClass:"catalog-title"},[t("h2",{staticClass:"mb-0 mr-10",attrs:{"data-testid":"extensions-catalog-title"}},[t("a",{staticClass:"link",on:{click:function(t){return e.manageExtensionView()}}},[e._v("\n            "+e._s(e.t("plugins.manageCatalog.title"))+":\n          ")]),e._v(" "),t("t",{attrs:{k:"plugins.manageCatalog.subtitle"}})],1),e._v(" "),t("BadgeState",{staticClass:"badge",attrs:{color:"bg-warning",label:e.t("generic.experimental")}})],1)]:[t("h2",{attrs:{"data-testid":"extensions-page-title"}},[e._v("\n        "+e._s(e.t("plugins.title"))+"\n      ")])],e._v(" "),t("div",{staticClass:"actions-container"},[e.reloadRequired?t("div",{staticClass:"plugin-reload-banner mr-20",attrs:{"data-testid":"extension-reload-banner"}},[t("i",{staticClass:"icon icon-checkmark mr-10"}),e._v(" "),t("span",[e._v("\n          "+e._s(e.t("plugins.reload"))+"\n        ")]),e._v(" "),t("button",{staticClass:"ml-10 btn btn-sm role-primary",attrs:{"data-testid":"extension-reload-banner-reload-btn"},on:{click:function(t){return e.reload()}}},[e._v("\n          "+e._s(e.t("generic.reload"))+"\n        ")])]):e._e(),e._v(" "),e.hasService&&e.hasMenuActions?t("div",[t("button",{ref:"actions",staticClass:"btn role-multi-action actions",attrs:{"aria-haspopup":"true",type:"button","data-testid":"extensions-page-menu"},on:{click:e.setMenu}},[t("i",{staticClass:"icon icon-actions"})]),e._v(" "),t("ActionMenu",{attrs:{"custom-actions":e.menuActions,open:e.menuOpen,"use-custom-target-element":!0,"custom-target-element":e.menuTargetElement,"custom-target-event":e.menuTargetEvent},on:{close:function(t){return e.setMenu(!1)},devLoad:e.showDeveloperLoadDialog,removePluginSupport:e.removePluginSupport,manageRepos:e.manageRepos,addRancherRepos:e.showAddExtensionReposDialog,manageExtensionView:e.manageExtensionView}})],1):e._e()])],2),e._v(" "),t("PluginInfoPanel",{ref:"infoPanel"}),e._v(" "),e.hasService?t("div",[e.showCatalogList?[t("CatalogList",{on:{showCatalogLoadDialog:e.showCatalogLoadDialog,showCatalogUninstallDialog:function(t){return e.showCatalogUninstallDialog(t)}}})]:[e.showAddReposBanner?t("Banner",{staticClass:"add-repos-banner mb-20",attrs:{color:"warning","data-testid":"extensions-new-repos-banner"}},[t("span",[e._v(e._s(e.t("plugins.addRepos.banner",{},!0)))]),e._v(" "),t("button",{staticClass:"ml-10 btn btn-sm role-primary",attrs:{"data-testid":"extensions-new-repos-banner-action-btn"},on:{click:function(t){return e.showAddExtensionReposDialog()}}},[e._v("\n          "+e._s(e.t("plugins.addRepos.bannerBtn"))+"\n        ")])]):e._e(),e._v(" "),t("Tabbed",{ref:"tabs",attrs:{"tabs-only":!0,"data-testid":"extension-tabs"},on:{changed:e.filterChanged}},[t("Tab",{attrs:{name:e.TABS_VALUES.INSTALLED,"data-testid":"extension-tab-installed","label-key":"plugins.tabs.installed",weight:20}}),e._v(" "),t("Tab",{attrs:{name:e.TABS_VALUES.AVAILABLE,"data-testid":"extension-tab-available","label-key":"plugins.tabs.available",weight:19}}),e._v(" "),t("Tab",{attrs:{name:e.TABS_VALUES.UPDATES,"label-key":"plugins.tabs.updates",weight:18,badge:e.updates.length}}),e._v(" "),t("Tab",{attrs:{name:e.TABS_VALUES.ALL,"label-key":"plugins.tabs.all",weight:17}})],1),e._v(" "),[e.loading?t("div",{staticClass:"data-loading"},[t("i",{staticClass:"icon-spin icon icon-spinner"}),e._v(" "),t("t",{attrs:{k:"generic.loading",raw:!0}})],1):t("div",{staticClass:"plugin-list",class:{"v-margin":!e.list.length}},[0===e.list.length?t("IconMessage",{attrs:{vertical:!0,subtle:!0,icon:"icon-extension",message:e.emptyMessage}}):e._l(e.list,(function(a,n){return t("div",{key:a.name+n,staticClass:"plugin",attrs:{"data-testid":"extension-card-".concat(a.name)},on:{click:function(t){return e.showPluginDetail(a)}}},[t("div",{staticClass:"plugin-icon",class:e.applyDarkModeBg},[a.icon?t("LazyImage",{staticClass:"icon plugin-icon-img",attrs:{"initial-src":e.defaultIcon,"error-src":e.defaultIcon,src:a.icon}}):t("img",{staticClass:"icon plugin-icon-img",attrs:{src:e.defaultIcon}})],1),e._v(" "),t("div",{staticClass:"plugin-metadata"},[t("div",{staticClass:"plugin-name"},[e._v("\n                  "+e._s(a.label)+"\n                ")]),e._v(" "),t("div",[e._v(e._s(a.description))]),e._v(" "),t("div",{staticClass:"plugin-version"},[a.installing?t("span",{staticClass:"plugin-installing"},[e._v("\n                    -\n                  ")]):t("span",[t("span",[e._v(e._s(a.displayVersion))]),e._v(" "),a.upgrade?t("span",{directives:[{name:"clean-tooltip",rawName:"v-clean-tooltip",value:e.t("plugins.upgradeAvailable"),expression:"t('plugins.upgradeAvailable')"}]},[e._v(" -> "+e._s(a.upgrade))]):e._e(),e._v(" "),a.installedError?t("p",{staticClass:"incompatible"},[t("i",{staticClass:"icon icon-warning icon-lg text-warning"}),e._v(" "),t("span",[e._v(e._s(a.installedError))])]):a.incompatibleRancherVersion?t("p",{staticClass:"incompatible"},[e._v(e._s(a.incompatibleRancherVersion))]):a.incompatibleKubeVersion?t("p",{staticClass:"incompatible"},[e._v(e._s(a.incompatibleKubeVersion))]):e._e()])]),e._v(" "),a.builtin?t("div",{staticClass:"plugin-badges"},[t("div",{staticClass:"plugin-builtin"},[e._v("\n                    "+e._s(e.t("plugins.labels.builtin"))+"\n                  ")])]):t("div",{staticClass:"plugin-badges"},[a.certified?e._e():t("div",{directives:[{name:"clean-tooltip",rawName:"v-clean-tooltip",value:e.t("plugins.descriptions.third-party"),expression:"t('plugins.descriptions.third-party')"}]},[e._v("\n                    "+e._s(e.t("plugins.labels.third-party"))+"\n                  ")]),e._v(" "),a.experimental?t("div",{directives:[{name:"clean-tooltip",rawName:"v-clean-tooltip",value:e.t("plugins.descriptions.experimental"),expression:"t('plugins.descriptions.experimental')"}]},[e._v("\n                    "+e._s(e.t("plugins.labels.experimental"))+"\n                  ")]):e._e()]),e._v(" "),t("div",{staticClass:"plugin-spacer"}),e._v(" "),t("div",{staticClass:"plugin-actions"},[a.error?[t("div",{directives:[{name:"clean-tooltip",rawName:"v-clean-tooltip",value:a.error,expression:"plugin.error"}],staticClass:"plugin-error"},[t("i",{staticClass:"icon icon-warning"})])]:e._e(),e._v(" "),a.helmError?t("div",{directives:[{name:"clean-tooltip",rawName:"v-clean-tooltip",value:e.t("plugins.helmError"),expression:"t('plugins.helmError')"}],staticClass:"plugin-error"},[t("i",{staticClass:"icon icon-warning"})]):e._e(),e._v(" "),t("div",{staticClass:"plugin-spacer"}),e._v(" "),a.installing?t("div",{staticClass:"plugin-installing"},[t("i",{staticClass:"version-busy icon icon-spin icon-spinner"}),e._v(" "),"install"===a.installing?t("div",[e._v("\n                      "+e._s(e.t("plugins.labels.installing"))+"\n                    ")]):t("div",[e._v("\n                      "+e._s(e.t("plugins.labels.uninstalling"))+"\n                    ")])]):a.installed?t("div",{staticClass:"plugin-buttons"},[a.builtin?e._e():t("button",{staticClass:"btn role-secondary",attrs:{"data-testid":"extension-card-uninstall-btn-".concat(a.name)},on:{click:function(t){return e.showUninstallDialog(a,t)}}},[e._v("\n                      "+e._s(e.t("plugins.uninstall.label"))+"\n                    ")]),e._v(" "),a.upgrade?t("button",{staticClass:"btn role-secondary",attrs:{"data-testid":"extension-card-update-btn-".concat(a.name)},on:{click:function(t){return e.showInstallDialog(a,"update",t)}}},[e._v("\n                      "+e._s(e.t("plugins.update.label"))+"\n                    ")]):e._e(),e._v(" "),!a.upgrade&&a.installableVersions&&a.installableVersions.length>1?t("button",{staticClass:"btn role-secondary",attrs:{"data-testid":"extension-card-rollback-btn-".concat(a.name)},on:{click:function(t){return e.showInstallDialog(a,"rollback",t)}}},[e._v("\n                      "+e._s(e.t("plugins.rollback.label"))+"\n                    ")]):e._e()]):a.installableVersions&&a.installableVersions.length?t("div",{staticClass:"plugin-buttons"},[t("button",{staticClass:"btn role-secondary",attrs:{"data-testid":"extension-card-install-btn-".concat(a.name)},on:{click:function(t){return e.showInstallDialog(a,"install",t)}}},[e._v("\n                      "+e._s(e.t("plugins.install.label"))+"\n                    ")])]):e._e()],2)])])}))],2)]]],2):t("div",[e.loading?t("div",{staticClass:"data-loading"},[t("i",{staticClass:"icon-spin icon icon-spinner"}),e._v(" "),t("t",{attrs:{k:"generic.loading",raw:!0}})],1):t("SetupUIPlugins",{staticClass:"setup-message",on:{done:function(t){return e.updateInstallStatus(!0)},refreshCharts:function(t){return e.refreshCharts(!0)}}})],1),e._v(" "),t("InstallDialog",{ref:"installDialog",on:{closed:e.didInstall,update:e.updatePluginInstallStatus}}),e._v(" "),t("UninstallDialog",{ref:"uninstallDialog",on:{closed:e.didUninstall,update:e.updatePluginInstallStatus}}),e._v(" "),t("CatalogLoadDialog",{ref:"catalogLoadDialog",on:{closed:e.didInstall,refresh:function(){return e.reloadRequired=!0}}}),e._v(" "),t("CatalogUninstallDialog",{ref:"catalogUninstallDialog",on:{closed:e.didUninstall,refresh:function(){return e.reloadRequired=!0}}}),e._v(" "),t("DeveloperInstallDialog",{ref:"developerInstallDialog",on:{closed:e.didInstall}}),e._v(" "),t("RemoveUIPlugins",{ref:"removeUIPlugins",on:{done:e.updateInstallStatus}}),e._v(" "),t("AddExtensionRepos",{ref:"addExtensionReposDialog",on:{done:function(t){return e.updateInstallStatus(!0)}}})],1)},i=[],s=(a("e439"),a("dbb4"),a("53ca")),r=a("2909"),o=a("ade3"),l=a("1da1"),c=a("a34a"),u=a.n(c),d=(a("96cf"),a("07ac"),a("7db0"),a("d3b7"),a("4de4"),a("d81d"),a("159b"),a("99af"),a("b64b"),a("f6b5")),p=a.n(d),g=a("2f62"),f=a("e528"),v=a("b25d"),m=a("fa98"),b=a("a788"),h=a("c5b9"),x=a("2f40"),_=a("ac98"),y=a("7388"),w=a("959a"),O=a("1ffb"),C=a("a4d2"),k=a("f38f"),D=a("2678"),j=a("bc1c"),E=a("4297"),P=a("94af"),R=a("28f0"),I=(a("498a"),function(){var e=this,t=e._self._c;return t("modal",{attrs:{name:"catalogLoadDialog",height:"auto",scrollable:!0},on:{closed:function(t){return e.closeDialog()}}},[e.$fetchState.loading?t("Loading",{attrs:{mode:"relative"}}):t("div",{staticClass:"plugin-install-dialog"},[[t("div",[t("h4",[e._v("\n          "+e._s(e.t("plugins.manageCatalog.imageLoad.load"))+"\n        ")]),e._v(" "),t("p",[e._v("\n          "+e._s(e.t("plugins.manageCatalog.imageLoad.prompt"))+"\n        ")]),e._v(" "),t("div",{staticClass:"custom mt-10"},[t("Banner",{staticClass:"mt-10",attrs:{color:"info",label:e.t("plugins.manageCatalog.imageLoad.banner")}})],1),e._v(" "),t("div",{staticClass:"custom mt-10"},[t("div",{staticClass:"fields"},[t("LabeledInput",{attrs:{"label-key":"plugins.manageCatalog.imageLoad.fields.image.label","placeholder-key":"plugins.manageCatalog.imageLoad.fields.image.placeholder"},model:{value:e.deploymentValues.spec.template.spec.containers[0].image,callback:function(t){e.$set(e.deploymentValues.spec.template.spec.containers[0],"image","string"===typeof t?t.trim():t)},expression:"deploymentValues.spec.template.spec.containers[0].image"}})],1)]),e._v(" "),t("div",{staticClass:"custom mt-10"},[t("div",{staticClass:"fields"},[t("LabeledSelect",{attrs:{label:e.t("workload.container.imagePullSecrets"),multiple:!0,taggable:!0,options:e.imagePullNamespacedSecrets,"option-label":"metadata.name",reduce:function(e){return e.metadata.name}},model:{value:e.imagePullSecrets,callback:function(t){e.imagePullSecrets=t},expression:"imagePullSecrets"}}),e._v(" "),t("Banner",{staticClass:"mt-10",attrs:{color:"warning"}},[t("span",{directives:[{name:"clean-html",rawName:"v-clean-html",value:e.t("plugins.manageCatalog.imageLoad.fields.secrets.banner",{},!0),expression:"t('plugins.manageCatalog.imageLoad.fields.secrets.banner', {}, true)"}]})])],1)])])],e._v(" "),t("div",{staticClass:"custom mt-10"},[t("div",{staticClass:"fields"},[t("div",{staticClass:"dialog-buttons mt-20"},[t("button",{staticClass:"btn role-secondary",attrs:{"data-testid":"image-load-ext-modal-cancel-btn"},on:{click:function(t){return e.closeDialog()}}},[e._v("\n            "+e._s(e.t("generic.cancel"))+"\n          ")]),e._v(" "),t("AsyncButton",{attrs:{mode:"load","data-testid":"image-load-ext-modal-install-btn"},on:{click:e.loadImage}})],1)])])],2)],1)}),S=[],A=(a("e260"),a("4ec9"),a("6062"),a("cca6"),a("ac1f"),a("13ea")),V=a.n(A),L=a("7600"),$=a("1f91"),T=a("2ba48"),M=a("67c9"),N=a("a95f"),U=a("c778"),B=a("bec1"),G=a("84d3");function z(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function K(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?z(Object(a),!0).forEach((function(t){Object(o["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):z(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var q={type:b["fb"].DEPLOYMENT,metadata:{name:"",namespace:L["k"],labels:{}},spec:{replicas:1,selector:{matchLabels:{}},template:{metadata:{namespace:L["k"],labels:{}},spec:{containers:[{image:"",imagePullPolicy:"Always",name:"container-0"}],imagePullSecrets:[],restartPolicy:"Always"}}}},F={type:b["U"],metadata:{name:"",namespace:L["k"],labels:Object(o["a"])({},L["j"].CATALOG_IMAGE,"")},spec:{ports:[{name:"",port:8080,protocol:"TCP",targetPort:8080}],selector:Object(o["a"])({},L["j"].CATALOG_IMAGE,""),type:"ClusterIP"}},Y={type:b["f"].CLUSTER_REPO,metadata:{name:"",labels:Object(o["a"])({},L["j"].CATALOG_IMAGE,"")},spec:{url:null}},W=function(){var e=structuredClone(q),t=structuredClone(F),a=structuredClone(Y);return{deploymentValues:e,serviceValues:t,repoValues:a,canModifyName:!0,canModifyImage:!0,imagePullSecrets:[],imagePullNamespacedSecrets:[],extensionUrl:null,extensionDeployment:null,extensionSvc:null,extensionRepo:null,extensionCrd:null}},H={components:{AsyncButton:M["b"],Banner:B["a"],LabeledInput:G["a"],Loading:U["a"],LabeledSelect:N["a"]},mixins:[T["a"]],fetch:function(){var e=this;return Object(l["a"])(u.a.mark((function t(){var a;return u.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a={},e.$store.getters["management/canList"](b["fb"].DEPLOYMENT)&&(a.deployments=e.$store.dispatch("management/findAll",{type:b["fb"].DEPLOYMENT})),e.$store.getters["management/canList"](b["U"])&&(a.services=e.$store.dispatch("management/findAll",{type:b["U"]})),t.next=5,Object(m["a"])(a);case 5:e.secondaryResourceData=e.secondaryResourceDataConfig(),e.resourceManagerFetchSecondaryResources(e.secondaryResourceData);case 7:case"end":return t.stop()}}),t)})))()},data:function(){return K(K({},W()),{},{secondaryResourceData:null})},computed:K(K({},Object(g["b"])({allRepos:"catalog/repos"})),{},{namespacedDeployments:function(){return this.$store.getters["management/all"](b["fb"].DEPLOYMENT).filter((function(e){return e.metadata.namespace===L["k"]}))},namespacedServices:function(){return this.$store.getters["management/all"](b["U"]).filter((function(e){return e.metadata.namespace===L["k"]}))}}),methods:{secondaryResourceDataConfig:function(){return{namespace:L["k"],data:Object(o["a"])({},b["T"],{applyTo:[{var:"imagePullNamespacedSecrets",parsingFunc:function(e){return e.filter((function(e){return e._type===$["TYPES"].DOCKER||e._type===$["TYPES"].DOCKER_JSON}))}}]})}},showDialog:function(){this.$modal.show("catalogLoadDialog")},closeDialog:function(e){this.$modal.hide("catalogLoadDialog"),this.$emit("closed",e),Object.assign(this.$data,W()),this.secondaryResourceData=this.secondaryResourceDataConfig(),this.resourceManagerFetchSecondaryResources(this.secondaryResourceData)},loadImage:function(e){var t=this;return Object(l["a"])(u.a.mark((function a(){var n,i;return u.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(a.prev=0,V()(t.deploymentValues.spec.template.spec.containers[0].image)){a.next=17;break}if(n=t.deploymentValues.spec.template.spec.containers[0].image,i=t.extractImageName(n),!i){a.next=16;break}return a.next=7,t.loadDeployment(n,i,e);case 7:if(!t.extensionDeployment){a.next=10;break}return a.next=10,t.loadService(i,e);case 10:if(!t.extensionSvc){a.next=13;break}return a.next=13,t.loadRepo(i,e);case 13:t.extensionRepo&&(e(!0),t.closeDialog(),t.$store.dispatch("growl/success",{title:t.t("plugins.manageCatalog.imageLoad.success.title",{name:i}),message:t.t("plugins.manageCatalog.imageLoad.success.message"),timeout:4e3},{root:!0}),t.$emit("refresh")),a.next=17;break;case 16:throw new Error("Unable to determine image name");case 17:a.next=23;break;case 19:a.prev=19,a.t0=a["catch"](0),t.handleGrowlError(a.t0,!0),e(!1);case 23:case"end":return a.stop()}}),a,null,[[0,19]])})))()},loadDeployment:function(e,t,a){var n=this;return Object(l["a"])(u.a.mark((function i(){var s,r,o;return u.a.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(s=n.namespacedDeployments.find((function(t){return t.spec.template.spec.containers[0].image===e})),s){i.next=17;break}return r=n.parseDeploymentValues(t),i.next=5,n.$store.dispatch("management/create",r);case 5:return n.extensionDeployment=i.sent,i.prev=6,i.next=9,n.extensionDeployment.save();case 9:i.next=15;break;case 11:i.prev=11,i.t0=i["catch"](6),n.handleGrowlError(i.t0,!0),a(!1);case 15:i.next=20;break;case 17:o={_statusText:n.t("plugins.manageCatalog.imageLoad.error.exists.deployment.title"),message:n.t("plugins.manageCatalog.imageLoad.error.exists.deployment.message",{image:e})},n.handleGrowlError(o),a(!1);case 20:case"end":return i.stop()}}),i,null,[[6,11]])})))()},loadService:function(e,t){var a=this;return Object(l["a"])(u.a.mark((function n(){var i,s,r,o,l;return u.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(i="".concat(e,"-svc"),s=a.namespacedServices.find((function(e){return e.metadata.name===i})),!s){n.next=7;break}return r={_statusText:a.t("plugins.manageCatalog.imageLoad.error.exists.service.title"),message:a.t("plugins.manageCatalog.imageLoad.error.exists.service.message",{svc:i})},a.handleGrowlError(r,!0),t(!1),n.abrupt("return");case 7:return o=a.parseServiceValues(e,i),n.next=10,a.$store.dispatch("management/create",o);case 10:return l=n.sent,n.prev=11,n.next=14,l.save();case 14:n.next=21;break;case 16:return n.prev=16,n.t0=n["catch"](11),a.handleGrowlError(n.t0,!0),t(!1),n.abrupt("return");case 21:return n.prev=21,n.next=24,a.$store.dispatch("management/find",{type:b["U"],id:"".concat(L["k"],"/").concat(l.metadata.name),namespace:L["k"]});case 24:if(a.extensionSvc=n.sent,!a.extensionSvc){n.next=29;break}a.extensionUrl="http://".concat(a.extensionSvc.spec.clusterIP,":").concat(a.extensionSvc.spec.ports[0].port),n.next=30;break;case 29:throw new Error("Error fetching extension service");case 30:n.next=36;break;case 32:n.prev=32,n.t1=n["catch"](21),a.handleGrowlError(n.t1,!0),t(!1);case 36:case"end":return n.stop()}}),n,null,[[11,16],[21,32]])})))()},loadRepo:function(e,t){var a=this;return Object(l["a"])(u.a.mark((function n(){var i,s,r,o;return u.a.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(i="".concat(e,"-charts"),s=a.allRepos.find((function(e){return e.metadata.name===i})),!s){n.next=8;break}return r={_statusText:a.t("plugins.manageCatalog.imageLoad.error.exists.repo.title"),message:a.t("plugins.manageCatalog.imageLoad.error.exists.repo.message",{repo:i})},a.handleGrowlError(r),t(!1),a.clean(),n.abrupt("return");case 8:return o=a.parseRepoValues(i),n.next=11,a.$store.dispatch("management/create",o);case 11:return a.extensionRepo=n.sent,n.prev=12,n.next=15,a.extensionRepo.save();case 15:n.next=21;break;case 17:n.prev=17,n.t0=n["catch"](12),a.handleGrowlError(n.t0,!0),t(!1);case 21:case"end":return n.stop()}}),n,null,[[12,17]])})))()},parseDeploymentValues:function(e){var t={};this.$set(this.deploymentValues.metadata,"name",e);var a=Object(o["a"])({},L["j"].CATALOG_IMAGE,e),n=["metadata.labels","spec.selector.matchLabels","spec.template.metadata.labels"];return t=this.assignLabels(this.deploymentValues,a,n),this.imagePullSecrets.length&&(t.spec.template.spec.imagePullSecrets=this.imagePullSecrets.map((function(e){return{name:e}}))),t},parseServiceValues:function(e,t){var a=this.serviceValues;return a.metadata.name=t,a.metadata.labels[L["j"].CATALOG_IMAGE]=e,a.spec.selector[L["j"].CATALOG_IMAGE]=e,a},parseRepoValues:function(e){var t=this.repoValues;return t.metadata.name=e,t.metadata.labels[L["j"].CATALOG_IMAGE]=this.deploymentValues.metadata.name,t.spec.url=this.extensionUrl,t},assignLabels:function(e,t,a){for(var n=0;n<a.length;n++){for(var i=a[n].split("."),s=e,r=0;r<i.length-1;r++)s=s[i[r]];s[i[i.length-1]]=t}return e},extractImageVersion:function(e){var t=/:(\d+\.\d+\.\d+([-\w\d]+)*)$/,a=t.exec(e);return a?a[1]:null},extractImageName:function(e){var t=/\/([^/:]+)(?::\d+\.\d+\.\d+(-[a-zA-Z0-9]+)?|$)/,a=t.exec(e);return a?a[1]:null},clean:function(){this.extensionDeployment&&this.extensionDeployment.remove(),this.extensionSvc&&this.extensionSvc.remove(),this.extensionRepo&&this.extensionRepo.remove()},handleGrowlError:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=(null===e||void 0===e?void 0:e.data)||e;this.$store.dispatch("growl/error",{title:a._statusText,message:a.message,timeout:5e3},{root:!0}),t&&this.clean()}}},J=H,X=(a("30b1"),a("0c7c")),Z=Object(X["a"])(J,I,S,!1,null,"63867fdc",null),Q=Z.exports,ee=function(){var e=this,t=e._self._c;return t("modal",{attrs:{name:"uninstallCatalogDialog",height:"auto",scrollable:!0}},[e.catalog?t("div",{staticClass:"plugin-install-dialog"},[t("h4",{staticClass:"mt-10"},[e._v("\n      "+e._s(e.t("plugins.uninstall.title",{name:e.catalog.name}))+"\n    ")]),e._v(" "),t("div",{staticClass:"mt-10 dialog-panel"},[t("div",{staticClass:"dialog-info"},[t("p",[e._v("\n          "+e._s(e.t("plugins.uninstall.catalog"))+"\n        ")])]),e._v(" "),t("div",{staticClass:"dialog-buttons"},[t("button",{staticClass:"btn role-secondary",attrs:{disabled:e.busy,"data-testid":"uninstall-ext-modal-cancel-btn"},on:{click:function(t){return e.closeDialog(!1)}}},[e._v("\n          "+e._s(e.t("generic.cancel"))+"\n        ")]),e._v(" "),t("AsyncButton",{attrs:{mode:"uninstall","data-testid":"uninstall-ext-modal-uninstall-btn"},on:{click:function(t){return e.uninstall()}}})],1)])]):e._e()])},te=[];function ae(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ne(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(a),!0).forEach((function(t){Object(o["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ae(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var ie={components:{AsyncButton:M["b"]},fetch:function(){var e=this;return Object(l["a"])(u.a.mark((function t(){var a;return u.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.$store.getters["management/schemaFor"](b["ab"])&&(a=e.$store.dispatch("management/findAll",{type:b["ab"]}),e.plugins=a||[]);case 1:case"end":return t.stop()}}),t)})))()},data:function(){return{catalog:void 0,busy:!1,plugins:null}},computed:ne(ne({},Object(g["b"])({allCharts:"catalog/charts"})),{},{pluginsFromCatalogImage:function(){return this.plugins.filter((function(e){var t,a;return null===(t=e.metadata)||void 0===t||null===(a=t.labels)||void 0===a?void 0:a[L["j"].CATALOG_IMAGE]}))}}),methods:{showDialog:function(e){this.catalog=e,this.busy=!1,this.$modal.show("uninstallCatalogDialog")},closeDialog:function(e){this.$modal.hide("uninstallCatalogDialog"),this.$emit("closed",e),e&&this.$emit("refresh")},uninstall:function(){var e=this;return Object(l["a"])(u.a.mark((function t(){var a,n,i;return u.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.busy=!0,a=e.catalog,t.next=4,e.$store.dispatch("management/findAll",{type:b["f"].APP});case 4:return n=t.sent,i=n.filter((function(t){if(t.namespace===L["k"]){var n=e.allCharts.filter((function(e){var t,n;return e.repoName===(null===(t=a.repo)||void 0===t||null===(n=t.metadata)||void 0===n?void 0:n.name)}));return n.some((function(e){return e.chartName===t.metadata.name}))}return!1})),t.next=8,e.removeCatalogResources(a);case 8:if(!i.length){t.next=12;break}try{i.forEach((function(t){e.$emit("update",t.name,"uninstall"),t.remove()}))}catch(s){e.$store.dispatch("growl/error",{title:e.t("plugins.error.generic"),message:s.message?s.message:s,timeout:1e4},{root:!0})}return t.next=12,e.$store.dispatch("management/findAll",{type:b["f"].OPERATION});case 12:e.closeDialog(a);case 13:case"end":return t.stop()}}),t)})))()},removeCatalogResources:function(e){var t=this;return Object(l["a"])(u.a.mark((function a(){var n,i,s,r,o,l;return u.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(n="".concat(L["j"].CATALOG_IMAGE,"=").concat(e.name),i=L["k"],!n){a.next=7;break}return a.next=5,Object(m["a"])({deployment:t.$store.dispatch("management/findMatching",{type:b["fb"].DEPLOYMENT,selector:n,namespace:i}),service:t.$store.dispatch("management/findMatching",{type:b["U"],selector:n,namespace:i}),repo:t.$store.dispatch("management/findMatching",{type:b["f"].CLUSTER_REPO,selector:n})});case 5:for(s=a.sent,r=0,o=Object.keys(s);r<o.length;r++)l=o[r],s[l]&&s[l].forEach((function(e){return e.remove()}));case 7:case"end":return a.stop()}}),a)})))()}}},se=ie,re=(a("20cd"),Object(X["a"])(se,ee,te,!1,null,"4e3293b6",null)),oe=re.exports,le=a("9744"),ce=a("b4b2"),ue=a("c150"),de=a("093f"),pe=function(){var e=this,t=e._self._c;return t("Dialog",{attrs:{name:"add-extensions-repos",title:e.t("plugins.addRepos.title"),mode:"add","data-testid":"add-extensions-repos-modal"},on:{okay:e.doAddRepos}},[[t("p",{staticClass:"mb-20"},[e._v("\n      "+e._s(e.t("plugins.addRepos.prompt",{},!0))+"\n    ")]),e._v(" "),e.prime?t("div",{staticClass:"mb-15"},[t("Checkbox",{attrs:{disabled:e.hasRancherUIPluginsRepo,primary:!0,"label-key":"plugins.setup.install.addRancherRepo","data-testid":"add-extensions-repos-modal-add-official-repo"},model:{value:e.addRepos.official,callback:function(t){e.$set(e.addRepos,"official",t)},expression:"addRepos.official"}}),e._v(" "),e.hasRancherUIPluginsRepo?t("div",{staticClass:"checkbox-info"},[e._v("\n        ("+e._s(e.t("plugins.setup.installed"))+")\n      ")]):e._e()],1):e._e(),e._v(" "),t("div",{staticClass:"mb-15"},[t("Checkbox",{attrs:{disabled:e.hasRancherUIPartnersPluginsRepo,primary:!0,"label-key":"plugins.setup.install.addPartnersRancherRepo","data-testid":"add-extensions-repos-modal-add-partners-repo"},model:{value:e.addRepos.partners,callback:function(t){e.$set(e.addRepos,"partners",t)},expression:"addRepos.partners"}}),e._v(" "),e.hasRancherUIPartnersPluginsRepo?t("div",{staticClass:"checkbox-info"},[e._v("\n        ("+e._s(e.t("plugins.setup.installed"))+")\n      ")]):e._e()],1)]],2)},ge=[],fe=(a("e6cf"),a("f20a"),a("3ca3"),a("ddb0"),a("e5e4")),ve=a("bd30"),me={components:{Checkbox:ve["a"],Dialog:fe["a"]},fetch:function(){var e=this;return Object(l["a"])(u.a.mark((function t(){return u.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.$store.getters["management/schemaFor"](b["f"].CLUSTER_REPO)){t.next=4;break}return t.next=3,e.$store.dispatch("management/findAll",{type:b["f"].CLUSTER_REPO,opt:{force:!0}});case 3:e.repos=t.sent;case 4:case"end":return t.stop()}}),t)})))()},data:function(){return{errors:[],repos:[],prime:Object(_["b"])(),addRepos:{official:!0,partners:!0},reposInfo:{official:{repo:void 0,name:L["e"],url:L["f"],branch:L["d"]},partners:{repo:void 0,name:L["b"],url:L["c"],branch:L["a"]}}}},computed:{hasRancherUIPluginsRepo:function(){return!!this.repos.find((function(e){return e.urlDisplay===L["f"]}))},hasRancherUIPartnersPluginsRepo:function(){return!!this.repos.find((function(e){return e.urlDisplay===L["c"]}))}},methods:{showDialog:function(){this.addRepos={official:Object(_["b"])()&&!this.hasRancherUIPluginsRepo,partners:!this.hasRancherUIPartnersPluginsRepo},this.$modal.show("add-extensions-repos")},doAddRepos:function(e){var t=this;return Object(l["a"])(u.a.mark((function a(){var n,i,s,r;return u.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:t.errors=[],n=[],a.t0=u.a.keys(t.addRepos);case 3:if((a.t1=a.t0()).done){a.next=12;break}if(i=a.t1.value,!t.addRepos[i]){a.next=10;break}return a.next=8,t.$store.dispatch("management/create",{type:b["f"].CLUSTER_REPO,metadata:{name:t.reposInfo[i].name},spec:{gitBranch:t.reposInfo[i].branch,gitRepo:t.reposInfo[i].url}});case 8:s=a.sent,n.push(s.save());case 10:a.next=3;break;case 12:if(!n.length){a.next=17;break}return a.next=15,Promise.allSettled(n);case 15:r=a.sent,r.forEach((function(e){"rejected"===e.status&&(console.error(e.reason),t.errors.push(e.reason))}));case 17:t.$emit("done"),e(!0);case 19:case"end":return a.stop()}}),a)})))()}}},be=me,he=(a("35ce"),Object(X["a"])(be,pe,ge,!1,null,"7fa30a01",null)),xe=he.exports,_e=function(){var e=this,t=e._self._c;return t("div",{staticClass:"row mt-20"},[t("div",{staticClass:"col span-12"},[t("ResourceTable",{attrs:{headers:e.catalogHeaders,rows:e.catalogRows,paging:!0,"rows-per-page":10,"table-actions":!1,"key-field":"name"},scopedSlots:e._u([{key:"header-left",fn:function(){return[t("div",[t("button",{staticClass:"btn bg-primary mr-10",attrs:{type:"button","aria-haspopup":"dialog","data-testid":"extensions-catalog-load-dialog"},on:{click:function(t){return e.$emit("showCatalogLoadDialog")}}},[e._v("\n            "+e._s(e.t("plugins.manageCatalog.imageLoad.load"))+"\n          ")])])]},proxy:!0},{key:"row-actions",fn:function(a){var n=a.row;return[t("button",{ref:"catalogActions",staticClass:"btn btn-sm role-multi-action actions",attrs:{"aria-haspopup":"true",type:"button","data-testid":"extensions-page-catalog-row-menu"},on:{click:e.setMenu}},[t("i",{staticClass:"icon icon-actions"})]),e._v(" "),t("ActionMenu",{attrs:{"custom-actions":e.actions,open:e.menuOpen,"use-custom-target-element":!0,"custom-target-element":e.menuTargetElement,"custom-target-event":e.menuTargetEvent},on:{close:function(t){return e.setMenu(!1)},showCatalogUninstallDialog:function(t){return e.$emit("showCatalogUninstallDialog",n,t.event)}}})]}}])})],1)])},ye=[],we=a("9149"),Oe=a("b178");function Ce(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function ke(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ce(Object(a),!0).forEach((function(t){Object(o["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ce(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var De={name:"CatalogList",components:{ActionMenu:O["a"],ResourceTable:Oe["a"]},mixins:[T["a"]],data:function(){var e=[{action:"showCatalogUninstallDialog",label:this.t("plugins.uninstall.label"),icon:"icon icon-trash",enabled:!0}];return{actions:e,catalogHeaders:we["Gb"],menuTargetElement:null,menuTargetEvent:null,menuOpen:!1}},computed:ke(ke({},Object(g["b"])({allRepos:"catalog/repos"})),{},{namespacedDeployments:function(){return this.$store.getters["management/all"](b["fb"].DEPLOYMENT).filter((function(e){return e.metadata.namespace===L["k"]}))},namespacedServices:function(){return this.$store.getters["management/all"](b["U"]).filter((function(e){return e.metadata.namespace===L["k"]}))},catalogRows:function(){var e=this,t=[];return V()(this.namespacedDeployments)||this.namespacedDeployments.forEach((function(a){var n,i,s=[e.namespacedServices,e.allRepos],r=null===(n=a.metadata)||void 0===n||null===(i=n.labels)||void 0===i?void 0:i[L["j"].CATALOG_IMAGE];if(r){var o,l,c,u,d,p,g={name:r,state:null===(o=a.metadata)||void 0===o||null===(l=o.state)||void 0===l?void 0:l.name,image:null===(c=a.spec)||void 0===c||null===(u=c.template)||void 0===u||null===(d=u.spec)||void 0===d||null===(p=d.containers[0])||void 0===p?void 0:p.image,service:null,repo:null},f=["service","repo"];s.forEach((function(e,t){g[f[t]]=null===e||void 0===e?void 0:e.filter((function(e){var t,a;return(null===(t=e.metadata)||void 0===t||null===(a=t.labels)||void 0===a?void 0:a[L["j"].CATALOG_IMAGE])===r}))[0]})),t.push(g)}})),t}}),methods:{setMenu:function(e){this.menuOpen=!!e,e?(this.menuTargetElement=this.$refs.catalogActions,this.menuTargetEvent=e):(this.menuTargetElement=void 0,this.menuTargetEvent=void 0)}}},je=De,Ee=(a("483c"),Object(X["a"])(je,_e,ye,!1,null,"503546f2",null)),Pe=Ee.exports,Re=a("01ba");function Ie(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Se(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ie(Object(a),!0).forEach((function(t){Object(o["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ie(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Ae=200,Ve={INSTALLED:"installed",UPDATES:"updates",AVAILABLE:"available",ALL:"all"},Le={components:{ActionMenu:O["a"],BadgeState:E["a"],DeveloperInstallDialog:le["default"],IconMessage:D["a"],CatalogList:Pe,Banner:Re["a"],CatalogLoadDialog:Q,CatalogUninstallDialog:oe,InstallDialog:R["default"],LazyImage:j["a"],PluginInfoPanel:ce["default"],Tab:k["a"],Tabbed:C["a"],UninstallDialog:P["default"],SetupUIPlugins:ue["default"],RemoveUIPlugins:de["default"],AddExtensionRepos:xe},data:function(){var e;return{TABS_VALUES:Ve,kubeVersion:null,view:"",charts:[],installing:{},errors:{},plugins:[],helmOps:[],addExtensionReposBannerSetting:void 0,loading:!0,menuTargetElement:null,menuTargetEvent:null,menuOpen:!1,hasService:!1,defaultIcon:a("53a6"),reloadRequired:!1,rancherVersion:null===(e=Object(_["a"])())||void 0===e?void 0:e.Version,showCatalogList:!1}},layout:"plain",fetch:function(){var e=this;return Object(l["a"])(u.a.mark((function t(){var a,n,i,s,r,o;return u.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n={},t.next=3,e.updateInstallStatus(!0);case 3:return i=t.sent,i&&e.$store.getters["management/schemaFor"](b["ab"])&&(n.plugins=e.$store.dispatch("management/findAll",{type:b["ab"]})),t.next=7,e.$store.dispatch("catalog/load",{reset:!0});case 7:if(n.load=t.sent,!e.$store.getters["management/schemaFor"](b["B"].CLUSTER)){t.next=12;break}return t.next=11,e.$store.dispatch("management/find",{type:b["B"].CLUSTER,id:"local"});case 11:n.localCluster=t.sent;case 12:if(!e.$store.getters["management/schemaFor"](b["f"].OPERATION)){t.next=16;break}return t.next=15,e.$store.dispatch("management/findAll",{type:b["f"].OPERATION});case 15:n.helmOps=t.sent;case 16:if(!e.$store.getters["management/schemaFor"](b["f"].CLUSTER_REPO)){t.next=20;break}return t.next=19,e.$store.dispatch("management/findAll",{type:b["f"].CLUSTER_REPO});case 19:n.repos=t.sent;case 20:return t.next=22,Object(m["a"])(n);case 22:return s=t.sent,e.plugins=s.plugins||[],e.repos=s.repos||[],e.helmOps=s.helmOps||[],e.kubeVersion=(null===(a=s.localCluster)||void 0===a?void 0:a.kubernetesVersionBase)||[],t.next=29,Object(x["a"])(e.$store,h["c"].ADD_EXTENSION_REPOS_BANNER_DISPLAY,"true",!0);case 29:if(t.t0=t.sent,t.t0){t.next=32;break}t.t0={};case 32:e.addExtensionReposBannerSetting=t.t0,r=e.$store.getters["catalog/rawCharts"],e.charts=Object.values(r),0===e.plugins.length&&(null===(o=e.$refs.tabs)||void 0===o||o.select(Ve.AVAILABLE)),e.loading=!1;case 37:case"end":return t.stop()}}),t)})))()},computed:Se(Se(Se(Se({pluginDeveloper:Object(f["mapPref"])(f["PLUGIN_DEVELOPER"])},Object(g["b"])({uiplugins:"uiplugins/plugins"})),Object(g["b"])({uiErrors:"uiplugins/errors"})),Object(g["b"])({theme:"prefs/theme"})),{},{showAddReposBanner:function(){var e;return"true"===(null===(e=this.addExtensionReposBannerSetting)||void 0===e?void 0:e.value)&&(!this.repos.find((function(e){return e.urlDisplay===L["f"]}))||!this.repos.find((function(e){return e.urlDisplay===L["c"]})))},applyDarkModeBg:function(){return"dark"===this.theme?{"dark-mode":!0}:{}},menuActions:function(){var e=[];return e.push({action:"manageRepos",label:this.t("plugins.manageRepos"),enabled:!0}),e.push({action:"addRancherRepos",label:this.t("plugins.addRancherRepos"),enabled:!0}),this.showCatalogList||e.push({action:"manageExtensionView",label:this.t("plugins.manageCatalog.label"),enabled:!0}),this.pluginDeveloper&&(e.push({divider:!0}),e.push({action:"devLoad",label:this.t("plugins.developer.label"),enabled:!0})),this.hasService&&(e.push({divider:!0}),e.push({action:"removePluginSupport",label:this.t("plugins.setup.remove.label"),enabled:!0})),e},list:function(){var e=this.available;switch(this.view){case Ve.INSTALLED:return e.filter((function(e){return!!e.installed||!!e.installing}));case Ve.UPDATES:return this.updates;case Ve.AVAILABLE:return e.filter((function(e){return!e.installed}));default:return e}},hasMenuActions:function(){var e;return(null===(e=this.menuActions)||void 0===e?void 0:e.length)>0},emptyMessage:function(){return this.t("plugins.empty.".concat(this.view))},updates:function(){return this.available.filter((function(e){return!!e.upgrade}))},available:function(){var e=this,t=this.charts.filter((function(e){return Object(L["q"])(e)}));return t=t.filter((function(e){return!Object(L["t"])(e,y["e"].HIDDEN,"true")})),t=t.map((function(t){var a,n,i=Object(L["s"])(t,L["i"].DISPLAY_NAME)||t.chartNameDisplay,s={name:t.chartName,label:i,description:t.chartDescription,id:t.id,versions:[],installed:!1,builtin:!1,experimental:Object(L["t"])(t,y["e"].EXPERIMENTAL,"true"),certified:Object(L["t"])(t,y["e"].CERTIFIED,y["e"]._RANCHER)};s.versions=Object(r["a"])(t.versions),s.chart=t,s.installableVersions=s.versions.filter((function(t){return Object(L["p"])({version:t,kubeVersion:e.kubeVersion})&&Object(L["n"])({version:t,rancherVersion:e.rancherVersion,kubeVersion:e.kubeVersion})})),s.versions=s.versions.map((function(t){return Object(L["n"])({version:t,rancherVersion:e.rancherVersion,kubeVersion:e.kubeVersion},!0)}));var o,l,c,u=null===(a=s.installableVersions)||void 0===a?void 0:a[0],d=s.versions.find((function(e){return!e.isCompatibleWithUi||!e.isCompatibleWithKubeVersion}));u?(s.displayVersion=u.version,s.icon=u.icon):(s.displayVersion=null===(o=s.versions)||void 0===o||null===(l=o[0])||void 0===l?void 0:l.version,s.icon=t.icon||(null===u||void 0===u||null===(c=u.annotations)||void 0===c?void 0:c["catalog.cattle.io/ui-icon"]));return d&&s.installableVersions.length&&Object(L["o"])(d.version,null===(n=s.installableVersions)||void 0===n?void 0:n[0].version)&&(s.isCompatibleWithUi?s.isCompatibleWithKubeVersion||(s.incompatibleKubeVersion=e.t("plugins.incompatibleKubeVersion",{version:d.version,kubeVersion:d.requiredKubeVersion},!0)):s.incompatibleRancherVersion=e.t("plugins.incompatibleRancherVersion",{version:d.version,rancherVersion:d.requiredUiVersion},!0)),e.installing[s.name]&&(s.installing=e.installing[s.name]),s})),t=t.filter((function(e){return e.versions.length>0})),this.uiplugins.forEach((function(e){var a=t.find((function(t){return t.name===e.name}));if(!a){var n,i,r,o,l,c="object"===Object(s["a"])(null===(n=e.metadata)||void 0===n?void 0:n.rancher)?e.metadata.rancher:{},u=(null===(i=c.annotations)||void 0===i?void 0:i[L["i"].DISPLAY_NAME])||e.name,d={name:e.name,label:u,description:null===(r=e.metadata)||void 0===r?void 0:r.description,icon:null===(o=e.metadata)||void 0===o?void 0:o.icon,id:e.id,versions:[],displayVersion:(null===(l=e.metadata)||void 0===l?void 0:l.version)||"-",installed:!0,builtin:!!e.builtin};d.builtin&&c[L["i"].HIDDEN_BUILTIN]||t.push(d)}})),this.plugins.forEach((function(a){var n=t.find((function(e){return e.name===a.name}));if(n){var i,s,r;n.installed=!0,n.uiplugin=a,n.displayVersion=a.version,n.installing=e.installing[n.name],null!==(i=n.installableVersions)&&void 0!==i&&i.length&&a.version!==(null===(s=n.installableVersions)||void 0===s||null===(r=s[0])||void 0===r?void 0:r.version)&&(n.upgrade=n.installableVersions[0].version)}else{var o={name:a.name,label:a.name,description:a.description||"-",id:"".concat(a.name,"-").concat(a.version),versions:[],displayVersion:a.version||"-",installed:!0,installing:!1,builtin:!1,uiplugin:a};t.push(o)}})),Object.keys(this.uiErrors).forEach((function(a){var n=t.find((function(e){return e.name===a}));if(n){var i=e.uiErrors[a];n.error=!(!i||"string"!==typeof i)&&e.t(e.uiErrors[a])}})),Object.keys(this.errors).forEach((function(a){var n=t.find((function(e){return e.name===a}));n&&(n.helmError=!!e.errors[a])})),t.forEach((function(t){if(t.description&&t.description.length>Ae&&(t.description="".concat(t.description.substr(0,Ae)," ...")),t.uiplugin){var a,n,i=null===(a=t.uiplugin.spec)||void 0===a||null===(n=a.plugin)||void 0===n?void 0:n.version,s=t.versions.find((function(e){return e.version===i}));if(s){var r,o=null===(r=s.annotations)||void 0===r?void 0:r[L["i"].KUBE_VERSION];e.kubeVersion&&!Object(L["p"])({version:s,kubeVersion:e.kubeVersion})&&(t.installedError=e.t("plugins.currentInstalledVersionBlockedByKubeVersion",{kubeVersion:e.kubeVersion,kubeVersionToCheck:o},!0))}}})),Object(v["b"])(t,"name",!1)}}),watch:{helmOps:function(e){var t=this,a=e.filter((function(e){return e.namespace===L["k"]}));a=Object(v["b"])(a,"metadata.creationTimestamp",!0),(this.available||[]).forEach((function(e){var n=a.find((function(t){var a;return(null===(a=t.status)||void 0===a?void 0:a.releaseName)===e.name}));if(n){var i,s,r=null===(i=n.metadata.state)||void 0===i?void 0:i.transitioning,o=null===(s=n.metadata.state)||void 0===s?void 0:s.error;if(p.a.set(t.errors,e.name,o),r){var l="upgrade"===n.status.action?"install":n.status.action;t.updatePluginInstallStatus(e.name,l)}else("uninstall"===n.status.action||o)&&t.updatePluginInstallStatus(e.name,!1)}else t.updatePluginInstallStatus(e.name,!1)}))},plugins:function(e,t){var a=this,n=this.$store.getters["uiplugins/plugins"],i=(n||[]).filter((function(e){return!a.uiErrors[e.name]&&!e.builtin})),s=0;(null===e||void 0===e?void 0:e.length)<i.length&&s++,e.forEach((function(e){var t=n.find((function(t){return!t.removed&&t.name===e.name&&t.version===e.version}));!t&&e.isCached&&(a.uiErrors[e.name]||s++,a.updatePluginInstallStatus(e.name,!1))})),s>0&&p.a.set(this,"reloadRequired",!0)}},beforeDestroy:function(){this.$store.dispatch("management/forgetType",b["ab"]),this.$store.dispatch("management/forgetType",b["f"].OPERATION),this.$store.dispatch("management/forgetType",b["f"].APP),this.$store.dispatch("management/forgetType",b["f"].CLUSTER_REPO)},methods:{refreshCharts:function(){var e=arguments,t=this;return Object(l["a"])(u.a.mark((function a(){var n,i;return u.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=e.length>0&&void 0!==e[0]&&e[0],a.next=3,t.$store.dispatch("catalog/load",{reset:!0,force:n});case 3:i=t.$store.getters["catalog/rawCharts"],t.charts=Object.values(i);case 5:case"end":return a.stop()}}),a)})))()},updateInstallStatus:function(){var e=arguments,t=this;return Object(l["a"])(u.a.mark((function a(){var n,i,s;return u.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=e.length>0&&void 0!==e[0]&&e[0],a.prev=1,a.next=4,t.$store.dispatch("management/find",{type:b["U"],id:"".concat(L["k"],"/ui-plugin-operator"),opt:{force:!0}});case 4:s=a.sent,i=!!s,a.next=11;break;case 8:a.prev=8,a.t0=a["catch"](1),i=!1;case 11:return(i||n)&&t.refreshCharts(n),p.a.set(t,"hasService",i),a.abrupt("return",i);case 14:case"end":return a.stop()}}),a,null,[[1,8]])})))()},filterChanged:function(e){this.view=e.selectedName},removePluginSupport:function(){this.refreshCharts(!0),this.$refs.removeUIPlugins.showDialog()},showDeveloperLoadDialog:function(){this.$refs.developerInstallDialog.showDialog()},showAddExtensionReposDialog:function(){this.updateAddReposSetting(),this.refreshCharts(!0),this.$refs.addExtensionReposDialog.showDialog()},showCatalogLoadDialog:function(){this.$refs.catalogLoadDialog.showDialog()},showCatalogUninstallDialog:function(e){this.$refs.catalogUninstallDialog.showDialog(e)},showInstallDialog:function(e,t,a){var n;null===(n=a.target)||void 0===n||n.blur(),a.preventDefault(),a.stopPropagation(),this.$refs.installDialog.showDialog(e,t)},showUninstallDialog:function(e,t){var a;null===(a=t.target)||void 0===a||a.blur(),t.preventDefault(),t.stopPropagation(),this.$refs.uninstallDialog.showDialog(e)},didUninstall:function(e){e&&(this.updatePluginInstallStatus(e.name,"uninstall"),e.catalog&&this.refreshCharts(),this.$store.dispatch("uiplugins/setError",{name:e.name,error:!1}))},didInstall:function(e){var t;e&&(null===(t=this.$refs.tabs)||void 0===t||t.select(Ve.INSTALLED),this.$store.dispatch("uiplugins/setError",{name:e.name,error:!1}))},showPluginDetail:function(e){this.$refs.infoPanel.show(e)},updatePluginInstallStatus:function(e,t){p.a.set(this.installing,e,t)},setMenu:function(e){this.menuOpen=!!e,e?(this.menuTargetElement=this.$refs.actions,this.menuTargetEvent=e):(this.menuTargetElement=void 0,this.menuTargetEvent=void 0)},reload:function(){this.$router.go()},manageRepos:function(){this.$router.push({name:"c-cluster-product-resource",params:{cluster:"local",product:w["NAME"],resource:b["f"].CLUSTER_REPO}})},manageExtensionView:function(){this.showCatalogList=!this.showCatalogList},updateAddReposSetting:function(){var e;"true"===(null===(e=this.addExtensionReposBannerSetting)||void 0===e?void 0:e.value)&&(this.addExtensionReposBannerSetting.value="false",this.addExtensionReposBannerSetting.save())}}},$e=Le,Te=(a("27ad7"),Object(X["a"])($e,n,i,!1,null,"40a874f1",null));t["default"]=Te.exports},"17b9":function(e,t,a){var n=a("4bad");t=n(!1),t.push([e.i,".plugin-install-dialog[data-v-c8f2eee2]{padding:10px}.plugin-install-dialog h4[data-v-c8f2eee2]{font-weight:700}.plugin-install-dialog .dialog-panel[data-v-c8f2eee2]{display:flex;flex-direction:column;min-height:100px}.plugin-install-dialog .dialog-panel p[data-v-c8f2eee2]{margin-bottom:5px}.plugin-install-dialog .dialog-panel .dialog-info[data-v-c8f2eee2]{flex:1}.plugin-install-dialog .dialog-panel .toggle-advanced[data-v-c8f2eee2]{display:flex;align-items:center;cursor:pointer;margin:10px 0}.plugin-install-dialog .dialog-panel .toggle-advanced[data-v-c8f2eee2]:hover{text-decoration:none;color:var(--link)}.plugin-install-dialog .dialog-panel .version-selector[data-v-c8f2eee2]{margin:0 10px 10px 10px;width:auto}.plugin-install-dialog .dialog-buttons[data-v-c8f2eee2]{display:flex;justify-content:flex-end;margin-top:10px}.plugin-install-dialog .dialog-buttons[data-v-c8f2eee2]>:not(:last-child){margin-right:10px}",""]),e.exports=t},1915:function(e,t,a){"use strict";a("519a")},"1c48":function(e,t,a){var n=a("5c02");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var i=a("499e").default;i("00ea486a",n,!0,{sourceMap:!1,shadowMode:!1})},"20cd":function(e,t,a){"use strict";a("bc8e")},"27ad7":function(e,t,a){"use strict";a("9c8ae")},"27ee":function(e,t,a){var n=a("9dae");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var i=a("499e").default;i("1d937753",n,!0,{sourceMap:!1,shadowMode:!1})},"28f0":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e._self._c;return t("modal",{attrs:{name:"installPluginDialog",height:"auto",scrollable:!0}},[e.plugin?t("div",{staticClass:"plugin-install-dialog"},[t("h4",{staticClass:"mt-10"},[e._v("\n      "+e._s(e.t("plugins.".concat(e.mode,".title"),{name:e.plugin.label}))+"\n    ")]),e._v(" "),t("div",{staticClass:"custom mt-10"},[t("div",{staticClass:"dialog-panel"},[t("p",[e._v("\n          "+e._s(e.t("plugins.".concat(e.mode,".prompt")))+"\n        ")]),e._v(" "),e.plugin.certified?e._e():t("Banner",{attrs:{color:"warning",label:e.t("plugins.install.warnNotCertified")}}),e._v(" "),e.showVersionSelector?t("LabeledSelect",{staticClass:"version-selector mt-10",attrs:{"label-key":"plugins.install.version",options:e.versionOptions,"data-testid":"install-ext-modal-select-version"},model:{value:e.version,callback:function(t){e.version=t},expression:"version"}}):t("div",[e._v("\n          "+e._s(e.t("plugins.install.version"))+" "+e._s(e.version)+"\n        ")])],1),e._v(" "),t("div",{staticClass:"dialog-buttons"},[t("button",{staticClass:"btn role-secondary",attrs:{disabled:e.busy,"data-testid":"install-ext-modal-cancel-btn"},on:{click:function(t){return e.closeDialog(!1)}}},[e._v("\n          "+e._s(e.t("generic.cancel"))+"\n        ")]),e._v(" "),t("AsyncButton",{attrs:{mode:e.buttonMode,"data-testid":"install-ext-modal-install-btn"},on:{click:e.install}})],1)])]):e._e()])},i=[],s=a("ade3"),r=a("1da1"),o=(a("4de4"),a("d3b7"),a("d81d"),a("7db0"),a("b0c0"),a("e260"),a("ddb0"),a("2ca0"),a("99af"),a("a34a")),l=a.n(o),c=(a("96cf"),a("67c9")),u=a("a95f"),d=a("a788"),p=a("7388"),g=a("7600"),f=a("01ba"),v={components:{AsyncButton:c["b"],Banner:f["a"],LabeledSelect:u["a"]},fetch:function(){var e=this;return Object(r["a"])(l.a.mark((function t(){return l.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("management/find",{type:d["B"].SETTING,id:"system-default-registry"});case 2:e.defaultRegistrySetting=t.sent;case 3:case"end":return t.stop()}}),t)})))()},data:function(){return{currentVersion:"",defaultRegistrySetting:null,plugin:void 0,busy:!1,version:"",update:!1,mode:""}},computed:{showVersionSelector:function(){var e;return(null===(e=this.versionOptions)||void 0===e?void 0:e.length)>1},versionOptions:function(){var e,t,a=this;if(!this.plugin)return[];var n=null===(e=this.plugin)||void 0===e||null===(t=e.installableVersions)||void 0===t?void 0:t.filter((function(e){return!a.currentVersion||e.version!==a.currentVersion}));return n.map((function(e){return{label:e.version,value:e.version}}))},buttonMode:function(){return this.update?"update":"install"}},methods:{showDialog:function(e,t){var a,n,i,s,r=this;if(this.plugin=e,this.mode=t,this.version=e.displayVersion,"update"===t)this.currentVersion=e.displayVersion,(null===(n=e.installableVersions)||void 0===n?void 0:n.length)>0&&(this.version=null===(i=e.installableVersions)||void 0===i||null===(s=i[0])||void 0===s?void 0:s.version);else if("rollback"===t){var o=e.installableVersions.filter((function(t){return t.version!==e.displayVersion}));this.currentVersion=e.displayVersion,o.length>0&&(this.version=o[0].version)}var l,c,u=null===(a=e.installableVersions)||void 0===a?void 0:a.find((function(e){return e.version===r.version}));u||(this.version=null===(l=e.installableVersions)||void 0===l||null===(c=l[0])||void 0===c?void 0:c.version);this.busy=!1,this.update="install"!==t,this.$modal.show("installPluginDialog")},closeDialog:function(e){this.$modal.hide("installPluginDialog"),this.$emit("closed",e)},install:function(){var e=this;return Object(r["a"])(l.a.mark((function t(){var a,n,i,r,o,c,u,f,v,m,b,h,x,_,y,w,O,C,k,D,j;return l.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.busy=!0,r=e.plugin,e.$emit("update",r.name,"install"),o=null===(a=r.versions)||void 0===a?void 0:a.find((function(t){return t.version===e.version})),o){t.next=7;break}return e.busy=!1,t.abrupt("return");case 7:return c=!1,t.prev=8,t.next=11,e.$store.dispatch("catalog/getVersionInfo",{repoType:o.repoType,repoName:o.repoName,chartName:r.chart.chartName,versionName:e.version});case 11:v=t.sent,m=(null===v||void 0===v||null===(u=v.values)||void 0===u||null===(f=u.image)||void 0===f?void 0:f.repository)||"",c=m.startsWith("rancher/"),t.next=18;break;case 16:t.prev=16,t.t0=t["catch"](8);case 18:return b=!1,t.prev=19,t.next=22,e.$store.dispatch("management/find",{type:d["f"].APP,id:"".concat(g["k"],"/").concat(r.chart.chartName),opt:{force:!0}});case 22:h=t.sent,b=!!h,t.next=28;break;case 26:t.prev=26,t.t1=t["catch"](19);case 28:return x=o.repoType,_=o.repoName,y=e.$store.getters["catalog/repo"]({repoType:x,repoName:_}),w={chartName:r.chart.chartName,version:e.version,releaseName:r.chart.chartName,annotations:(n={},Object(s["a"])(n,p["e"].SOURCE_REPO_TYPE,r.repoType),Object(s["a"])(n,p["e"].SOURCE_REPO_NAME,r.repoName),n),values:{}},O=(null===(i=e.defaultRegistrySetting)||void 0===i?void 0:i.value)||"",c&&O&&(w.values.global=w.values.global||{},w.values.global.cattle=w.values.global.cattle||{},w.values.global.cattle.systemDefaultRegistry=O),C={charts:[w],namespace:g["k"]},k=b||e.update?"upgrade":"install",t.prev=36,t.next=39,y.doAction(k,C);case 39:return D=t.sent,j="".concat(D.operationNamespace,"/").concat(D.operationName),e.closeDialog(r),t.next=44,y.waitForOperation(j);case 44:return t.next=46,e.$store.dispatch("management/find",{type:d["f"].OPERATION,id:j});case 46:t.next=52;break;case 48:t.prev=48,t.t2=t["catch"](36),e.$store.dispatch("growl/error",{title:e.t("plugins.error.generic"),message:t.t2.message?t.t2.message:t.t2,timeout:1e4},{root:!0}),e.closeDialog(r);case 52:case"end":return t.stop()}}),t,null,[[8,16],[19,26],[36,48]])})))()}}},m=v,b=(a("d88e"),a("0c7c")),h=Object(b["a"])(m,n,i,!1,null,"24e3c204",null);t["default"]=h.exports},"2c4d":function(e,t,a){var n=a("4bad");t=n(!1),t.push([e.i,".enable-plugin-support[data-v-41f62665]{font-size:14px;margin-top:20px}.plugin-setup-error[data-v-41f62665]{font-size:14px;color:var(--error);margin:10px 0 0 0}.checkbox-info[data-v-41f62665]{margin-left:20px;opacity:.7}",""]),e.exports=t},"30b1":function(e,t,a){"use strict";a("e02e")},"35ce":function(e,t,a){"use strict";a("628a")},"35da":function(e,t,a){var n=a("4bad");t=n(!1),t.push([e.i,".plugin-install-dialog[data-v-4e3293b6]{padding:10px}.plugin-install-dialog h4[data-v-4e3293b6]{font-weight:700}.plugin-install-dialog .dialog-panel[data-v-4e3293b6]{display:flex;flex-direction:column;min-height:100px}.plugin-install-dialog .dialog-panel .dialog-info[data-v-4e3293b6]{flex:1}.plugin-install-dialog .dialog-buttons[data-v-4e3293b6]{display:flex;justify-content:flex-end;margin-top:10px}.plugin-install-dialog .dialog-buttons[data-v-4e3293b6]>:not(:last-child){margin-right:10px}",""]),e.exports=t},"39c9":function(e,t,a){"use strict";a("8454")},"46cd":function(e,t,a){var n=a("17b9");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var i=a("499e").default;i("8fec0bec",n,!0,{sourceMap:!1,shadowMode:!1})},"483c":function(e,t,a){"use strict";a("48a5")},"48a5":function(e,t,a){var n=a("6b40");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var i=a("499e").default;i("6bde5d82",n,!0,{sourceMap:!1,shadowMode:!1})},"519a":function(e,t,a){var n=a("2c4d");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var i=a("499e").default;i("54d51ff0",n,!0,{sourceMap:!1,shadowMode:!1})},"53a6":function(e,t,a){e.exports=a.p+"img/generic-plugin.3cca4b04.svg"},"5c02":function(e,t,a){var n=a("4bad");t=n(!1),t.push([e.i,".plugin-install-dialog[data-v-24e3c204]{padding:10px}.plugin-install-dialog h4[data-v-24e3c204]{font-weight:700}.plugin-install-dialog .dialog-panel[data-v-24e3c204]{display:flex;flex-direction:column;min-height:100px}.plugin-install-dialog .dialog-panel p[data-v-24e3c204]{margin-bottom:5px}.plugin-install-dialog .dialog-panel .dialog-info[data-v-24e3c204]{flex:1}.plugin-install-dialog .dialog-panel .toggle-advanced[data-v-24e3c204]{display:flex;align-items:center;cursor:pointer;margin:10px 0}.plugin-install-dialog .dialog-panel .toggle-advanced[data-v-24e3c204]:hover{text-decoration:none;color:var(--link)}.plugin-install-dialog .dialog-panel .version-selector[data-v-24e3c204]{margin:0 10px 10px 10px;width:auto}.plugin-install-dialog .dialog-buttons[data-v-24e3c204]{display:flex;justify-content:flex-end;margin-top:10px}.plugin-install-dialog .dialog-buttons[data-v-24e3c204]>:not(:last-child){margin-right:10px}",""]),e.exports=t},"628a":function(e,t,a){var n=a("aed1");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var i=a("499e").default;i("76bb33bb",n,!0,{sourceMap:!1,shadowMode:!1})},"639d":function(e,t,a){"use strict";a("27ee")},"6b40":function(e,t,a){var n=a("4bad");t=n(!1),t.push([e.i,".sub-row[data-v-503546f2]{border-bottom:1px solid var(--sortable-table-top-divider);padding-left:1rem;padding-right:1rem}.col[data-v-503546f2]{display:flex;flex-direction:column}.col section[data-v-503546f2]{margin-bottom:1.5rem}.col .title[data-v-503546f2]{margin-bottom:.5rem}",""]),e.exports=t},8454:function(e,t,a){var n=a("b4b9");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var i=a("499e").default;i("3eb2a8ca",n,!0,{sourceMap:!1,shadowMode:!1})},"876b":function(e,t,a){var n=a("4bad");t=n(!1),t.push([e.i,".setup-message[data-v-40a874f1]{margin-top:100px}.data-loading[data-v-40a874f1]{align-items:center;display:flex;justify-content:center}.data-loading>I[data-v-40a874f1]{margin-right:5px}.plugin-reload-banner[data-v-40a874f1]{align-items:center;background-color:var(--success-banner-bg);display:flex;padding:0 10px;border-radius:5px;min-height:36px}.plugin-reload-banner>i[data-v-40a874f1]{color:var(--success);font-size:14px;font-weight:700}.plugin-reload-banner>button[data-v-40a874f1]{line-height:30px;min-height:30px}.plugin-complete[data-v-40a874f1]{font-size:18px}.plugin-list[data-v-40a874f1]{display:flex;flex-wrap:wrap}.plugin-list>.plugin[data-v-40a874f1]:not(:last-child){margin-right:20px}.plugin-list.v-margin[data-v-40a874f1]{margin-top:40px}.plugins[data-v-40a874f1]{display:inherit}.plugin-header[data-v-40a874f1]{display:flex;align-items:center;justify-content:space-between;margin-bottom:10px}.plugin-header .catalog-title[data-v-40a874f1]{display:flex;flex-direction:row;align-items:center}.plugin-header>h2[data-v-40a874f1]{flex:1;margin-bottom:0}.plugin-header .link[data-v-40a874f1]{cursor:pointer}.plugin-header .actions-container[data-v-40a874f1]{display:flex;flex-direction:row;justify-content:flex-end}.plugin-header .btn.actions[data-v-40a874f1]{line-height:36px;min-height:36px;padding:0 10px}.plugin[data-v-40a874f1]{display:flex;border:1px solid var(--border);padding:10px;width:calc(33% - 20px);max-width:540px;margin-bottom:20px;cursor:pointer}.plugin .plugin-icon[data-v-40a874f1]{font-size:40px;margin-right:10px;color:#888;width:44px;height:44px;display:flex;justify-content:center;align-items:center}.plugin .plugin-icon.dark-mode[data-v-40a874f1]{border-radius:calc(var(--border-radius)*2);overflow:hidden;background-color:#fff}.plugin .plugin-icon .plugin-icon-img[data-v-40a874f1]{height:40px;width:40px;-o-object-fit:contain;object-fit:contain;top:2px;left:2px}.plugin .plugin-spacer[data-v-40a874f1]{flex:1}.plugin .plugin-metadata[data-v-40a874f1]{display:flex;flex:1;flex-direction:column}.plugin .plugin-metadata .plugin-buttons>button[data-v-40a874f1]:not(:first-child){margin-left:5px}.plugin .plugin-builtin[data-v-40a874f1]{color:var(--primary);display:block;padding:2px 0;text-transform:uppercase}.plugin .plugin-name[data-v-40a874f1]{font-size:16px;font-weight:700;margin-bottom:5px;text-transform:capitalize}.plugin .plugin-badges[data-v-40a874f1]{display:flex}.plugin .plugin-badges>div[data-v-40a874f1]{border:1px solid var(--border);border-radius:4px;padding:2px 8px;margin-right:10px;font-size:12px}.plugin .plugin-version[data-v-40a874f1]{align-items:center;display:inline-flex;font-size:12px;border-radius:4px;margin:5px 0}.plugin .plugin-version i.icon-spinner[data-v-40a874f1]{padding-right:5px;font-size:16px;height:16px;width:16px}.plugin .plugin-version .incompatible[data-v-40a874f1]{margin:10px 0;font-weight:700}.plugin .plugin-installing[data-v-40a874f1]{align-items:center;display:flex}.plugin .plugin-installing>div[data-v-40a874f1]{font-size:14px;margin-left:5px}.plugin .plugin-actions[data-v-40a874f1]{align-items:center;display:flex}.plugin .plugin-actions .plugin-error[data-v-40a874f1]{display:inline;cursor:help}.plugin .plugin-actions .plugin-error>i[data-v-40a874f1]{color:var(--error);height:22px;font-size:22px;width:22px}.plugin .plugin-actions .btn[data-v-40a874f1]{line-height:20px;min-height:20px;padding:0 5px}[data-v-40a874f1] .checkbox-label{font-weight:400!important}[data-v-40a874f1] .add-repos-banner .banner__content{display:flex;justify-content:space-between;align-items:center}@media screen and (max-width:1200px){.plugin-list .plugin[data-v-40a874f1]{width:calc(50% - 20px)}}@media screen and (max-width:960px){.plugin-list .plugin[data-v-40a874f1]{margin-right:0!important;width:100%}}",""]),e.exports=t},"94af":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e._self._c;return t("modal",{attrs:{name:"uninstallPluginDialog",height:"auto",scrollable:!0}},[e.plugin?t("div",{staticClass:"plugin-install-dialog"},[t("h4",{staticClass:"mt-10"},[e._v("\n      "+e._s(e.t("plugins.uninstall.title",{name:e.plugin.label}))+"\n    ")]),e._v(" "),t("div",{staticClass:"mt-10 dialog-panel"},[t("div",{staticClass:"dialog-info"},[t("p",[e._v("\n          "+e._s(e.t("plugins.uninstall.prompt"))+"\n        ")])]),e._v(" "),t("div",{staticClass:"dialog-buttons"},[t("button",{staticClass:"btn role-secondary",attrs:{disabled:e.busy,"data-testid":"uninstall-ext-modal-cancel-btn"},on:{click:function(t){return e.closeDialog(!1)}}},[e._v("\n          "+e._s(e.t("generic.cancel"))+"\n        ")]),e._v(" "),t("AsyncButton",{attrs:{mode:"uninstall","data-testid":"uninstall-ext-modal-uninstall-btn"},on:{click:function(t){return e.uninstall()}}})],1)])]):e._e()])},i=[],s=(a("b64b"),a("a4d3"),a("4de4"),a("e439"),a("159b"),a("dbb4"),a("1da1")),r=a("ade3"),o=a("a34a"),l=a.n(o),c=(a("96cf"),a("b0c0"),a("7db0"),a("d3b7"),a("2f62")),u=a("67c9"),d=a("a788"),p=a("7600");function g(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function f(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?g(Object(a),!0).forEach((function(t){Object(r["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):g(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var v={components:{AsyncButton:u["b"]},data:function(){return{plugin:void 0,busy:!1}},computed:f({},Object(c["b"])({allCharts:"catalog/charts"})),methods:{showDialog:function(e){this.plugin=e,this.busy=!1,this.$modal.show("uninstallPluginDialog")},closeDialog:function(e){this.$modal.hide("uninstallPluginDialog"),this.$emit("closed",e)},uninstall:function(){var e=this;return Object(s["a"])(l.a.mark((function t(){var a,n,i,s;return l.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.busy=!0,n=e.plugin,e.$emit("update",n.name,"uninstall"),null===(a=n.uiplugin)||void 0===a||!a.isDeveloper){t.next=6;break}return t.next=6,n.uiplugin.remove();case 6:return t.next=8,e.$store.dispatch("management/findAll",{type:d["f"].APP});case 8:if(i=t.sent,s=i.find((function(e){return e.namespace===p["k"]&&e.name===n.name})),!s){t.next=21;break}return t.prev=11,t.next=14,s.remove();case 14:t.next=19;break;case 16:t.prev=16,t.t0=t["catch"](11),e.$store.dispatch("growl/error",{title:e.t("plugins.error.generic"),message:t.t0.message?t.t0.message:t.t0,timeout:1e4},{root:!0});case 19:return t.next=21,e.$store.dispatch("management/findAll",{type:d["f"].OPERATION});case 21:e.closeDialog(n);case 22:case"end":return t.stop()}}),t,null,[[11,16]])})))()}}},m=v,b=(a("39c9"),a("0c7c")),h=Object(b["a"])(m,n,i,!1,null,"bb2b0e6c",null);t["default"]=h.exports},9744:function(e,t,a){"use strict";a.r(t);a("b0c0");var n=function(){var e=this,t=e._self._c;return t("modal",{attrs:{name:"developerInstallPluginDialog",height:"auto",scrollable:!0}},[t("div",{staticClass:"plugin-install-dialog"},[t("h4",[e._v("\n      "+e._s(e.t("plugins.developer.title"))+"\n    ")]),e._v(" "),t("p",[e._v("\n      "+e._s(e.t("plugins.developer.prompt"))+"\n    ")]),e._v(" "),t("div",{staticClass:"custom mt-10"},[t("div",{staticClass:"fields"},[t("LabeledInput",{directives:[{name:"focus",rawName:"v-focus"}],attrs:{"label-key":"plugins.developer.fields.url"},on:{input:e.updateLocation},model:{value:e.location,callback:function(t){e.location=t},expression:"location"}})],1)]),e._v(" "),t("div",{staticClass:"custom mt-10"},[t("div",{staticClass:"fields"},[t("LabeledInput",{attrs:{"label-key":"plugins.developer.fields.name"},on:{input:e.updateName},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),e._v(" "),t("div",{staticClass:"fields mt-10"},[t("Checkbox",{attrs:{"label-key":"plugins.developer.fields.persist"},model:{value:e.persist,callback:function(t){e.persist=t},expression:"persist"}})],1),e._v(" "),t("div",{staticClass:"dialog-buttons mt-20"},[t("button",{staticClass:"btn role-secondary",attrs:{"data-testid":"dev-install-ext-modal-cancel-btn"},on:{click:function(t){return e.closeDialog()}}},[e._v("\n          "+e._s(e.t("generic.cancel"))+"\n        ")]),e._v(" "),t("AsyncButton",{attrs:{mode:"load","data-testid":"dev-install-ext-modal-install-btn"},on:{click:e.loadPlugin}})],1)])])])},i=[],s=a("53ca"),r=a("1da1"),o=a("a34a"),l=a.n(o),c=(a("96cf"),a("99af"),a("a15b"),a("67c9")),u=a("84d3"),d=a("bd30"),p=a("a788"),g=a("7600"),f={components:{AsyncButton:c["b"],Checkbox:d["a"],LabeledInput:u["a"]},data:function(){return{name:"",location:"",persist:!1,canModifyName:!0,canModifyLocation:!0}},watch:{name:function(e,t){this.canModifyLocation&&(this.location="/pkg/".concat(e,"/").concat(e,".umd.min.js"))},location:function(e,t){if(this.canModifyName){var a=e.split("/"),n=a[a.length-1],i=n.indexOf(".umd.min.js");-1!==i?n=n.substr(0,i):(i=n.indexOf(".umd.js"),-1!==i&&(n=n.substr(0,i))),this.name=n}}},methods:{showDialog:function(){this.$modal.show("developerInstallPluginDialog")},closeDialog:function(e){this.$modal.hide("developerInstallPluginDialog"),this.$emit("closed",e)},updateName:function(e){this.canModifyName=0===e.length},updateLocation:function(e){this.canModifyLocation=0===e.length},loadPlugin:function(e){var t=this;return Object(r["a"])(l.a.mark((function a(){var n,i,r,o,c,u,d,f;return l.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(n=t.name,i=t.location,n||(r=i.split("/"),o=r[r.length-1],n=o.split(".")[0]),c="0.0.1",u=n,d=n.split("-"),d.length>=2&&(c=d.pop(),u=d.join("-")),!t.persist){a.next=20;break}return a.next=10,t.$store.dispatch("management/create",{type:p["ab"],metadata:{name:n,namespace:g["k"]},spec:{plugin:{name:u,version:c,endpoint:i,noCache:!0,metadata:{developer:"true",direct:"true"}}}});case 10:return f=a.sent,a.prev=11,a.next=14,f.save({url:"/v1/".concat(p["ab"]),method:"POST"});case 14:a.next=20;break;case 16:a.prev=16,a.t0=a["catch"](11),console.error("Could not create CRD for plugin",a.t0),e(!1);case 20:t.$plugin.loadAsync(n,i).then((function(){t.closeDialog(!0),t.$store.dispatch("growl/success",{title:t.t("plugins.success.title",{name:n}),message:t.t("plugins.success.message"),timeout:3e3},{root:!0}),e(!0)})).catch((function(a){e(!1);var n="object"===Object(s["a"])(a)?t.t("plugins.error.message"):a;t.$store.dispatch("growl/error",{title:t.t("plugins.error.title"),message:n,timeout:5e3},{root:!0})}));case 21:case"end":return a.stop()}}),a,null,[[11,16]])})))()}}},v=f,m=(a("b07c"),a("0c7c")),b=Object(m["a"])(v,n,i,!1,null,"c8f2eee2",null);t["default"]=b.exports},"9c8ae":function(e,t,a){var n=a("876b");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var i=a("499e").default;i("1e9f029e",n,!0,{sourceMap:!1,shadowMode:!1})},"9dae":function(e,t,a){var n=a("4bad");t=n(!1),t.push([e.i,".plugin-info-panel[data-v-297b3958]{position:fixed;top:0;left:0;z-index:1;--banner-top-offset:0}.plugin-info-panel .glass[data-v-297b3958]{z-index:9;left:0;width:100%;opacity:0}.plugin-info-panel .glass[data-v-297b3958],.plugin-info-panel .slideIn[data-v-297b3958]{position:fixed;top:calc(54px + var(--banner-top-offset));height:calc(100% - 54px - var(--banner-top-offset))}.plugin-info-panel .slideIn[data-v-297b3958]{border-left:var(--header-border-size) solid var(--header-border);right:-35%;background-color:var(--topmenu-bg);width:35%;z-index:10;display:flex;flex-direction:column;padding:10px;transition:right .5s ease}.plugin-info-panel .slideIn__header[data-v-297b3958]{text-transform:capitalize}.plugin-info-panel .slideIn .plugin-info-content[data-v-297b3958]{display:flex;flex-direction:column;overflow:hidden}.plugin-info-panel .slideIn .plugin-info-content .plugin-info-detail[data-v-297b3958]{overflow:auto}.plugin-info-panel .slideIn h3[data-v-297b3958]{font-size:14px;margin:15px 0 10px 0;opacity:.7;text-transform:uppercase}.plugin-info-panel .slideIn .plugin-header[data-v-297b3958]{border-bottom:1px solid var(--border);display:flex;padding-bottom:20px}.plugin-info-panel .slideIn .plugin-header .plugin-title[data-v-297b3958]{flex:1}.plugin-info-panel .slideIn .plugin-icon[data-v-297b3958]{font-size:40px;margin-right:10px;color:#888;width:44px;height:44px}.plugin-info-panel .slideIn .plugin-icon.dark-mode[data-v-297b3958]{border-radius:calc(var(--border-radius)*2);overflow:hidden;background-color:#fff}.plugin-info-panel .slideIn .plugin-icon .plugin-icon-img[data-v-297b3958]{height:40px;width:40px;-o-object-fit:contain;object-fit:contain;position:relative;top:2px;left:2px}.plugin-info-panel .slideIn .plugin-versions[data-v-297b3958]{display:flex;flex-wrap:wrap}.plugin-info-panel .slideIn .plugin-description[data-v-297b3958]{font-size:15px}.plugin-info-panel .slideIn .version-link[data-v-297b3958]{cursor:pointer;border:1px solid var(--link);padding:2px 8px;border-radius:5px;-webkit-user-select:none;-moz-user-select:none;user-select:none;margin:0 5px 5px 0;display:block}.plugin-info-panel .slideIn .version-link.version-active[data-v-297b3958]{color:var(--link-text);background:var(--link)}.plugin-info-panel .slideIn .version-link.disabled[data-v-297b3958]{cursor:not-allowed;color:var(--disabled-text)!important;background-color:var(--disabled-bg)!important;border-color:var(--disabled-bg)!important;text-decoration:none!important}.plugin-info-panel .slideIn .version-link.version-builtin[data-v-297b3958]{display:inline-block}.plugin-info-panel .slideIn__header[data-v-297b3958]{display:flex;align-items:center;justify-content:space-between}.plugin-info-panel .slideIn__header__buttons[data-v-297b3958]{display:flex}.plugin-info-panel .slideIn__header__button[data-v-297b3958]{cursor:pointer;display:flex;align-items:center;justify-content:center;padding:2px}.plugin-info-panel .slideIn__header__button>i[data-v-297b3958]{font-size:20px;opacity:.5}.plugin-info-panel .slideIn__header__button[data-v-297b3958]:hover{background-color:var(--wm-closer-hover-bg)}.plugin-info-panel .slideIn .chart-content__tabs[data-v-297b3958]{display:flex;flex-direction:column;flex:1;height:0;padding-bottom:10px}.plugin-info-panel .slideIn .chart-content__tabs[data-v-297b3958] .chart-readmes{flex:1;overflow:auto}.plugin-info-panel .slideIn__show[data-v-297b3958]{right:0}",""]),e.exports=t},a482:function(e,t,a){var n=a("4bad");t=n(!1),t.push([e.i,".plugin-install-dialog[data-v-63867fdc]{padding:10px}.plugin-install-dialog h4[data-v-63867fdc]{font-weight:700}.plugin-install-dialog .dialog-panel[data-v-63867fdc]{display:flex;flex-direction:column;min-height:100px}.plugin-install-dialog .dialog-panel p[data-v-63867fdc]{margin-bottom:5px}.plugin-install-dialog .dialog-panel .dialog-info[data-v-63867fdc]{flex:1}.plugin-install-dialog .dialog-buttons[data-v-63867fdc]{display:flex;justify-content:flex-end;margin-top:10px}.plugin-install-dialog .dialog-buttons[data-v-63867fdc]>:not(:last-child){margin-right:10px}",""]),e.exports=t},aed1:function(e,t,a){var n=a("4bad");t=n(!1),t.push([e.i,".enable-plugin-support[data-v-7fa30a01]{font-size:14px;margin-top:20px}.plugin-setup-error[data-v-7fa30a01]{font-size:14px;color:var(--error);margin:10px 0 0 0}.checkbox-info[data-v-7fa30a01]{margin-left:20px;opacity:.7}",""]),e.exports=t},b07c:function(e,t,a){"use strict";a("46cd")},b4b2:function(e,t,a){"use strict";a.r(t);a("a4d3"),a("e01a");var n=function(){var e=this,t=e._self._c;return t("div",{staticClass:"plugin-info-panel",style:"--banner-top-offset: ".concat(e.headerBannerSize,"px")},[e.showSlideIn?t("div",{staticClass:"glass",attrs:{"data-testid":"extension-details-bg"},on:{click:function(t){return e.hide()}}}):e._e(),e._v(" "),t("div",{staticClass:"slideIn",class:{hide:!1,slideIn__show:e.showSlideIn},attrs:{"data-testid":"extension-details"}},[e.info?t("div",{staticClass:"plugin-info-content"},[t("div",{staticClass:"plugin-header"},[t("div",{staticClass:"plugin-icon",class:e.applyDarkModeBg},[e.info.icon?t("LazyImage",{staticClass:"icon plugin-icon-img",attrs:{"initial-src":e.defaultIcon,"error-src":e.defaultIcon,src:e.info.icon}}):t("img",{staticClass:"icon plugin-icon-img",attrs:{src:e.defaultIcon}})],1),e._v(" "),t("div",{staticClass:"plugin-title"},[t("h2",{staticClass:"slideIn__header",attrs:{"data-testid":"extension-details-title"}},[e._v("\n            "+e._s(e.info.label)+"\n          ")]),e._v(" "),t("p",{staticClass:"plugin-description"},[e._v("\n            "+e._s(e.info.description)+"\n          ")])]),e._v(" "),t("div",{staticClass:"plugin-close"},[t("div",{staticClass:"slideIn__header__buttons"},[t("div",{staticClass:"slideIn__header__button",attrs:{"data-testid":"extension-details-close"},on:{click:function(t){e.showSlideIn=!1}}},[t("i",{staticClass:"icon icon-close"})])])])]),e._v(" "),t("div",[e.info.error?t("Banner",{staticClass:"mt-10",attrs:{color:"error",label:e.info.error}}):e._e(),e._v(" "),e.info.builtin?t("Banner",{staticClass:"mt-10",attrs:{color:"warning",label:e.t("plugins.descriptions.built-in")}}):[e.info.certified?e._e():t("Banner",{staticClass:"mt-10",attrs:{color:"warning",label:e.t("plugins.descriptions.third-party")}}),e._v(" "),e.info.experimental?t("Banner",{staticClass:"mt-10",attrs:{color:"warning",label:e.t("plugins.descriptions.experimental")}}):e._e()]],2),e._v(" "),e.info.versions.length?t("h3",[e._v("\n        "+e._s(e.t("plugins.info.versions"))+"\n      ")]):e._e(),e._v(" "),t("div",{staticClass:"plugin-versions mb-10"},e._l(e.info.versions,(function(a){return t("div",{key:a.version},[t("a",{directives:[{name:"clean-tooltip",rawName:"v-clean-tooltip",value:e.handleVersionBtnTooltip(a),expression:"handleVersionBtnTooltip(v)"}],staticClass:"version-link",class:e.handleVersionBtnClass(a),on:{click:function(t){return e.loadPluginVersionInfo(a.version)}}},[e._v("\n            "+e._s(a.version)+"\n          ")])])})),0),e._v(" "),e.versionError?t("div",[e._v("\n        "+e._s(e.t("plugins.info.versionError"))+"\n      ")]):e._e(),e._v(" "),e.versionInfo?t("h3",[e._v("\n        "+e._s(e.t("plugins.info.detail"))+"\n      ")]):e._e(),e._v(" "),e.versionInfo?t("div",{staticClass:"plugin-info-detail"},[e.versionInfo?t("ChartReadme",{attrs:{"version-info":e.versionInfo}}):e._e()],1):e._e(),e._v(" "),e.info.versions.length?e._e():t("div",[t("h3",[e._v("\n          "+e._s(e.t("plugins.info.versions"))+"\n        ")]),e._v(" "),t("div",{staticClass:"version-link version-active version-builtin"},[e._v("\n          "+e._s(e.info.displayVersion)+"\n        ")])])]):e._e()])])},i=[],s=(a("b64b"),a("4de4"),a("e439"),a("159b"),a("dbb4"),a("ade3")),r=a("1da1"),o=a("a34a"),l=a.n(o),c=(a("96cf"),a("a9e3"),a("7db0"),a("d3b7"),a("2f62")),u=a("5fc0"),d=a("bec1"),p=a("bc1c"),g=a("a788"),f=a("c5b9");function v(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function m(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?v(Object(a),!0).forEach((function(t){Object(s["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):v(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var b={fetch:function(){var e=this;return Object(r["a"])(l.a.mark((function t(){var a,n,i,s,r,o,c;return l.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.getters["management/byId"](g["B"].SETTING,f["c"].BANNERS);case 2:a=t.sent,n=JSON.parse(a.value),i=n.showHeader,s=n.bannerHeader,"true"===i&&(c=Number(null!==(r=null===s||void 0===s||null===(o=s.fontSize)||void 0===o?void 0:o.split("px")[0])&&void 0!==r?r:0),e.headerBannerSize=2*c);case 5:case"end":return t.stop()}}),t)})))()},components:{Banner:d["a"],ChartReadme:u["a"],LazyImage:p["a"]},data:function(){return{showSlideIn:!1,info:void 0,infoVersion:void 0,versionInfo:void 0,versionError:void 0,defaultIcon:a("53a6"),headerBannerSize:0}},computed:m(m({},Object(c["b"])({theme:"prefs/theme"})),{},{applyDarkModeBg:function(){return"dark"===this.theme?{"dark-mode":!0}:{}}}),methods:{show:function(e){this.info=e,this.showSlideIn=!0,this.version=null,this.versionInfo=null,this.versionError=null,this.loadPluginVersionInfo()},hide:function(){this.showSlideIn=!1},loadPluginVersionInfo:function(e){var t=this;return Object(r["a"])(l.a.mark((function a(){var n,i,s,r,o;return l.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(s=e||t.info.displayVersion,r=null===(n=t.info.versions)||void 0===n?void 0:n.find((function(e){return e.version===s&&!e.isCompatibleWithUi})),o=null===(i=t.info.versions)||void 0===i?void 0:i.find((function(e){return e.version===s&&!e.isCompatibleWithKubeVersion})),t.info.chart&&!r&&!o){a.next=5;break}return a.abrupt("return");case 5:return t.infoVersion=s,t.versionError=!1,t.versionInfo=void 0,a.prev=8,a.next=11,t.$store.dispatch("catalog/getVersionInfo",{repoType:t.info.chart.repoType,repoName:t.info.chart.repoName,chartName:t.info.chart.chartName,versionName:s});case 11:t.versionInfo=a.sent,a.next=18;break;case 14:a.prev=14,a.t0=a["catch"](8),t.versionError=!0,console.error("Unable to fetch VersionInfo: ",a.t0);case 18:case"end":return a.stop()}}),a,null,[[8,14]])})))()},handleVersionBtnTooltip:function(e){return e.requiredUiVersion?this.t("plugins.info.requiresRancherVersion",{version:e.requiredUiVersion}):e.requiredKubeVersion?this.t("plugins.info.requiresKubeVersion",{version:e.requiredKubeVersion}):""},handleVersionBtnClass:function(e){return{"version-active":e.version===this.infoVersion,disabled:!e.isCompatibleWithUi||!e.isCompatibleWithKubeVersion}}}},h=b,x=(a("639d"),a("0c7c")),_=Object(x["a"])(h,n,i,!1,null,"297b3958",null);t["default"]=_.exports},b4b9:function(e,t,a){var n=a("4bad");t=n(!1),t.push([e.i,".plugin-install-dialog[data-v-bb2b0e6c]{padding:10px}.plugin-install-dialog h4[data-v-bb2b0e6c]{font-weight:700}.plugin-install-dialog .dialog-panel[data-v-bb2b0e6c]{display:flex;flex-direction:column;min-height:100px}.plugin-install-dialog .dialog-panel .dialog-info[data-v-bb2b0e6c]{flex:1}.plugin-install-dialog .dialog-buttons[data-v-bb2b0e6c]{display:flex;justify-content:flex-end;margin-top:10px}.plugin-install-dialog .dialog-buttons[data-v-bb2b0e6c]>:not(:last-child){margin-right:10px}",""]),e.exports=t},bc8e:function(e,t,a){var n=a("35da");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var i=a("499e").default;i("3eb70eeb",n,!0,{sourceMap:!1,shadowMode:!1})},d88e:function(e,t,a){"use strict";a("1c48")},e02e:function(e,t,a){var n=a("a482");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var i=a("499e").default;i("0cbaf2ee",n,!0,{sourceMap:!1,shadowMode:!1})}}]);
//# sourceMappingURL=index.98b92ff4.js.map