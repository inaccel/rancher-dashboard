(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-205ebbd1"],{"02d3":function(e,t,r){var a=r("4bad");t=a(!1),t.push([e.i,".pin-effect-area[data-v-821cd8e8]{position:absolute;z-index:997;width:0;height:0;border-style:hidden}.pin-effect-area.right[data-v-821cd8e8]{right:0;background-image:linear-gradient(90deg,var(--drag-over-outer-bg),var(--drag-over-inner-bg));border-left:1px;border-style:hidden hidden hidden dashed}.pin-effect-area.left[data-v-821cd8e8],.pin-effect-area.right[data-v-821cd8e8]{top:55px;width:300px;transition:width .5s ease;height:100%}.pin-effect-area.left[data-v-821cd8e8]{left:0;background-image:linear-gradient(270deg,var(--drag-over-outer-bg),var(--drag-over-inner-bg));border-right:1px;border-style:hidden dashed hidden hidden}.pin-effect-area.bottom[data-v-821cd8e8]{bottom:0;height:270px;transition:height .5s ease;width:100%;background-image:linear-gradient(0deg,var(--drag-over-inner-bg),var(--drag-over-outer-bg));border-top:1px;border-style:dashed hidden hidden hidden}.drag-area[data-v-821cd8e8],.pin-effect-area.center[data-v-821cd8e8]{width:0;height:0}.drag-area[data-v-821cd8e8]{position:absolute;z-index:999;opacity:0}.drag-area.center[data-v-821cd8e8]{top:0;right:0;width:100%;height:100%;z-index:998}.drag-area.right[data-v-821cd8e8]{top:55px;right:0;width:300px;height:100%}.drag-area.left[data-v-821cd8e8]{top:55px;left:0;width:300px;height:100%}.drag-area.bottom[data-v-821cd8e8]{bottom:0;height:270px;width:100%}",""]),e.exports=t},"0b9d":function(e,t,r){var a=r("4bad");t=a(!1),t.push([e.i,".promptrestore-modal[data-v-4968592c]{border-radius:var(--border-radius);overflow:scroll;max-height:100vh}.promptrestore-modal[data-v-4968592c] ::-webkit-scrollbar-corner{background:transparent}.promptrestore-modal .prompt-restore form p[data-v-4968592c]{min-height:16px}.promptrestore-modal .dialog-actions[data-v-4968592c]{display:flex;justify-content:flex-end}.prompt-restore[data-v-4968592c] .card-wrap .card-actions{display:block}.prompt-restore[data-v-4968592c] .card-wrap .card-actions button:not(:last-child){margin-right:10px}.prompt-restore[data-v-4968592c] .card-wrap .card-actions .banner{display:flex}",""]),e.exports=t},"1c6d":function(e,t,r){var a=r("f42d");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var n=r("499e").default;n("7e18318c",a,!0,{sourceMap:!1,shadowMode:!1})},"2abc":function(e,t,r){"use strict";var a=function(){var e=this,t=e._self._c;return e.opened&&e.component?t("app-modal",{attrs:{"click-to-close":e.closeOnClickOutside,width:e.modalWidth},on:{close:function(t){return e.close()}}},[t(e.component,e._b({tag:"component",attrs:{resources:e.resources,"register-background-closing":e.registerBackgroundClosing},on:{close:function(t){return e.close()}}},"component",e.modalData.componentProps||{},!1))],1):e._e()},n=[],o=(r("b64b"),r("a4d3"),r("4de4"),r("d3b7"),r("e439"),r("159b"),r("dbb4"),r("ade3")),s=r("2f62"),i=r("f303"),c=r("8dbe");function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){Object(o["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var d={name:"PromptModal",components:{AppModal:c["a"]},data:function(){return{opened:!1,backgroundClosing:null}},computed:u(u({},Object(s["d"])("action-menu",["showModal","modalData"])),{},{resources:function(){var e,t=null===(e=this.modalData)||void 0===e?void 0:e.resources;return Object(i["h"])(t)||(t=[t]),t||[]},modalWidth:function(){var e;return(null===(e=this.modalData)||void 0===e?void 0:e.modalWidth)||"600px"},component:function(){var e;return this.$store.getters["type-map/importDialog"](null===(e=this.modalData)||void 0===e?void 0:e.component)},cssProps:function(){return"--prompt-modal-width: ".concat(this.modalWidth)},stickyProps:function(){var e,t=!(null===(e=this.modalData)||void 0===e||!e.modalSticky);return t?"display: flex; flex-direction: column; ":""},closeOnClickOutside:function(){var e;return null===(e=this.modalData)||void 0===e?void 0:e.closeOnClickOutside}}),watch:{showModal:function(e){this.opened=e}},methods:{close:function(){this.opened&&(this.errors=[],this.$store.commit("action-menu/togglePromptModal"),this.backgroundClosing&&this.backgroundClosing(),this.opened=!1)},registerBackgroundClosing:function(e){this.$set(this,"backgroundClosing",e)}}},p=d,h=(r("42d5"),r("0c7c")),f=Object(h["a"])(p,a,n,!1,null,null,null);t["a"]=f.exports},"307c":function(e,t,r){var a=r("02d3");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var n=r("499e").default;n("2917e7a7",a,!0,{sourceMap:!1,shadowMode:!1})},"42d5":function(e,t,r){"use strict";r("78e2")},"44f5":function(e,t,r){var a=r("0b9d");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var n=r("499e").default;n("8f4ce2c0",a,!0,{sourceMap:!1,shadowMode:!1})},"6e61":function(e,t,r){"use strict";r("307c")},"787f":function(e,t,r){"use strict";r("44f5")},"78e2":function(e,t,r){var a=r("a45f");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var n=r("499e").default;n("d1ea4526",a,!0,{sourceMap:!1,shadowMode:!1})},8139:function(e,t,r){"use strict";r.r(t);var a=r("ade3"),n=function(){var e,t=this,r=t._self._c;return r("div",{staticClass:"dashboard-root"},[r("FixedBanner",{attrs:{header:!0}}),t._v(" "),t.managementReady?r("AwsComplianceBanner"):t._e(),t._v(" "),t.managementReady?r("AzureWarning"):t._e(),t._v(" "),t.managementReady?r("div",{staticClass:"dashboard-content",class:(e={},Object(a["a"])(e,t.pinClass,!0),Object(a["a"])(e,"dashboard-padding-left",t.showTopLevelMenu),e)},[r("Header"),t._v(" "),t.clusterReady?r("SideNav",{staticClass:"default-side-nav"}):t._e(),t._v(" "),t.clusterAndRouteReady?r("main",{staticClass:"main-layout"},[r("router-view",{key:t.$route.path,staticClass:"outlet"}),t._v(" "),r("ActionMenu"),t._v(" "),r("PromptRemove"),t._v(" "),r("PromptRestore"),t._v(" "),r("AssignTo"),t._v(" "),r("PromptModal"),t._v(" "),t.noLocaleShortcut?r("button",{directives:[{name:"shortkey",rawName:"v-shortkey.once",value:["shift","l"],expression:"['shift','l']",modifiers:{once:!0}}],staticClass:"hide",on:{shortkey:function(e){return t.toggleNoneLocale()}}}):t._e(),t._v(" "),t.themeShortcut?r("button",{directives:[{name:"shortkey",rawName:"v-shortkey.once",value:["shift","t"],expression:"['shift','t']",modifiers:{once:!0}}],staticClass:"hide",on:{shortkey:function(e){return t.toggleTheme()}}}):t._e(),t._v(" "),r("button",{directives:[{name:"shortkey",rawName:"v-shortkey.once",value:["f8"],expression:"['f8']",modifiers:{once:!0}}],staticClass:"hide",on:{shortkey:function(e){return t.wheresMyDebugger()}}}),t._v(" "),r("button",{directives:[{name:"shortkey",rawName:"v-shortkey.once",value:["`"],expression:"['`']",modifiers:{once:!0}}],staticClass:"hide",on:{shortkey:t.toggleShell}})],1):t.unmatchedRoute?r("main",{staticClass:"main-layout"},[r("router-view",{key:t.$route.path,staticClass:"outlet"})],1):t._e(),t._v(" "),t.$refs.draggableZone?r("div",{staticClass:"wm",class:{"drag-end":!t.$refs.draggableZone.drag.active,"drag-start":t.$refs.draggableZone.drag.active},attrs:{draggable:t.draggable},on:{dragstart:function(e){return t.$refs.draggableZone.onDragStart(e)},dragend:function(e){return t.$refs.draggableZone.onDragEnd(e)}}},[r("WindowManager",{on:{draggable:function(e){t.draggable=e}}})],1):t._e()],1):t._e(),t._v(" "),r("FixedBanner",{attrs:{footer:!0}}),t._v(" "),r("GrowlManager"),t._v(" "),r("Inactivity"),t._v(" "),r("DraggableZone",{ref:"draggableZone"})],1)},o=[],s=(r("b64b"),r("a4d3"),r("4de4"),r("d3b7"),r("e439"),r("159b"),r("dbb4"),r("1da1")),i=r("a34a"),c=r.n(i),l=(r("96cf"),r("b0c0"),r("2f62")),u=r("e528"),d=r("1ffb"),p=r("f9e3"),h=r("38f4"),f=r("2e39"),v=function(){var e=this,t=e._self._c;return e.loaded?t("app-modal",{attrs:{"custom-class":"promptrestore-modal",name:"promptRestore",styles:"background-color: var(--nav-bg); border-radius: var(--border-radius); max-height: 100vh;",height:"auto",scrollable:!0},on:{close:e.close}},[e.loaded?t("Card",{staticClass:"prompt-restore",attrs:{"show-highlight-border":!1}},[t("h4",{directives:[{name:"clean-html",rawName:"v-clean-html",value:e.t("promptRestore.title",null,!0),expression:"t('promptRestore.title', null, true)"}],staticClass:"text-default-text",attrs:{slot:"title"},slot:"title"}),e._v(" "),t("div",{staticClass:"pl-10 pr-10",attrs:{slot:"body"},slot:"body"},[t("form",[t("h3",{directives:[{name:"t",rawName:"v-t",value:"promptRestore.name",expression:"'promptRestore.name'"}]}),e._v(" "),e.isCluster?e._e():t("div",[e._v("\n          "+e._s(e.snapshot.nameDisplay)+"\n        ")]),e._v(" "),e.isCluster?t("LabeledSelect",{attrs:{label:e.t("promptRestore.label"),placeholder:e.t("promptRestore.placeholder"),options:e.clusterSnapshots},model:{value:e.selectedSnapshot,callback:function(t){e.selectedSnapshot=t},expression:"selectedSnapshot"}}):e._e(),e._v(" "),t("div",{staticClass:"spacer"}),e._v(" "),t("h3",{directives:[{name:"t",rawName:"v-t",value:"promptRestore.date",expression:"'promptRestore.date'"}]}),e._v(" "),t("div",[t("p",[e.snapshot?t("Date",{attrs:{value:e.snapshot.createdAt||e.snapshot.created||e.snapshot.metadata.creationTimestamp}}):e._e()],1)]),e._v(" "),t("div",{staticClass:"spacer"}),e._v(" "),t("RadioGroup",{attrs:{name:"restoreMode",label:"Restore Type",labels:["Only etcd","Kubernetes version and etcd","Cluster config, Kubernetes version and etcd"],options:e.restoreModeOptions},model:{value:e.restoreMode,callback:function(t){e.restoreMode=t},expression:"restoreMode"}})],1)]),e._v(" "),t("div",{staticClass:"dialog-actions",attrs:{slot:"actions"},slot:"actions"},[t("button",{staticClass:"btn role-secondary",on:{click:e.close}},[e._v("\n        "+e._s(e.t("generic.cancel"))+"\n      ")]),e._v(" "),t("AsyncButton",{attrs:{mode:"restore",disabled:!e.hasSnapshot},on:{click:e.apply}}),e._v(" "),e._l(e.errors,(function(e,r){return t("Banner",{key:r,attrs:{color:"error",label:e}})}))],2)]):e._e()],1):e._e()},g=[],b=(r("d81d"),r("07ac"),r("99af"),r("67c9")),m=r("d4bf"),y=r("bec1"),O=r("0ea4"),w=r("fcd0"),x=r("a95f"),j=r("4579"),P=r("a788"),k=r("de78"),_=r("ad3d"),S=r("2c94"),R=r("5a0c"),C=r.n(R),A=r("b25d"),$=r("15cb"),E=r("8dbe");function D(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function M(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?D(Object(r),!0).forEach((function(t){Object(a["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var I={components:{Card:m["a"],AsyncButton:b["b"],Banner:y["a"],Date:O["default"],LabeledSelect:x["a"],RadioGroup:w["a"],AppModal:E["a"]},name:"PromptRestore",mixins:[_["c"]],data:function(){return{errors:[],labels:{},restoreMode:"all",loaded:!1,allSnapshots:{},sortedSnapshots:[],selectedSnapshot:null}},computed:M(M(M({},Object(l["d"])("action-menu",["showPromptRestore","toRestore"])),Object(l["c"])({t:"i18n/t"})),{},{isCluster:function(){var e,t,r=(null===(e=this.toRestore[0])||void 0===e?void 0:e.type.toLowerCase())===P["L"].ETCD_BACKUP||(null===(t=this.toRestore[0])||void 0===t?void 0:t.type.toLowerCase())===P["Y"];return!r},snapshot:function(){return this.isCluster?this.allSnapshots[this.selectedSnapshot]:this.toRestore[0]},hasSnapshot:function(){return!!this.snapshot},isRke2:function(){var e;return!(null===(e=this.snapshot)||void 0===e||!e.rke2)},clusterSnapshots:function(){var e=this;return this.sortedSnapshots?this.sortedSnapshots.map((function(t){return{label:e.snapshotLabel(t),value:t.name}})):[]},restoreModeOptions:function(){var e=this.isRke2?"none":"etcd";return[e,"kubernetesVersion","all"]}}),watch:{showPromptRestore:function(e){var t=this;return Object(s["a"])(c.a.mark((function r(){return c.a.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(!e){r.next=7;break}return t.loaded=!0,r.next=4,t.fetchSnapshots();case 4:t.selectDefaultSnapshot(),r.next=8;break;case 7:t.loaded=!1;case 8:case"end":return r.stop()}}),r)})))()}},methods:{close:function(){this.errors=[],this.labels={},this.$store.commit("action-menu/togglePromptRestore"),this.selectedSnapshot=null},fetchSnapshots:function(){var e=this;return Object(s["a"])(c.a.mark((function t(){var r,a,n,o;return c.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.isCluster){t.next=2;break}return t.abrupt("return");case 2:return a=null===(r=e.toRestore)||void 0===r?void 0:r[0],n=null!==a&&void 0!==a&&a.isRke2?e.$store.dispatch("management/findAll",{type:P["Y"]}).then((function(e){var t,r=(null===a||void 0===a?void 0:a.clusterName)||(null===a||void 0===a||null===(t=a.metadata)||void 0===t?void 0:t.name);return e.filter((function(e){var t;return(null===e||void 0===e||null===(t=e.snapshotFile)||void 0===t?void 0:t.status)===$["c"].SUCCESSFUL&&e.clusterName===r}))})):e.$store.dispatch("rancher/findAll",{type:P["L"].ETCD_BACKUP}).then((function(e){return e.filter((function(e){return e.state===$["c"].ACTIVE&&e.clusterId===a.metadata.name}))})),t.next=6,n.then((function(e){return e.reduce((function(e,t){return e[t.name]=t,e}),{})})).catch((function(t){e.errors=Object(j["d"])(t)}));case 6:o=t.sent,e.allSnapshots=o,e.sortedSnapshots=Object(A["b"])(Object.values(e.allSnapshots),["snapshotFile.createdAt","created","metadata.creationTimestamp"],!0);case 9:case"end":return t.stop()}}),t)})))()},selectDefaultSnapshot:function(){var e,t;if(!this.selectedSnapshot){var r=(null===(e=this.toRestore[0])||void 0===e?void 0:e.type)===P["Y"]?this.toRestore[0].name:null===(t=this.clusterSnapshots[0])||void 0===t?void 0:t.value;this.$set(this,"selectedSnapshot",r)}},apply:function(e){var t=this;return Object(s["a"])(c.a.mark((function r(){var a,n,o,s,i;return c.a.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(r.prev=0,!t.isRke2){r.next=11;break}return s=t.$store.getters["management/byId"](P["e"].RANCHER_CLUSTER,t.snapshot.clusterId),r.next=5,t.applyHooks(_["b"]);case 5:return i=(null===(a=s.spec)||void 0===a||null===(n=a.rkeConfig)||void 0===n||null===(o=n.etcdSnapshotRestore)||void 0===o?void 0:o.generation)||0,Object(k["set"])(s,"spec.rkeConfig.etcdSnapshotRestore",{generation:i+1,name:t.snapshot.name,restoreRKEConfig:t.restoreMode}),r.next=9,s.save();case 9:r.next=13;break;case 11:return r.next=13,t.$store.dispatch("rancher/request",{url:"/v3/clusters/".concat(escape(t.snapshot.clusterId),"?action=restoreFromEtcdBackup"),method:"post",data:{etcdBackupId:t.snapshot.id,restoreRkeConfig:t.restoreMode}});case 13:t.$store.dispatch("growl/success",{title:t.t("promptRestore.notification.title"),message:t.t("promptRestore.notification.message",{selectedSnapshot:t.selectedSnapshot})},{root:!0}),e(!0),t.close(),r.next=22;break;case 18:r.prev=18,r.t0=r["catch"](0),t.errors=Object(j["d"])(r.t0),e(!1);case 22:case"end":return r.stop()}}),r,null,[[0,18]])})))()},snapshotLabel:function(e){var t=Object(S["h"])(this.$store.getters["prefs/get"](u["DATE_FORMAT"])),r=Object(S["h"])(this.$store.getters["prefs/get"](u["TIME_FORMAT"])),a=e.createdAt||e.created||e.metadata.creationTimestamp,n=C()(a).format(t),o=C()(a).format(r);return"".concat(n," ").concat(o," : ").concat(e.nameDisplay)}}},L=I,T=(r("787f"),r("0c7c")),N=Object(T["a"])(L,v,g,!1,null,"4968592c",null),V=N.exports,G=r("2abc"),F=r("04da"),U=r("3ad0"),B=r("aef8"),z=r("659d"),H=r("2f86"),Z=r("318b"),K=r("54fd"),W=function(){var e=this,t=e._self._c;e._self._setupProxy;return e.drag.active?t("div",[e.drag.zone!=e.pin?t("span",{staticClass:"pin-effect-area",class:e.drag.zone}):e._e(),e._v(" "),t("span",{staticClass:"drag-area center",on:{dragover:function(t){return e.onDragOver(t,"center")}}}),e._v(" "),t("span",{staticClass:"drag-area right",on:{dragover:function(t){return e.onDragOver(t,"right")}}}),e._v(" "),t("span",{staticClass:"drag-area bottom",on:{dragover:function(t){return e.onDragOver(t,"bottom")}}}),e._v(" "),t("span",{staticClass:"drag-area left",on:{dragover:function(t){return e.onDragOver(t,"left")}}})]):e._e()},q=[],Y=r("f6b5"),J=r("162f");function Q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function X(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Q(Object(r),!0).forEach((function(t){Object(a["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Q(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ee=Object(Y["defineComponent"])({data:function(){return{drag:{active:!1,zone:J["c"]}}},computed:X(X({},Object(l["d"])("wm",["userPin"])),{},{pin:{get:function(){return this.userPin},set:function(e){e!==J["c"]&&(window.localStorage.setItem("wm-pin",e),this.$store.commit("wm/setUserPin",e))}}}),methods:{onDragStart:function(){this.drag.active=!0},onDragOver:function(e,t){this.drag.zone=t,t!==J["c"]&&e.preventDefault()},onDragEnd:function(){this.pin=this.drag.zone,this.drag={active:!1,zone:J["c"]}}}}),te=ee,re=(r("6e61"),Object(T["a"])(te,W,q,!1,null,"821cd8e8",null)),ae=re.exports,ne=r("63ea"),oe=r.n(ne),se=r("55a3"),ie=r("8414"),ce=r("bb5c"),le=r("bf9f"),ue=function(){var e=this,t=e._self._c;return t("nav",{staticClass:"side-nav"},[t("div",{staticClass:"nav"},[e._l(e.groups,(function(r){return[t("Group",{key:r.name,ref:"groups",refInFor:!0,staticClass:"package",attrs:{"id-prefix":"",group:r,"can-collapse":!r.isRoot,"show-header":!r.isRoot},on:{selected:function(t){return e.groupSelected(t)},expand:function(t){return e.groupSelected(t)}}})]}))],2),e._v(" "),e.showProductFooter?t("div",{staticClass:"footer"},[t("router-link",{staticClass:"pull-right",attrs:{to:e.supportLink}},[e._v("\n      "+e._s(e.t("nav.support",{hasSupport:!0}))+"\n    ")]),e._v(" "),t("span",{directives:[{name:"clean-tooltip",rawName:"v-clean-tooltip",value:{content:e.displayVersion,placement:"top"},expression:"{content: displayVersion, placement: 'top'}"}],staticClass:"clip version text-muted"},[e._v("\n      "+e._s(e.displayVersion)+"\n    ")]),e._v(" "),e.isSingleProduct?t("span",[t("v-popover",{attrs:{"popover-class":"localeSelector",placement:"top",trigger:"click"}},[t("a",{staticClass:"locale-chooser",attrs:{"data-testid":"locale-selector"}},[e._v("\n          "+e._s(e.locale)+"\n        ")]),e._v(" "),t("template",{slot:"popover"},[t("ul",{staticClass:"list-unstyled dropdown",staticStyle:{margin:"-1px"}},e._l(e.availableLocales,(function(r,a){return t("li",{key:a,staticClass:"hand",on:{click:function(t){return e.switchLocale(a)}}},[e._v("\n              "+e._s(r)+"\n            ")])})),0)])],2)],1):e._e()],1):t("div",{staticClass:"version text-muted flex"},[e.singleProductAbout?t("router-link",{attrs:{to:e.singleProductAbout}},[e._v("\n      "+e._s(e.displayVersion)+"\n    ")]):[e.isVirtualCluster&&e.isExplorer?t("span",{directives:[{name:"tooltip",rawName:"v-tooltip",value:{content:e.harvesterVersion,placement:"top"},expression:"{content: harvesterVersion, placement: 'top'}"}],staticClass:"clip text-muted ml-5"},[e._v("\n        (Harvester-"+e._s(e.harvesterVersion)+")\n      ")]):e._e()]],2)])},de=[],pe=(r("fb6a"),r("a630"),r("3ca3"),r("ac1f"),r("d28b"),r("e260"),r("ddb0"),r("2909")),he=(r("4e82"),r("7db0"),r("9911"),r("e01a"),r("b047")),fe=r.n(he),ve=r("f303"),ge=r("0176"),be=r("98bd"),me=r("9bc6"),ye=r("a5b5"),Oe=r("ec4f");function we(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=xe(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var a=0,n=function(){};return{s:n,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,i=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return s=e.done,e},e:function(e){i=!0,o=e},f:function(){try{s||null==r.return||r.return()}finally{if(i)throw o}}}}function xe(e,t){if(e){if("string"===typeof e)return je(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?je(e,t):void 0}}function je(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function Pe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function ke(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Pe(Object(r),!0).forEach((function(t){Object(a["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var _e={name:"SideNav",components:{Group:Oe["a"]},data:function(){return{groups:[],gettingGroups:!1}},created:function(){this.queueUpdate=fe()(this.getGroups,500),this.getGroups()},mounted:function(){var e=this;this.$nextTick((function(){return e.syncNav()}))},watch:{allSchemasIds:function(e,t){Object(ve["n"])(e,t)||this.queueUpdate()},allNavLinksIds:function(e,t){Object(ve["n"])(e,t)||this.queueUpdate()},favoriteTypes:function(e,t){oe()(e,t)||this.queueUpdate()},locale:function(e,t){oe()(e,t)||this.getGroups()},namespaceMode:function(e,t){e!==t&&this.queueUpdate()},namespaces:function(e,t){oe()(e,t)||this.queueUpdate()},clusterReady:function(e,t){oe()(e,t)||this.getGroups()},rootProduct:function(e,t){(null===e||void 0===e?void 0:e.name)!==(null===t||void 0===t?void 0:t.name)&&this.getGroups()},$route:function(e,t){var r=this;this.$nextTick((function(){return r.syncNav()}))}},computed:ke(ke(ke(ke(ke({},Object(l["d"])(["managementReady","clusterReady"])),Object(l["c"])(["productId","clusterId","currentProduct","rootProduct","isSingleProduct","namespaceMode","isExplorer","isVirtualCluster"])),Object(l["c"])({locale:"i18n/selectedLocaleLabel",availableLocales:"i18n/availableLocales"})),Object(l["c"])("type-map",["activeProducts"])),{},{favoriteTypes:Object(u["mapPref"])(u["FAVORITE_TYPES"]),supportLink:function(){var e=this.rootProduct;return null!==e&&void 0!==e&&e.supportRoute?ke(ke({},e.supportRoute),{},{params:ke(ke({},e.supportRoute.params),{},{cluster:this.clusterId})}):{name:"c-cluster-".concat(null===e||void 0===e?void 0:e.name,"-support")}},displayVersion:function(){var e,t;if(null!==(e=this.isSingleProduct)&&void 0!==e&&e.getVersionInfo)return null===(t=this.isSingleProduct)||void 0===t?void 0:t.getVersionInfo(this.$store);var r=Object(se["b"])(this.$store),a=r.displayVersion;return a},singleProductAbout:function(){var e;return null===(e=this.isSingleProduct)||void 0===e?void 0:e.aboutPage},harvesterVersion:function(){var e;return(null===(e=this.$store.getters["cluster/byId"](P["u"].SETTING,"server-version"))||void 0===e?void 0:e.value)||"unknown"},showProductFooter:function(){return!!this.isVirtualProduct},isVirtualProduct:function(){return this.rootProduct.name===ge["a"]},allNavLinks:function(){return this.clusterId&&this.$store.getters["cluster/schemaFor"](P["bb"].NAV_LINK)?this.$store.getters["cluster/all"](P["bb"].NAV_LINK):[]},allSchemasIds:function(){var e=this.managementReady,t=this.currentProduct;return e&&t?this.$store.getters["".concat(t.inStore,"/all")](P["U"]).map((function(e){return e.id})).sort():[]},namespaces:function(){return this.$store.getters["activeNamespaceCache"]},allNavLinksIds:function(){return this.allNavLinks.map((function(e){return e.id}))}}),methods:{getGroups:function(){if(!this.gettingGroups){if(this.gettingGroups=!0,!this.clusterReady)return Object(ve["c"])(this.groups),void(this.gettingGroups=!1);var e=this.$store.getters["productId"],t="both",r=[],n=this.isExplorer?[be["NAME"]]:[],o=this.activeProducts.reduce((function(e,t){return ke(ke({},e),{},Object(a["a"])({},t.name,t))}),{});if(this.isExplorer){var s,i=we(this.activeProducts);try{for(i.s();!(s=i.n()).done;){var c=s.value;"cluster"===c.inStore&&Object(ve["a"])(n,c.name)}}catch(l){i.e(l)}finally{i.f()}}Object(ve["a"])(n,e),this.getProductsGroups(r,n,t,o),this.getExplorerGroups(r),ve["l"].apply(void 0,[this.groups].concat(Object(pe["a"])(Object(A["b"])(r,["weight:desc","label"])))),this.gettingGroups=!1}},getProductsGroups:function(e,t,r,a){var n,o=this.$store.getters["clusterId"],s=this.$route.params.resource||"",i=we(t);try{for(i.s();!(n=i.n()).done;){var c=n.value,l=[me["TYPE_MODES"].BASIC];if(c!==ye["NAME"]){c===be["NAME"]&&(l.push(me["TYPE_MODES"].FAVORITE),l.push(me["TYPE_MODES"].USED));for(var u=this.$store.getters["type-map/allTypes"](c,l),d=0,p=l;d<p.length;d++){var h=p[d],f=u[h]||{},v=this.$store.getters["type-map/getTree"](c,h,f,o,r,s);if(c!==be["NAME"]&&this.isExplorer){var g,b=v.find((function(e){return"root"===e.name})),m=v.filter((function(e){return"root"!==e.name})),y={name:c,label:this.$store.getters["i18n/withFallback"]("product.".concat(c),null,Object(S["z"])(c)),children:[].concat(Object(pe["a"])((null===b||void 0===b?void 0:b.children)||[]),Object(pe["a"])(m)),weight:(null===(g=a[c])||void 0===g?void 0:g.weight)||0};Object(ve["a"])(e,y)}else Object(ve["b"])(e,v)}}}}catch(O){i.e(O)}finally{i.f()}},getExplorerGroups:function(e){if(this.isExplorer){var t,r=this.allNavLinks,a=[],n={},o=we(r);try{for(o.s();!(t=o.n()).done;){var s=t.value;if(s.link){var i=s.spec.group,c=s.normalizedGroup,l={name:"link-".concat(s._key),link:s.link,target:s.actualTarget,label:s.labelDisplay,sideLabel:s.spec.sideLabel,iconSrc:s.spec.iconSrc,description:s.spec.description};if(c){if(n[c])continue;n[c]=!0,a.push({name:"navlink-group-".concat(c),label:i,isRoot:!0,children:[{name:"navlink-child-".concat(c),label:i,route:{name:"c-cluster-navlinks-group",params:{cluster:this.clusterId,group:c}}}],weight:-100})}else a.push({name:"navlink-".concat(l.name),label:l.label,isRoot:!0,children:[l],weight:-100})}}}catch(u){o.e(u)}finally{o.f()}Object(ve["b"])(e,a)}},groupSelected:function(e){this.$refs.groups.forEach((function(t){t.canCollapse&&(t.isExpanded=t.group.name===e.name)}))},collapseAll:function(){this.$refs.groups.forEach((function(e){e.isExpanded=!1}))},switchLocale:function(e){this.$store.dispatch("i18n/switchTo",e)},syncNav:function(){var e=this,t=this.$refs.groups;if(t){var r=!0,a=t.filter((function(e){return e.isExpanded}))[0];if(a&&a.hasActiveRoute())return void this.$nextTick((function(){return a.syncNav()}));t.forEach((function(t){if(!t.group.isRoot&&(t.isExpanded=!1,r)){var a=t.hasActiveRoute();a&&(t.isExpanded=!0,r=!1,e.$nextTick((function(){return t.syncNav()})))}}))}}}},Se=_e,Re=(r("b11b"),Object(T["a"])(Se,ue,de,!1,null,"caa04c9c",null)),Ce=Re.exports,Ae=r("0a0d");function $e(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function Ee(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$e(Object(r),!0).forEach((function(t){Object(a["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$e(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var De="set-as-login",Me={components:{PromptRemove:f["a"],PromptRestore:V,AssignTo:F["a"],PromptModal:G["a"],Header:U["a"],ActionMenu:d["a"],GrowlManager:p["a"],WindowManager:h["default"],FixedBanner:H["a"],AwsComplianceBanner:Z["a"],AzureWarning:K["a"],DraggableZone:ae,Inactivity:B["a"],SideNav:Ce},mixins:[ie["a"],z["a"],ce["a"]],data:function(){return{noLocaleShortcut:!1,wantNavSync:!1,unwatchPin:void 0,wmPin:null,draggable:!1}},middleware:["authenticated"],computed:Ee(Ee(Ee({},Object(l["d"])(["managementReady","clusterReady"])),Object(l["c"])(["clusterId","currentProduct","rootProduct","isRancherInHarvester","showTopLevelMenu"])),{},{afterLoginRoute:Object(u["mapPref"])(u["AFTER_LOGIN_ROUTE"]),themeShortcut:Object(u["mapPref"])(u["THEME_SHORTCUT"]),pageActions:function(){var e=[],t=this.rootProduct;if(!t)return[];var r="cluster"===t.inStore||"management"===t.inStore&&"configuration"!==t.category||this.isRancherInHarvester;return r&&e.push({labelKey:"nav.header.setLoginPage",action:De}),e},unmatchedRoute:function(){var e,t;return!(null!==(e=this.$route)&&void 0!==e&&null!==(t=e.matched)&&void 0!==t&&t.length)},clusterAndRouteReady:function(){var e,t,r,a=this.$store.getters["targetRoute"],n=a?(null===(e=this.currentProduct)||void 0===e?void 0:e.name)===Object(le["c"])(this.$route)&&(null===(t=this.currentProduct)||void 0===t?void 0:t.name)===Object(le["c"])(a):(null===(r=this.currentProduct)||void 0===r?void 0:r.name)===Object(le["c"])(this.$route);return this.clusterReady&&this.clusterId===Object(le["a"])(this.$route)&&n},pinClass:function(){return"pin-".concat(this.wmPin)}}),watch:{clusterId:function(e,t){oe()(e,t)||this.setClusterAsLastRoute()},currentProduct:function(e,t){var r=this;return Object(s["a"])(c.a.mark((function a(){var n;return c.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(oe()(e,t)){a.next=5;break}if(e.inStore===t.inStore&&"cluster"===e.inStore||!r.clusterId||!e.name){a.next=5;break}return n={name:"c-cluster-product",params:{cluster:r.clusterId,product:e.name}},a.next=5,r.$store.dispatch("prefs/setLastVisited",n);case 5:case"end":return a.stop()}}),a)})))()}},created:function(){var e=this;return Object(s["a"])(c.a.mark((function t(){return c.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.$store.dispatch("prefs/setLastVisited",e.$route);case 2:case"end":return t.stop()}}),t)})))()},mounted:function(){var e=this;this.wmPin=window.localStorage.getItem("wm-pin")||J["b"],this.$refs.draggableZone.pin=this.wmPin,this.unwatchPin=this.$watch("$refs.draggableZone.pin",(function(t){e.wmPin=t}))},unmounted:function(){this.unwatchPin()},methods:{setClusterAsLastRoute:function(){var e=this;return Object(s["a"])(c.a.mark((function t(){var r;return c.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.clusterId&&e.clusterId!==Ae["a"]){t.next=2;break}return t.abrupt("return");case 2:return r={name:e.$route.name,params:Ee(Ee({},e.$route.params),{},{cluster:e.clusterId})},t.next=5,e.$store.dispatch("prefs/setLastVisited",r);case 5:case"end":return t.stop()}}),t)})))()},handlePageAction:function(e){e.action===De&&(this.afterLoginRoute=this.getLoginRoute(),Object(se["f"])(this.$store))},getLoginRoute:function(){return{name:this.$route.name,params:this.$route.params}},toggleNoneLocale:function(){this.$store.dispatch("i18n/toggleNone")},toggleTheme:function(){this.$store.dispatch("prefs/toggleTheme")},wheresMyDebugger:function(){},toggleShell:function(){var e=this;return Object(s["a"])(c.a.mark((function t(){var r,a;return c.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=e.$route.params.cluster,r){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,e.$store.dispatch("management/find",{type:P["F"].CLUSTER,id:r});case 5:if(a=t.sent,a){t.next=8;break}return t.abrupt("return");case 8:a.openShell();case 9:case"end":return t.stop()}}),t)})))()}}},Ie=Me,Le=Object(T["a"])(Ie,n,o,!1,null,null,null);t["default"]=Le.exports},8414:function(e,t,r){"use strict";var a="pageActions";t["a"]={created:function(){var e=this;this.updatePageActions();var t=function(t){e.handlePageAction&&e.handlePageAction(t)};this.$store.commit("pageActionHandler",t)},unmounted:function(){this.pageActions&&this.$store.commit(a,[]),this.$store.commit("clearPageActionHandler")},methods:{updatePageActions:function(){this.pageActions&&this.$store.commit(a,this.pageActions)}},watch:{pageActions:function(e,t){this.updatePageActions()}}}},a45f:function(e,t,r){var a=r("4bad");t=a(!1),t.push([e.i,".promptModal-modal{border-radius:var(--border-radius);overflow:scroll;max-height:100vh}.promptModal-modal ::-webkit-scrollbar-corner{background:transparent}",""]),e.exports=t},b11b:function(e,t,r){"use strict";r("1c6d")},f42d:function(e,t,r){var a=r("4bad");t=a(!1),t.push([e.i,".side-nav[data-v-caa04c9c]{display:flex;flex-direction:column;position:relative;background-color:var(--nav-bg);border-right:var(--nav-border-size) solid var(--nav-border);overflow-y:auto}.side-nav .nav[data-v-caa04c9c]{flex:1;overflow-y:auto}.side-nav[data-v-caa04c9c] h6{margin:0;letter-spacing:normal;line-height:15px}.side-nav[data-v-caa04c9c] h6 A{padding-left:0}.side-nav .tools[data-v-caa04c9c]{display:flex;margin:10px;text-align:center}.side-nav .tools A[data-v-caa04c9c]{align-items:center;border:1px solid var(--border);border-radius:5px;color:var(--body-text);display:flex;justify-content:center;outline:0;flex:1;padding:10px}.side-nav .tools A[data-v-caa04c9c]:hover{background:var(--nav-hover);text-decoration:none}.side-nav .tools A>I[data-v-caa04c9c]{margin-right:4px}.side-nav .tools.router-link-active:not(:hover) A[data-v-caa04c9c]{background-color:var(--nav-active)}.side-nav .version[data-v-caa04c9c]{cursor:default;margin:0 10px 10px 10px}.side-nav .footer[data-v-caa04c9c]{margin:20px;display:flex;flex:0;flex-direction:row}.side-nav .footer>*[data-v-caa04c9c]{flex:1;color:var(--link);text-align:center}.side-nav .footer[data-v-caa04c9c]>:last-child{text-align:right}.side-nav .footer[data-v-caa04c9c]>:first-child{text-align:left}.side-nav .footer .version[data-v-caa04c9c]{cursor:default;margin:0}.side-nav .footer .locale-chooser[data-v-caa04c9c]{cursor:pointer}.flex[data-v-caa04c9c]{display:flex}",""]),e.exports=t}}]);
//# sourceMappingURL=chunk-205ebbd1.71053bd7.js.map