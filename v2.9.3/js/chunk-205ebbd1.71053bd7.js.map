{"version":3,"sources":["webpack:///./shell/components/DraggableZone.vue?2ec6","webpack:///./shell/components/PromptRestore.vue?c048","webpack:///./shell/components/SideNav.vue?740f","webpack:///./shell/components/PromptModal.vue","webpack:///shell/components/PromptModal.vue","webpack:///./shell/components/PromptModal.vue?396c","webpack:///./shell/components/PromptModal.vue?1d92","webpack:///./shell/components/DraggableZone.vue?3854","webpack:///./shell/components/PromptModal.vue?1594","webpack:///./shell/components/PromptRestore.vue?86b6","webpack:///./shell/components/DraggableZone.vue?8eba","webpack:///./shell/components/PromptRestore.vue?0704","webpack:///./shell/components/PromptModal.vue?b09b","webpack:///./shell/components/templates/default.vue","webpack:///./shell/components/PromptRestore.vue","webpack:///shell/components/PromptRestore.vue","webpack:///./shell/components/PromptRestore.vue?8787","webpack:///./shell/components/PromptRestore.vue?bec9","webpack:///./shell/components/DraggableZone.vue","webpack:///./shell/components/DraggableZone.vue?9229","webpack:///./shell/components/DraggableZone.vue?f4b3","webpack:///./shell/components/DraggableZone.vue?1d7d","webpack:///./shell/components/SideNav.vue","webpack:///shell/components/SideNav.vue","webpack:///./shell/components/SideNav.vue?8661","webpack:///./shell/components/SideNav.vue?dd70","webpack:///shell/components/templates/default.vue","webpack:///./shell/components/templates/default.vue?3367","webpack:///./shell/components/templates/default.vue?0f58","webpack:///./shell/mixins/page-actions.js","webpack:///./shell/components/PromptModal.vue?e9f3","webpack:///./shell/components/SideNav.vue?8873","webpack:///./shell/components/SideNav.vue?d808"],"names":["___CSS_LOADER_API_IMPORT___","exports","push","module","i","content","__esModule","default","locals","add","render","_vm","this","_c","_self","opened","component","attrs","closeOnClickOutside","modalWidth","on","$event","close","_b","tag","resources","registerBackgroundClosing","modalData","componentProps","_e","staticRenderFns","name","components","AppModal","data","backgroundClosing","computed","_objectSpread","mapState","_this$modalData","isArray","_this$modalData2","_this$modalData3","$store","getters","cssProps","concat","stickyProps","_this$modalData4","isSticky","modalSticky","_this$modalData5","watch","showModal","show","methods","errors","commit","fn","$set","_class","staticClass","_v","managementReady","class","_defineProperty","pinClass","showTopLevelMenu","clusterReady","clusterAndRouteReady","key","$route","path","noLocaleShortcut","directives","rawName","value","expression","modifiers","toggleNoneLocale","themeShortcut","toggleTheme","wheresMyDebugger","toggleShell","unmatchedRoute","$refs","draggableZone","drag","active","draggable","onDragStart","onDragEnd","ref","loaded","t","slot","isCluster","_s","snapshot","nameDisplay","clusterSnapshots","model","selectedSnapshot","callback","$$v","createdAt","created","metadata","creationTimestamp","restoreModeOptions","restoreMode","hasSnapshot","apply","_l","err","Card","AsyncButton","Banner","Date","LabeledSelect","RadioGroup","mixins","ChildHook","labels","allSnapshots","sortedSnapshots","mapGetters","_this$toRestore$","_this$toRestore$2","isSnapshot","toRestore","type","toLowerCase","NORMAN","ETCD_BACKUP","SNAPSHOT","isRke2","_this$snapshot","rke2","_this","map","label","snapshotLabel","etcdOption","showPromptRestore","_this2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_context","prev","next","fetchSnapshots","selectDefaultSnapshot","stop","_this3","_callee2","_this3$toRestore","cluster","promise","_context2","abrupt","dispatch","then","snapshots","_cluster$metadata","toRestoreClusterName","clusterName","filter","s","_s$snapshotFile","snapshotFile","status","STATES_ENUM","SUCCESSFUL","state","ACTIVE","clusterId","reduce","v","catch","exceptionToErrorsArray","sent","sortBy","Object","values","_this$toRestore$3","_this$clusterSnapshot","defaultSnapshot","buttonDone","_this4","_callee3","_cluster$spec","_cluster$spec$rkeConf","_cluster$spec$rkeConf2","now","_context3","CAPI","RANCHER_CLUSTER","applyHooks","BEFORE_SAVE_HOOKS","spec","rkeConfig","etcdSnapshotRestore","generation","set","restoreRKEConfig","save","url","escape","method","etcdBackupId","id","restoreRkeConfig","title","message","root","t0","dateFormat","escapeHtml","DATE_FORMAT","timeFormat","TIME_FORMAT","d","day","format","_setupProxy","zone","pin","onDragOver","defineComponent","CENTER","get","userPin","window","localStorage","setItem","event","preventDefault","groups","g","refInFor","isRoot","groupSelected","showProductFooter","supportLink","hasSupport","displayVersion","placement","isSingleProduct","locale","staticStyle","availableLocales","switchLocale","singleProductAbout","isVirtualCluster","isExplorer","harvesterVersion","Group","gettingGroups","queueUpdate","debounce","getGroups","mounted","$nextTick","syncNav","allSchemasIds","a","b","sameContents","allNavLinksIds","favoriteTypes","isEqual","namespaceMode","namespaces","rootProduct","mapPref","FAVORITE_TYPES","product","supportRoute","params","_this$isSingleProduct","_this$isSingleProduct2","getVersionInfo","_getVersionInfo","_this$isSingleProduct3","aboutPage","_this$$store$getters$","HCI","SETTING","isVirtualProduct","HARVESTER","allNavLinks","UI","NAV_LINK","currentProduct","inStore","SCHEMA","sort","clear","out","loadProducts","EXPLORER","productMap","activeProducts","acc","p","_step","_iterator","_createForOfIteratorHelper","n","done","addObject","e","f","getProductsGroups","getExplorerGroups","replaceWith","_toConsumableArray","_step2","currentType","resource","_iterator2","productId","modes","TYPE_MODES","BASIC","NAVLINKS","FAVORITE","USED","typesByMode","_i","_modes","length","mode","types","more","_productMap$productId","find","x","other","group","ucFirst","children","weight","addObjects","_step3","toAdd","haveGroup","_iterator3","obj","link","groupLabel","groupSlug","normalizedGroup","entry","_key","target","actualTarget","labelDisplay","sideLabel","iconSrc","description","route","selected","forEach","grp","canCollapse","isExpanded","collapseAll","refs","canExpand","expanded","hasActiveRoute","isActive","SET_LOGIN_ACTION","PromptRemove","PromptRestore","AssignTo","PromptModal","Header","ActionMenu","GrowlManager","WindowManager","FixedBanner","AwsComplianceBanner","AzureWarning","DraggableZone","Inactivity","SideNav","PageHeaderActions","Brand","BrowserTabVisibility","wantNavSync","unwatchPin","undefined","wmPin","middleware","afterLoginRoute","AFTER_LOGIN_ROUTE","THEME_SHORTCUT","pageActions","canSetAsHome","category","isRancherInHarvester","labelKey","action","_this$$route","_this$$route$matched","matched","_this$currentProduct","_this$currentProduct2","_this$currentProduct3","targetRoute","routeReady","getProductFromRoute","getClusterFromRoute","setClusterAsLastRoute","getItem","BOTTOM","$watch","unmounted","BLANK_CLUSTER","handlePageAction","getLoginRoute","markSeenReleaseNotes","_this5","_callee4","_context4","MANAGEMENT","CLUSTER","openShell","STORE_PAGE_ACTIONS","updatePageActions","pageActionHandler"],"mappings":"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","file":"js/chunk-205ebbd1.71053bd7.js","sourcesContent":["// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/@vue/cli-service/node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".pin-effect-area[data-v-821cd8e8]{position:absolute;z-index:997;width:0;height:0;border-style:hidden}.pin-effect-area.right[data-v-821cd8e8]{right:0;background-image:linear-gradient(90deg,var(--drag-over-outer-bg),var(--drag-over-inner-bg));border-left:1px;border-style:hidden hidden hidden dashed}.pin-effect-area.left[data-v-821cd8e8],.pin-effect-area.right[data-v-821cd8e8]{top:55px;width:300px;transition:width .5s ease;height:100%}.pin-effect-area.left[data-v-821cd8e8]{left:0;background-image:linear-gradient(270deg,var(--drag-over-outer-bg),var(--drag-over-inner-bg));border-right:1px;border-style:hidden dashed hidden hidden}.pin-effect-area.bottom[data-v-821cd8e8]{bottom:0;height:270px;transition:height .5s ease;width:100%;background-image:linear-gradient(0deg,var(--drag-over-inner-bg),var(--drag-over-outer-bg));border-top:1px;border-style:dashed hidden hidden hidden}.drag-area[data-v-821cd8e8],.pin-effect-area.center[data-v-821cd8e8]{width:0;height:0}.drag-area[data-v-821cd8e8]{position:absolute;z-index:999;opacity:0}.drag-area.center[data-v-821cd8e8]{top:0;right:0;width:100%;height:100%;z-index:998}.drag-area.right[data-v-821cd8e8]{top:55px;right:0;width:300px;height:100%}.drag-area.left[data-v-821cd8e8]{top:55px;left:0;width:300px;height:100%}.drag-area.bottom[data-v-821cd8e8]{bottom:0;height:270px;width:100%}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/@vue/cli-service/node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".promptrestore-modal[data-v-4968592c]{border-radius:var(--border-radius);overflow:scroll;max-height:100vh}.promptrestore-modal[data-v-4968592c] ::-webkit-scrollbar-corner{background:transparent}.promptrestore-modal .prompt-restore form p[data-v-4968592c]{min-height:16px}.promptrestore-modal .dialog-actions[data-v-4968592c]{display:flex;justify-content:flex-end}.prompt-restore[data-v-4968592c] .card-wrap .card-actions{display:block}.prompt-restore[data-v-4968592c] .card-wrap .card-actions button:not(:last-child){margin-right:10px}.prompt-restore[data-v-4968592c] .card-wrap .card-actions .banner{display:flex}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-3!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./SideNav.vue?vue&type=style&index=0&id=caa04c9c&prod&lang=scss&scoped=true&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"7e18318c\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.opened && _vm.component)?_c('app-modal',{attrs:{\"click-to-close\":_vm.closeOnClickOutside,\"width\":_vm.modalWidth},on:{\"close\":function($event){return _vm.close()}}},[_c(_vm.component,_vm._b({tag:\"component\",attrs:{\"resources\":_vm.resources,\"register-background-closing\":_vm.registerBackgroundClosing},on:{\"close\":function($event){return _vm.close()}}},'component',_vm.modalData.componentProps || {},false))],1):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport { mapState } from 'vuex';\nimport { isArray } from '@shell/utils/array';\nimport AppModal from '@shell/components/AppModal.vue';\n\n/**\n * @name PromptModal\n * @description Modal component.\n */\nexport default {\n  name: 'PromptModal',\n\n  components: { AppModal },\n\n  data() {\n    return { opened: false, backgroundClosing: null };\n  },\n\n  computed: {\n    ...mapState('action-menu', ['showModal', 'modalData']),\n\n    resources() {\n      let resources = this.modalData?.resources;\n\n      if (!isArray(resources)) {\n        resources = [resources];\n      }\n\n      return resources || [];\n    },\n\n    modalWidth() {\n      // property set from workload.js to overwrite modal default width of 600px, with fallback value as well\n      return this.modalData?.modalWidth || '600px';\n    },\n    component() {\n      // Looks for a dialog component by looking up in plugins and @shell/dialog/${name}.\n      return this.$store.getters['type-map/importDialog'](this.modalData?.component);\n    },\n    cssProps() {\n      // this computed property lets us generate a scss var that we can use in the style\n      return `--prompt-modal-width: ${ this.modalWidth }`;\n    },\n    stickyProps() {\n      const isSticky = !!this.modalData?.modalSticky;\n\n      return !isSticky ? '' : 'display: flex; flex-direction: column; ';\n    },\n    closeOnClickOutside() {\n      return this.modalData?.closeOnClickOutside;\n    }\n  },\n\n  watch: {\n    showModal(show) {\n      this.opened = show;\n    },\n  },\n\n  methods: {\n    close() {\n      if (!this.opened) {\n        return;\n      }\n\n      this.errors = [];\n      this.$store.commit('action-menu/togglePromptModal');\n      if (this.backgroundClosing) {\n        this.backgroundClosing();\n      }\n\n      this.opened = false;\n    },\n\n    // We're using register instead of just making use of $refs because the $refs is always undefined when referencing the component\n    registerBackgroundClosing(fn) {\n      this.$set(this, 'backgroundClosing', fn);\n    }\n  },\n};\n</script>\n\n<template>\n  <app-modal\n    v-if=\"opened && component\"\n    :click-to-close=\"closeOnClickOutside\"\n    :width=\"modalWidth\"\n    @close=\"close()\"\n  >\n    <component\n      v-bind=\"modalData.componentProps || {}\"\n      :is=\"component\"\n      :resources=\"resources\"\n      :register-background-closing=\"registerBackgroundClosing\"\n      @close=\"close()\"\n    />\n  </app-modal>\n</template>\n\n<style lang='scss'>\n  .promptModal-modal {\n    border-radius: var(--border-radius);\n    overflow: scroll;\n    max-height: 100vh;\n    & ::-webkit-scrollbar-corner {\n      background: rgba(0,0,0,0);\n    }\n  }\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--16-0!../../node_modules/babel-loader/lib/index.js??ref--16-1!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./PromptModal.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--16-0!../../node_modules/babel-loader/lib/index.js??ref--16-1!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./PromptModal.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PromptModal.vue?vue&type=template&id=4908a5a8&\"\nimport script from \"./PromptModal.vue?vue&type=script&lang=js&\"\nexport * from \"./PromptModal.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PromptModal.vue?vue&type=style&index=0&id=4908a5a8&prod&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-3!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./DraggableZone.vue?vue&type=style&index=0&id=821cd8e8&prod&lang=scss&scoped=true&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"2917e7a7\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","export * from \"-!../../node_modules/vue-style-loader/index.js??ref--9-oneOf-1-0!../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-3!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./PromptModal.vue?vue&type=style&index=0&id=4908a5a8&prod&lang=scss&\"","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-3!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./PromptRestore.vue?vue&type=style&index=0&id=4968592c&prod&lang=scss&scoped=true&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"8f4ce2c0\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","export * from \"-!../../node_modules/vue-style-loader/index.js??ref--9-oneOf-1-0!../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-3!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./DraggableZone.vue?vue&type=style&index=0&id=821cd8e8&prod&lang=scss&scoped=true&\"","export * from \"-!../../node_modules/vue-style-loader/index.js??ref--9-oneOf-1-0!../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-3!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./PromptRestore.vue?vue&type=style&index=0&id=4968592c&prod&lang=scss&scoped=true&\"","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-3!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./PromptModal.vue?vue&type=style&index=0&id=4908a5a8&prod&lang=scss&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"d1ea4526\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"dashboard-root\"},[_c('FixedBanner',{attrs:{\"header\":true}}),_vm._v(\" \"),(_vm.managementReady)?_c('AwsComplianceBanner'):_vm._e(),_vm._v(\" \"),(_vm.managementReady)?_c('AzureWarning'):_vm._e(),_vm._v(\" \"),(_vm.managementReady)?_c('div',{staticClass:\"dashboard-content\",class:{[_vm.pinClass]: true, 'dashboard-padding-left': _vm.showTopLevelMenu}},[_c('Header'),_vm._v(\" \"),(_vm.clusterReady)?_c('SideNav',{staticClass:\"default-side-nav\"}):_vm._e(),_vm._v(\" \"),(_vm.clusterAndRouteReady)?_c('main',{staticClass:\"main-layout\"},[_c('router-view',{key:_vm.$route.path,staticClass:\"outlet\"}),_vm._v(\" \"),_c('ActionMenu'),_vm._v(\" \"),_c('PromptRemove'),_vm._v(\" \"),_c('PromptRestore'),_vm._v(\" \"),_c('AssignTo'),_vm._v(\" \"),_c('PromptModal'),_vm._v(\" \"),(_vm.noLocaleShortcut)?_c('button',{directives:[{name:\"shortkey\",rawName:\"v-shortkey.once\",value:(['shift','l']),expression:\"['shift','l']\",modifiers:{\"once\":true}}],staticClass:\"hide\",on:{\"shortkey\":function($event){return _vm.toggleNoneLocale()}}}):_vm._e(),_vm._v(\" \"),(_vm.themeShortcut)?_c('button',{directives:[{name:\"shortkey\",rawName:\"v-shortkey.once\",value:(['shift','t']),expression:\"['shift','t']\",modifiers:{\"once\":true}}],staticClass:\"hide\",on:{\"shortkey\":function($event){return _vm.toggleTheme()}}}):_vm._e(),_vm._v(\" \"),_c('button',{directives:[{name:\"shortkey\",rawName:\"v-shortkey.once\",value:(['f8']),expression:\"['f8']\",modifiers:{\"once\":true}}],staticClass:\"hide\",on:{\"shortkey\":function($event){return _vm.wheresMyDebugger()}}}),_vm._v(\" \"),_c('button',{directives:[{name:\"shortkey\",rawName:\"v-shortkey.once\",value:(['`']),expression:\"['`']\",modifiers:{\"once\":true}}],staticClass:\"hide\",on:{\"shortkey\":_vm.toggleShell}})],1):(_vm.unmatchedRoute)?_c('main',{staticClass:\"main-layout\"},[_c('router-view',{key:_vm.$route.path,staticClass:\"outlet\"})],1):_vm._e(),_vm._v(\" \"),(_vm.$refs.draggableZone)?_c('div',{staticClass:\"wm\",class:{\n        'drag-end': !_vm.$refs.draggableZone.drag.active,\n        'drag-start': _vm.$refs.draggableZone.drag.active,\n      },attrs:{\"draggable\":_vm.draggable},on:{\"dragstart\":function($event){return _vm.$refs.draggableZone.onDragStart($event)},\"dragend\":function($event){return _vm.$refs.draggableZone.onDragEnd($event)}}},[_c('WindowManager',{on:{\"draggable\":function($event){_vm.draggable=$event}}})],1):_vm._e()],1):_vm._e(),_vm._v(\" \"),_c('FixedBanner',{attrs:{\"footer\":true}}),_vm._v(\" \"),_c('GrowlManager'),_vm._v(\" \"),_c('Inactivity'),_vm._v(\" \"),_c('DraggableZone',{ref:\"draggableZone\"})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return (_vm.loaded)?_c('app-modal',{attrs:{\"custom-class\":\"promptrestore-modal\",\"name\":\"promptRestore\",\"styles\":\"background-color: var(--nav-bg); border-radius: var(--border-radius); max-height: 100vh;\",\"height\":\"auto\",\"scrollable\":true},on:{\"close\":_vm.close}},[(_vm.loaded)?_c('Card',{staticClass:\"prompt-restore\",attrs:{\"show-highlight-border\":false}},[_c('h4',{directives:[{name:\"clean-html\",rawName:\"v-clean-html\",value:(_vm.t('promptRestore.title', null, true)),expression:\"t('promptRestore.title', null, true)\"}],staticClass:\"text-default-text\",attrs:{\"slot\":\"title\"},slot:\"title\"}),_vm._v(\" \"),_c('div',{staticClass:\"pl-10 pr-10\",attrs:{\"slot\":\"body\"},slot:\"body\"},[_c('form',[_c('h3',{directives:[{name:\"t\",rawName:\"v-t\",value:('promptRestore.name'),expression:\"'promptRestore.name'\"}]}),_vm._v(\" \"),(!_vm.isCluster)?_c('div',[_vm._v(\"\\n          \"+_vm._s(_vm.snapshot.nameDisplay)+\"\\n        \")]):_vm._e(),_vm._v(\" \"),(_vm.isCluster)?_c('LabeledSelect',{attrs:{\"label\":_vm.t('promptRestore.label'),\"placeholder\":_vm.t('promptRestore.placeholder'),\"options\":_vm.clusterSnapshots},model:{value:(_vm.selectedSnapshot),callback:function ($$v) {_vm.selectedSnapshot=$$v},expression:\"selectedSnapshot\"}}):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"spacer\"}),_vm._v(\" \"),_c('h3',{directives:[{name:\"t\",rawName:\"v-t\",value:('promptRestore.date'),expression:\"'promptRestore.date'\"}]}),_vm._v(\" \"),_c('div',[_c('p',[(_vm.snapshot)?_c('Date',{attrs:{\"value\":_vm.snapshot.createdAt || _vm.snapshot.created || _vm.snapshot.metadata.creationTimestamp}}):_vm._e()],1)]),_vm._v(\" \"),_c('div',{staticClass:\"spacer\"}),_vm._v(\" \"),_c('RadioGroup',{attrs:{\"name\":\"restoreMode\",\"label\":\"Restore Type\",\"labels\":['Only etcd', 'Kubernetes version and etcd', 'Cluster config, Kubernetes version and etcd'],\"options\":_vm.restoreModeOptions},model:{value:(_vm.restoreMode),callback:function ($$v) {_vm.restoreMode=$$v},expression:\"restoreMode\"}})],1)]),_vm._v(\" \"),_c('div',{staticClass:\"dialog-actions\",attrs:{\"slot\":\"actions\"},slot:\"actions\"},[_c('button',{staticClass:\"btn role-secondary\",on:{\"click\":_vm.close}},[_vm._v(\"\\n        \"+_vm._s(_vm.t('generic.cancel'))+\"\\n      \")]),_vm._v(\" \"),_c('AsyncButton',{attrs:{\"mode\":\"restore\",\"disabled\":!_vm.hasSnapshot},on:{\"click\":_vm.apply}}),_vm._v(\" \"),_vm._l((_vm.errors),function(err,i){return _c('Banner',{key:i,attrs:{\"color\":\"error\",\"label\":err}})})],2)]):_vm._e()],1):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport { mapState, mapGetters } from 'vuex';\nimport AsyncButton from '@shell/components/AsyncButton';\nimport { Card } from '@components/Card';\nimport { Banner } from '@components/Banner';\nimport Date from '@shell/components/formatter/Date.vue';\nimport RadioGroup from '@components/Form/Radio/RadioGroup.vue';\nimport LabeledSelect from '@shell/components/form/LabeledSelect.vue';\nimport { exceptionToErrorsArray } from '@shell/utils/error';\nimport { CAPI, NORMAN, SNAPSHOT } from '@shell/config/types';\nimport { set } from '@shell/utils/object';\nimport ChildHook, { BEFORE_SAVE_HOOKS } from '@shell/mixins/child-hook';\nimport { DATE_FORMAT, TIME_FORMAT } from '@shell/store/prefs';\nimport { escapeHtml } from '@shell/utils/string';\nimport day from 'dayjs';\nimport { sortBy } from '@shell/utils/sort';\nimport { STATES_ENUM } from '@shell/plugins/dashboard-store/resource-class';\nimport AppModal from '@shell/components/AppModal.vue';\n\nexport default {\n  components: {\n    Card,\n    AsyncButton,\n    Banner,\n    Date,\n    LabeledSelect,\n    RadioGroup,\n    AppModal,\n  },\n\n  name: 'PromptRestore',\n\n  mixins: [\n    ChildHook,\n  ],\n\n  data() {\n    return {\n      errors:           [],\n      labels:           {},\n      restoreMode:      'all',\n      loaded:           false,\n      allSnapshots:     {},\n      sortedSnapshots:  [],\n      selectedSnapshot: null,\n    };\n  },\n\n  computed: {\n    // toRestore can be a provisioning.cattle.io.cluster or a rke.cattle.io.etcdsnapshot or an etcdBackup resource\n    ...mapState('action-menu', ['showPromptRestore', 'toRestore']),\n    ...mapGetters({ t: 'i18n/t' }),\n\n    // Was the dialog opened to restore a specific snapshot, or opened on a cluster to choose\n    isCluster() {\n      const isSnapshot = this.toRestore[0]?.type.toLowerCase() === NORMAN.ETCD_BACKUP ||\n      this.toRestore[0]?.type.toLowerCase() === SNAPSHOT;\n\n      return !isSnapshot;\n    },\n\n    snapshot() {\n      return !this.isCluster ? this.toRestore[0] : this.allSnapshots[this.selectedSnapshot];\n    },\n\n    hasSnapshot() {\n      return !!this.snapshot;\n    },\n\n    isRke2() {\n      return !!this.snapshot?.rke2;\n    },\n\n    clusterSnapshots() {\n      if (this.sortedSnapshots) {\n        return this.sortedSnapshots.map((snapshot) => ({ label: this.snapshotLabel(snapshot), value: snapshot.name }));\n      } else {\n        return [];\n      }\n    },\n    restoreModeOptions() {\n      const etcdOption = this.isRke2 ? 'none' : 'etcd';\n\n      return [etcdOption, 'kubernetesVersion', 'all'];\n    }\n  },\n\n  watch: {\n    async showPromptRestore(show) {\n      if (show) {\n        this.loaded = true;\n        await this.fetchSnapshots();\n        this.selectDefaultSnapshot();\n      } else {\n        this.loaded = false;\n      }\n    }\n  },\n\n  methods: {\n    close() {\n      this.errors = [];\n      this.labels = {};\n      this.$store.commit('action-menu/togglePromptRestore');\n      this.selectedSnapshot = null;\n    },\n\n    // If the user needs to choose a snapshot, fetch all snapshots for the cluster\n    async fetchSnapshots() {\n      if (!this.isCluster) {\n        return;\n      }\n\n      const cluster = this.toRestore?.[0];\n      let promise;\n\n      if (!cluster?.isRke2) {\n        promise = this.$store.dispatch('rancher/findAll', { type: NORMAN.ETCD_BACKUP }).then((snapshots) => {\n          return snapshots.filter((s) => s.state === STATES_ENUM.ACTIVE && s.clusterId === cluster.metadata.name);\n        });\n      } else {\n        promise = this.$store.dispatch('management/findAll', { type: SNAPSHOT }).then((snapshots) => {\n          const toRestoreClusterName = cluster?.clusterName || cluster?.metadata?.name;\n\n          return snapshots.filter((s) => s?.snapshotFile?.status === STATES_ENUM.SUCCESSFUL && s.clusterName === toRestoreClusterName\n          );\n        });\n      }\n\n      // Map of snapshots by name\n      const allSnapshots = await promise.then((snapshots) => {\n        return snapshots.reduce((v, s) => {\n          v[s.name] = s;\n\n          return v;\n        }, {});\n      }).catch((err) => {\n        this.errors = exceptionToErrorsArray(err);\n      });\n\n      this.allSnapshots = allSnapshots;\n      this.sortedSnapshots = sortBy(Object.values(this.allSnapshots), ['snapshotFile.createdAt', 'created', 'metadata.creationTimestamp'], true);\n    },\n\n    selectDefaultSnapshot() {\n      if (this.selectedSnapshot) {\n        return;\n      }\n\n      const defaultSnapshot = this.toRestore[0]?.type === SNAPSHOT ? this.toRestore[0].name : this.clusterSnapshots[0]?.value;\n\n      this.$set(this, 'selectedSnapshot', defaultSnapshot);\n    },\n\n    async apply(buttonDone) {\n      try {\n        if ( this.isRke2 ) {\n          const cluster = this.$store.getters['management/byId'](CAPI.RANCHER_CLUSTER, this.snapshot.clusterId);\n\n          await this.applyHooks(BEFORE_SAVE_HOOKS);\n\n          const now = cluster.spec?.rkeConfig?.etcdSnapshotRestore?.generation || 0;\n\n          set(cluster, 'spec.rkeConfig.etcdSnapshotRestore', {\n            generation:       now + 1,\n            name:             this.snapshot.name,\n            restoreRKEConfig: this.restoreMode,\n          });\n\n          await cluster.save();\n        } else {\n          await this.$store.dispatch('rancher/request', {\n            url:    `/v3/clusters/${ escape(this.snapshot.clusterId) }?action=restoreFromEtcdBackup`,\n            method: 'post',\n            data:   {\n              etcdBackupId:     this.snapshot.id,\n              restoreRkeConfig: this.restoreMode,\n            },\n          });\n        }\n\n        this.$store.dispatch('growl/success', {\n          title:   this.t('promptRestore.notification.title'),\n          message: this.t('promptRestore.notification.message', { selectedSnapshot: this.selectedSnapshot })\n        }, { root: true });\n\n        buttonDone(true);\n        this.close();\n      } catch (err) {\n        this.errors = exceptionToErrorsArray(err);\n        buttonDone(false);\n      }\n    },\n    snapshotLabel(snapshot) {\n      const dateFormat = escapeHtml(this.$store.getters['prefs/get'](DATE_FORMAT));\n      const timeFormat = escapeHtml( this.$store.getters['prefs/get'](TIME_FORMAT));\n\n      const created = snapshot.createdAt || snapshot.created || snapshot.metadata.creationTimestamp;\n      const d = day(created).format(dateFormat);\n      const t = day(created).format(timeFormat);\n\n      return `${ d } ${ t } : ${ snapshot.nameDisplay }`;\n    }\n  }\n};\n</script>\n\n<template>\n  <app-modal\n    v-if=\"loaded\"\n    custom-class=\"promptrestore-modal\"\n    name=\"promptRestore\"\n    styles=\"background-color: var(--nav-bg); border-radius: var(--border-radius); max-height: 100vh;\"\n    height=\"auto\"\n    :scrollable=\"true\"\n    @close=\"close\"\n  >\n    <Card\n      v-if=\"loaded\"\n      class=\"prompt-restore\"\n      :show-highlight-border=\"false\"\n    >\n      <h4\n        slot=\"title\"\n        v-clean-html=\"t('promptRestore.title', null, true)\"\n        class=\"text-default-text\"\n      />\n\n      <div\n        slot=\"body\"\n        class=\"pl-10 pr-10\"\n      >\n        <form>\n          <h3 v-t=\"'promptRestore.name'\" />\n          <div v-if=\"!isCluster\">\n            {{ snapshot.nameDisplay }}\n          </div>\n\n          <LabeledSelect\n            v-if=\"isCluster\"\n            v-model=\"selectedSnapshot\"\n            :label=\"t('promptRestore.label')\"\n            :placeholder=\"t('promptRestore.placeholder')\"\n            :options=\"clusterSnapshots\"\n          />\n\n          <div class=\"spacer\" />\n\n          <h3 v-t=\"'promptRestore.date'\" />\n          <div>\n            <p>\n              <Date\n                v-if=\"snapshot\"\n                :value=\"snapshot.createdAt || snapshot.created || snapshot.metadata.creationTimestamp\"\n              />\n            </p>\n          </div>\n          <div class=\"spacer\" />\n          <RadioGroup\n            v-model=\"restoreMode\"\n            name=\"restoreMode\"\n            label=\"Restore Type\"\n            :labels=\"['Only etcd', 'Kubernetes version and etcd', 'Cluster config, Kubernetes version and etcd']\"\n            :options=\"restoreModeOptions\"\n          />\n        </form>\n      </div>\n\n      <div\n        slot=\"actions\"\n        class=\"dialog-actions\"\n      >\n        <button\n          class=\"btn role-secondary\"\n          @click=\"close\"\n        >\n          {{ t('generic.cancel') }}\n        </button>\n\n        <AsyncButton\n          mode=\"restore\"\n          :disabled=\"!hasSnapshot\"\n          @click=\"apply\"\n        />\n\n        <Banner\n          v-for=\"(err, i) in errors\"\n          :key=\"i\"\n          color=\"error\"\n          :label=\"err\"\n        />\n      </div>\n    </Card>\n  </app-modal>\n</template>\n\n<style lang='scss' scoped>\n  .promptrestore-modal {\n    border-radius: var(--border-radius);\n    overflow: scroll;\n    max-height: 100vh;\n    & ::-webkit-scrollbar-corner {\n      background: rgba(0,0,0,0);\n    }\n\n    .prompt-restore form p {\n      min-height: 16px;\n    }\n\n    // Position dialog buttons on the right-hand side of the dialog\n    .dialog-actions {\n      display: flex;\n      justify-content: flex-end;\n    }\n  }\n\n  .prompt-restore ::v-deep .card-wrap .card-actions {\n    display: block;\n\n    button:not(:last-child) {\n      margin-right: 10px;\n    }\n\n    .banner {\n      display: flex;\n    }\n  }\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--16-0!../../node_modules/babel-loader/lib/index.js??ref--16-1!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./PromptRestore.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--16-0!../../node_modules/babel-loader/lib/index.js??ref--16-1!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./PromptRestore.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PromptRestore.vue?vue&type=template&id=4968592c&scoped=true&\"\nimport script from \"./PromptRestore.vue?vue&type=script&lang=js&\"\nexport * from \"./PromptRestore.vue?vue&type=script&lang=js&\"\nimport style0 from \"./PromptRestore.vue?vue&type=style&index=0&id=4968592c&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4968592c\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c,_setup=_vm._self._setupProxy;return (_vm.drag.active)?_c('div',[(_vm.drag.zone != _vm.pin)?_c('span',{staticClass:\"pin-effect-area\",class:_vm.drag.zone}):_vm._e(),_vm._v(\" \"),_c('span',{staticClass:\"drag-area center\",on:{\"dragover\":function($event){return _vm.onDragOver($event, 'center')}}}),_vm._v(\" \"),_c('span',{staticClass:\"drag-area right\",on:{\"dragover\":function($event){return _vm.onDragOver($event, 'right')}}}),_vm._v(\" \"),_c('span',{staticClass:\"drag-area bottom\",on:{\"dragover\":function($event){return _vm.onDragOver($event, 'bottom')}}}),_vm._v(\" \"),_c('span',{staticClass:\"drag-area left\",on:{\"dragover\":function($event){return _vm.onDragOver($event, 'left')}}})]):_vm._e()\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport { defineComponent } from 'vue';\nimport { mapState } from 'vuex';\nimport { BOTTOM, CENTER, LEFT, RIGHT } from '@shell/utils/position';\n\ntype Zone = null | typeof CENTER | typeof RIGHT | typeof BOTTOM | typeof LEFT;\n\nexport interface Drag {\n  active: boolean;\n  zone: Zone;\n}\n\ninterface Data {\n  drag: Drag;\n}\n\nexport default defineComponent({\n  data(): Data {\n    return {\n      drag: {\n        active: false,\n        zone:   CENTER,\n      },\n    };\n  },\n\n  computed: {\n\n    ...mapState('wm', ['userPin']),\n\n    pin: {\n      get(): Zone {\n        return this.userPin;\n      },\n\n      set(pin: Zone) {\n        if (pin === CENTER) {\n          return;\n        }\n        window.localStorage.setItem('wm-pin', pin as string);\n        this.$store.commit('wm/setUserPin', pin);\n      },\n    },\n\n  },\n\n  methods: {\n\n    onDragStart() {\n      this.drag.active = true;\n    },\n\n    onDragOver(event: DragEvent, zone: Zone) {\n      this.drag.zone = zone;\n      if (zone !== CENTER) {\n        event.preventDefault();\n      }\n    },\n\n    onDragEnd() {\n      this.pin = this.drag.zone;\n      this.drag = {\n        active: false,\n        zone:   CENTER,\n      };\n    },\n\n  }\n});\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--16-0!../../node_modules/babel-loader/lib/index.js??ref--16-1!../../node_modules/cache-loader/dist/cjs.js??ref--17-0!../../node_modules/ts-loader/index.js??ref--17-1!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./DraggableZone.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--16-0!../../node_modules/babel-loader/lib/index.js??ref--16-1!../../node_modules/cache-loader/dist/cjs.js??ref--17-0!../../node_modules/ts-loader/index.js??ref--17-1!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./DraggableZone.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./DraggableZone.vue?vue&type=template&id=821cd8e8&scoped=true&\"\nimport script from \"./DraggableZone.vue?vue&type=script&lang=ts&\"\nexport * from \"./DraggableZone.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./DraggableZone.vue?vue&type=style&index=0&id=821cd8e8&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"821cd8e8\",\n  null\n  \n)\n\nexport default component.exports","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('nav',{staticClass:\"side-nav\"},[_c('div',{staticClass:\"nav\"},[_vm._l((_vm.groups),function(g){return [_c('Group',{key:g.name,ref:\"groups\",refInFor:true,staticClass:\"package\",attrs:{\"id-prefix\":\"\",\"group\":g,\"can-collapse\":!g.isRoot,\"show-header\":!g.isRoot},on:{\"selected\":function($event){return _vm.groupSelected($event)},\"expand\":function($event){return _vm.groupSelected($event)}}})]})],2),_vm._v(\" \"),(_vm.showProductFooter)?_c('div',{staticClass:\"footer\"},[_c('router-link',{staticClass:\"pull-right\",attrs:{\"to\":_vm.supportLink}},[_vm._v(\"\\n      \"+_vm._s(_vm.t('nav.support', {hasSupport: true}))+\"\\n    \")]),_vm._v(\" \"),_c('span',{directives:[{name:\"clean-tooltip\",rawName:\"v-clean-tooltip\",value:({content: _vm.displayVersion, placement: 'top'}),expression:\"{content: displayVersion, placement: 'top'}\"}],staticClass:\"clip version text-muted\"},[_vm._v(\"\\n      \"+_vm._s(_vm.displayVersion)+\"\\n    \")]),_vm._v(\" \"),(_vm.isSingleProduct)?_c('span',[_c('v-popover',{attrs:{\"popover-class\":\"localeSelector\",\"placement\":\"top\",\"trigger\":\"click\"}},[_c('a',{staticClass:\"locale-chooser\",attrs:{\"data-testid\":\"locale-selector\"}},[_vm._v(\"\\n          \"+_vm._s(_vm.locale)+\"\\n        \")]),_vm._v(\" \"),_c('template',{slot:\"popover\"},[_c('ul',{staticClass:\"list-unstyled dropdown\",staticStyle:{\"margin\":\"-1px\"}},_vm._l((_vm.availableLocales),function(label,name){return _c('li',{key:name,staticClass:\"hand\",on:{\"click\":function($event){return _vm.switchLocale(name)}}},[_vm._v(\"\\n              \"+_vm._s(label)+\"\\n            \")])}),0)])],2)],1):_vm._e()],1):_c('div',{staticClass:\"version text-muted flex\"},[(_vm.singleProductAbout)?_c('router-link',{attrs:{\"to\":_vm.singleProductAbout}},[_vm._v(\"\\n      \"+_vm._s(_vm.displayVersion)+\"\\n    \")]):[(_vm.isVirtualCluster && _vm.isExplorer)?_c('span',{directives:[{name:\"tooltip\",rawName:\"v-tooltip\",value:({content: _vm.harvesterVersion, placement: 'top'}),expression:\"{content: harvesterVersion, placement: 'top'}\"}],staticClass:\"clip text-muted ml-5\"},[_vm._v(\"\\n        (Harvester-\"+_vm._s(_vm.harvesterVersion)+\")\\n      \")]):_vm._e()]],2)])\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<script>\nimport debounce from 'lodash/debounce';\nimport isEqual from 'lodash/isEqual';\nimport { mapGetters, mapState } from 'vuex';\nimport {\n  mapPref,\n  FAVORITE_TYPES\n} from '@shell/store/prefs';\nimport { getVersionInfo } from '@shell/utils/version';\nimport {\n  addObjects, replaceWith, clear, addObject, sameContents\n} from '@shell/utils/array';\nimport { sortBy } from '@shell/utils/sort';\nimport { ucFirst } from '@shell/utils/string';\n\nimport { HCI, UI, SCHEMA } from '@shell/config/types';\nimport { HARVESTER_NAME as HARVESTER } from '@shell/config/features';\nimport { NAME as EXPLORER } from '@shell/config/product/explorer';\nimport { TYPE_MODES } from '@shell/store/type-map';\nimport { NAME as NAVLINKS } from '@shell/config/product/navlinks';\nimport Group from '@shell/components/nav/Group';\n\nexport default {\n  name:       'SideNav',\n  components: { Group },\n  data() {\n    return {\n      groups:        [],\n      gettingGroups: false\n    };\n  },\n\n  created() {\n    // Ensure that changes to resource that change often don't resort to spamming redraw of the side nav\n    this.queueUpdate = debounce(this.getGroups, 500);\n\n    this.getGroups();\n  },\n\n  mounted() {\n    // Sync the navigation tree on fresh load\n    this.$nextTick(() => this.syncNav());\n  },\n\n  watch: {\n\n    /**\n     * Keep this simple, we're only interested in new / removed schemas\n     */\n    allSchemasIds(a, b) {\n      if ( !sameContents(a, b) ) {\n        this.queueUpdate();\n      }\n    },\n\n    allNavLinksIds(a, b) {\n      if ( !sameContents(a, b) ) {\n        this.queueUpdate();\n      }\n    },\n\n    /**\n     * Note - There's no watch on prefs, so this only catches in session changes\n     */\n    favoriteTypes(a, b) {\n      if ( !isEqual(a, b) ) {\n        this.queueUpdate();\n      }\n    },\n\n    locale(a, b) {\n      if ( !isEqual(a, b) ) {\n        this.getGroups();\n      }\n    },\n\n    // Queue namespaceMode and namespaces\n    // Changes to namespaceMode can also change namespaces, so keep this simple and execute both in a shortened queue\n\n    namespaceMode(a, b) {\n      if ( a !== b ) {\n        this.queueUpdate();\n      }\n    },\n\n    namespaces(a, b) {\n      if ( !isEqual(a, b) ) {\n        this.queueUpdate();\n      }\n    },\n\n    clusterReady(a, b) {\n      if ( !isEqual(a, b) ) {\n        // Immediately update because you'll see it come in later\n        this.getGroups();\n      }\n    },\n\n    rootProduct(a, b) {\n      if (a?.name !== b?.name) {\n        // Immediately update because you'll see it come in later\n        this.getGroups();\n      }\n    },\n\n    $route(a, b) {\n      this.$nextTick(() => this.syncNav());\n    },\n\n  },\n\n  computed: {\n    ...mapState(['managementReady', 'clusterReady']),\n    ...mapGetters(['productId', 'clusterId', 'currentProduct', 'rootProduct', 'isSingleProduct', 'namespaceMode', 'isExplorer', 'isVirtualCluster']),\n    ...mapGetters({ locale: 'i18n/selectedLocaleLabel', availableLocales: 'i18n/availableLocales' }),\n    ...mapGetters('type-map', ['activeProducts']),\n\n    favoriteTypes: mapPref(FAVORITE_TYPES),\n\n    supportLink() {\n      const product = this.rootProduct;\n\n      if (product?.supportRoute) {\n        return { ...product.supportRoute, params: { ...product.supportRoute.params, cluster: this.clusterId } };\n      }\n\n      return { name: `c-cluster-${ product?.name }-support` };\n    },\n\n    displayVersion() {\n      if (this.isSingleProduct?.getVersionInfo) {\n        return this.isSingleProduct?.getVersionInfo(this.$store);\n      }\n      const { displayVersion } = getVersionInfo(this.$store);\n\n      return displayVersion;\n    },\n\n    singleProductAbout() {\n      return this.isSingleProduct?.aboutPage;\n    },\n\n    harvesterVersion() {\n      return this.$store.getters['cluster/byId'](HCI.SETTING, 'server-version')?.value || 'unknown';\n    },\n\n    showProductFooter() {\n      if (this.isVirtualProduct) {\n        return true;\n      } else {\n        return false;\n      }\n    },\n\n    isVirtualProduct() {\n      return this.rootProduct.name === HARVESTER;\n    },\n\n    allNavLinks() {\n      if ( !this.clusterId || !this.$store.getters['cluster/schemaFor'](UI.NAV_LINK) ) {\n        return [];\n      }\n\n      return this.$store.getters['cluster/all'](UI.NAV_LINK);\n    },\n\n    allSchemasIds() {\n      const managementReady = this.managementReady;\n      const product = this.currentProduct;\n\n      if ( !managementReady || !product ) {\n        return [];\n      }\n\n      // This does take some up-front time, however avoids an even more costly getGroups call\n      return this.$store.getters[`${ product.inStore }/all`](SCHEMA).map((s) => s.id).sort();\n    },\n\n    namespaces() {\n      return this.$store.getters['activeNamespaceCache'];\n    },\n\n    allNavLinksIds() {\n      return this.allNavLinks.map((a) => a.id);\n    },\n  },\n\n  methods: {\n    /**\n     * Fetch navigation by creating groups from product schemas\n     */\n    getGroups() {\n      if ( this.gettingGroups ) {\n        return;\n      }\n      this.gettingGroups = true;\n\n      if ( !this.clusterReady ) {\n        clear(this.groups);\n        this.gettingGroups = false;\n\n        return;\n      }\n\n      const currentProduct = this.$store.getters['productId'];\n\n      // Always show cluster-level types, regardless of the namespace filter\n      const namespaceMode = 'both';\n      const out = [];\n      const loadProducts = this.isExplorer ? [EXPLORER] : [];\n\n      const productMap = this.activeProducts.reduce((acc, p) => {\n        return { ...acc, [p.name]: p };\n      }, {});\n\n      if ( this.isExplorer ) {\n        for ( const product of this.activeProducts ) {\n          if ( product.inStore === 'cluster' ) {\n            addObject(loadProducts, product.name);\n          }\n        }\n      }\n\n      // This should already have come into the list from above, but in case it hasn't...\n      addObject(loadProducts, currentProduct);\n\n      this.getProductsGroups(out, loadProducts, namespaceMode, productMap);\n\n      this.getExplorerGroups(out);\n\n      replaceWith(this.groups, ...sortBy(out, ['weight:desc', 'label']));\n\n      this.gettingGroups = false;\n    },\n\n    getProductsGroups(out, loadProducts, namespaceMode, productMap) {\n      const clusterId = this.$store.getters['clusterId'];\n      const currentType = this.$route.params.resource || '';\n\n      for ( const productId of loadProducts ) {\n        const modes = [TYPE_MODES.BASIC];\n\n        if ( productId === NAVLINKS ) {\n          // Navlinks produce their own top-level nav items so don't need to show it as a product.\n          continue;\n        }\n\n        if ( productId === EXPLORER ) {\n          modes.push(TYPE_MODES.FAVORITE);\n          modes.push(TYPE_MODES.USED);\n        }\n\n        // Get all types for all modes\n        const typesByMode = this.$store.getters['type-map/allTypes'](productId, modes);\n\n        for ( const mode of modes ) {\n          const types = typesByMode[mode] || {};\n          const more = this.$store.getters['type-map/getTree'](productId, mode, types, clusterId, namespaceMode, currentType);\n\n          if ( productId === EXPLORER || !this.isExplorer ) {\n            addObjects(out, more);\n          } else {\n            const root = more.find((x) => x.name === 'root');\n            const other = more.filter((x) => x.name !== 'root');\n\n            const group = {\n              name:     productId,\n              label:    this.$store.getters['i18n/withFallback'](`product.${ productId }`, null, ucFirst(productId)),\n              children: [...(root?.children || []), ...other],\n              weight:   productMap[productId]?.weight || 0,\n            };\n\n            addObject(out, group);\n          }\n        }\n      }\n    },\n\n    getExplorerGroups(out) {\n      if ( this.isExplorer ) {\n        const allNavLinks = this.allNavLinks;\n        const toAdd = [];\n        const haveGroup = {};\n\n        for ( const obj of allNavLinks ) {\n          if ( !obj.link ) {\n            continue;\n          }\n\n          const groupLabel = obj.spec.group;\n          const groupSlug = obj.normalizedGroup;\n\n          const entry = {\n            name:        `link-${ obj._key }`,\n            link:        obj.link,\n            target:      obj.actualTarget,\n            label:       obj.labelDisplay,\n            sideLabel:   obj.spec.sideLabel,\n            iconSrc:     obj.spec.iconSrc,\n            description: obj.spec.description,\n          };\n\n          // If there's a spec.group (groupLabel), all entries with that name go under one nav group\n          if ( groupSlug ) {\n            if ( haveGroup[groupSlug] ) {\n              continue;\n            }\n\n            haveGroup[groupSlug] = true;\n\n            toAdd.push({\n              name:     `navlink-group-${ groupSlug }`,\n              label:    groupLabel,\n              isRoot:   true,\n              // This is the item that actually shows up in the nav, since this outer group will be invisible\n              children: [\n                {\n                  name:  `navlink-child-${ groupSlug }`,\n                  label: groupLabel,\n                  route: {\n                    name:   'c-cluster-navlinks-group',\n                    params: {\n                      cluster: this.clusterId,\n                      group:   groupSlug,\n                    }\n                  },\n                }\n              ],\n              weight: -100,\n            });\n          } else {\n            toAdd.push({\n              name:     `navlink-${ entry.name }`,\n              label:    entry.label,\n              isRoot:   true,\n              // This is the item that actually shows up in the nav, since this outer group will be invisible\n              children: [entry],\n              weight:   -100,\n            });\n          }\n        }\n\n        addObjects(out, toAdd);\n      }\n    },\n\n    groupSelected(selected) {\n      this.$refs.groups.forEach((grp) => {\n        if (grp.canCollapse) {\n          grp.isExpanded = (grp.group.name === selected.name);\n        }\n      });\n    },\n\n    collapseAll() {\n      this.$refs.groups.forEach((grp) => {\n        grp.isExpanded = false;\n      });\n    },\n\n    switchLocale(locale) {\n      this.$store.dispatch('i18n/switchTo', locale);\n    },\n\n    syncNav() {\n      const refs = this.$refs.groups;\n\n      if (refs) {\n        // Only expand one group - so after the first has been expanded, no more will\n        // This prevents the 'More Resources' group being expanded in addition to the normal group\n        let canExpand = true;\n        const expanded = refs.filter((grp) => grp.isExpanded)[0];\n\n        if (expanded && expanded.hasActiveRoute()) {\n          this.$nextTick(() => expanded.syncNav());\n\n          return;\n        }\n        refs.forEach((grp) => {\n          if (!grp.group.isRoot) {\n            grp.isExpanded = false;\n            if (canExpand) {\n              const isActive = grp.hasActiveRoute();\n\n              if (isActive) {\n                grp.isExpanded = true;\n                canExpand = false;\n                this.$nextTick(() => grp.syncNav());\n              }\n            }\n          }\n        });\n      }\n    },\n  },\n};\n</script>\n\n<template>\n  <nav class=\"side-nav\">\n    <!-- Actual nav -->\n    <div class=\"nav\">\n      <template v-for=\"(g) in groups\">\n        <Group\n          ref=\"groups\"\n          :key=\"g.name\"\n          id-prefix=\"\"\n          class=\"package\"\n          :group=\"g\"\n          :can-collapse=\"!g.isRoot\"\n          :show-header=\"!g.isRoot\"\n          @selected=\"groupSelected($event)\"\n          @expand=\"groupSelected($event)\"\n        />\n      </template>\n    </div>\n    <!-- SideNav footer area (seems to be tied to harvester) -->\n    <div\n      v-if=\"showProductFooter\"\n      class=\"footer\"\n    >\n      <!-- support link -->\n      <router-link\n        :to=\"supportLink\"\n        class=\"pull-right\"\n      >\n        {{ t('nav.support', {hasSupport: true}) }}\n      </router-link>\n      <!-- version number -->\n      <span\n        v-clean-tooltip=\"{content: displayVersion, placement: 'top'}\"\n        class=\"clip version text-muted\"\n      >\n        {{ displayVersion }}\n      </span>\n\n      <!-- locale selector -->\n      <span v-if=\"isSingleProduct\">\n        <v-popover\n          popover-class=\"localeSelector\"\n          placement=\"top\"\n          trigger=\"click\"\n        >\n          <a\n            data-testid=\"locale-selector\"\n            class=\"locale-chooser\"\n          >\n            {{ locale }}\n          </a>\n\n          <template slot=\"popover\">\n            <ul\n              class=\"list-unstyled dropdown\"\n              style=\"margin: -1px;\"\n            >\n              <li\n                v-for=\"(label, name) in availableLocales\"\n                :key=\"name\"\n                class=\"hand\"\n                @click=\"switchLocale(name)\"\n              >\n                {{ label }}\n              </li>\n            </ul>\n          </template>\n        </v-popover>\n      </span>\n    </div>\n    <!-- SideNav footer alternative -->\n    <div\n      v-else\n      class=\"version text-muted flex\"\n    >\n      <router-link\n        v-if=\"singleProductAbout\"\n        :to=\"singleProductAbout\"\n      >\n        {{ displayVersion }}\n      </router-link>\n      <template v-else>\n        <span\n          v-if=\"isVirtualCluster && isExplorer\"\n          v-tooltip=\"{content: harvesterVersion, placement: 'top'}\"\n          class=\"clip text-muted ml-5\"\n        >\n          (Harvester-{{ harvesterVersion }})\n        </span>\n      </template>\n    </div>\n  </nav>\n</template>\n\n<style lang=\"scss\" scoped>\n  .side-nav {\n    display: flex;\n    flex-direction: column;\n    .nav {\n      flex: 1;\n      overflow-y: auto;\n    }\n\n    position: relative;\n    background-color: var(--nav-bg);\n    border-right: var(--nav-border-size) solid var(--nav-border);\n    overflow-y: auto;\n\n    // h6 is used in Group element\n    ::v-deep h6 {\n      margin: 0;\n      letter-spacing: normal;\n      line-height: 15px;\n\n      A { padding-left: 0; }\n    }\n\n    .tools {\n      display: flex;\n      margin: 10px;\n      text-align: center;\n\n      A {\n        align-items: center;\n        border: 1px solid var(--border);\n        border-radius: 5px;\n        color: var(--body-text);\n        display: flex;\n        justify-content: center;\n        outline: 0;\n        flex: 1;\n        padding: 10px;\n\n        &:hover {\n          background: var(--nav-hover);\n          text-decoration: none;\n        }\n\n        > I {\n          margin-right: 4px;\n        }\n      }\n\n      &.router-link-active:not(:hover) {\n        A {\n          background-color: var(--nav-active);\n        }\n      }\n    }\n\n    .version {\n      cursor: default;\n      margin: 0 10px 10px 10px;\n    }\n\n    .footer {\n      margin: 20px;\n\n      display: flex;\n      flex: 0;\n      flex-direction: row;\n      > * {\n        flex: 1;\n        color: var(--link);\n\n        &:last-child {\n          text-align: right;\n        }\n\n        &:first-child {\n          text-align: left;\n        }\n\n        text-align: center;\n      }\n\n      .version {\n        cursor: default;\n        margin: 0px;\n      }\n\n      .locale-chooser {\n        cursor: pointer;\n      }\n    }\n  }\n\n  .flex {\n    display: flex;\n  }\n\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--16-0!../../node_modules/babel-loader/lib/index.js??ref--16-1!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./SideNav.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--16-0!../../node_modules/babel-loader/lib/index.js??ref--16-1!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./SideNav.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./SideNav.vue?vue&type=template&id=caa04c9c&scoped=true&\"\nimport script from \"./SideNav.vue?vue&type=script&lang=js&\"\nexport * from \"./SideNav.vue?vue&type=script&lang=js&\"\nimport style0 from \"./SideNav.vue?vue&type=style&index=0&id=caa04c9c&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"caa04c9c\",\n  null\n  \n)\n\nexport default component.exports","<script>\nimport { mapState, mapGetters } from 'vuex';\nimport {\n  mapPref,\n  AFTER_LOGIN_ROUTE,\n  THEME_SHORTCUT\n} from '@shell/store/prefs';\nimport ActionMenu from '@shell/components/ActionMenu';\nimport GrowlManager from '@shell/components/GrowlManager';\nimport WindowManager from '@shell/components/nav/WindowManager';\nimport PromptRemove from '@shell/components/PromptRemove';\nimport PromptRestore from '@shell/components/PromptRestore';\nimport PromptModal from '@shell/components/PromptModal';\nimport AssignTo from '@shell/components/AssignTo';\nimport Header from '@shell/components/nav/Header';\nimport Inactivity from '@shell/components/Inactivity';\nimport Brand from '@shell/mixins/brand';\nimport FixedBanner from '@shell/components/FixedBanner';\nimport AwsComplianceBanner from '@shell/components/AwsComplianceBanner';\nimport AzureWarning from '@shell/components/auth/AzureWarning';\nimport DraggableZone from '@shell/components/DraggableZone';\nimport { MANAGEMENT } from '@shell/config/types';\nimport isEqual from 'lodash/isEqual';\nimport { markSeenReleaseNotes } from '@shell/utils/version';\nimport PageHeaderActions from '@shell/mixins/page-actions';\nimport BrowserTabVisibility from '@shell/mixins/browser-tab-visibility';\nimport { getClusterFromRoute, getProductFromRoute } from '@shell/utils/router';\nimport { BOTTOM } from '@shell/utils/position';\nimport SideNav from '@shell/components/SideNav';\nimport { BLANK_CLUSTER } from '@shell/store/store-types.js';\n\nconst SET_LOGIN_ACTION = 'set-as-login';\n\nexport default {\n\n  components: {\n    PromptRemove,\n    PromptRestore,\n    AssignTo,\n    PromptModal,\n    Header,\n    ActionMenu,\n    GrowlManager,\n    WindowManager,\n    FixedBanner,\n    AwsComplianceBanner,\n    AzureWarning,\n    DraggableZone,\n    Inactivity,\n    SideNav,\n  },\n\n  mixins: [PageHeaderActions, Brand, BrowserTabVisibility],\n\n  // Note - This will not run on route change\n  data() {\n    return {\n      noLocaleShortcut: process.env.dev || false,\n      wantNavSync:      false,\n      unwatchPin:       undefined,\n      wmPin:            null,\n      draggable:        false,\n    };\n  },\n\n  // Note - These will run on route change\n  middleware: [\n    'authenticated'\n  ],\n\n  computed: {\n    ...mapState(['managementReady', 'clusterReady']),\n    ...mapGetters(['clusterId', 'currentProduct', 'rootProduct', 'isRancherInHarvester', 'showTopLevelMenu']),\n\n    afterLoginRoute: mapPref(AFTER_LOGIN_ROUTE),\n\n    themeShortcut: mapPref(THEME_SHORTCUT),\n\n    pageActions() {\n      const pageActions = [];\n      const product = this.rootProduct;\n\n      if ( !product ) {\n        return [];\n      }\n\n      // Only show for Cluster Explorer or Global Apps (not configuration)\n      const canSetAsHome = product.inStore === 'cluster' || (product.inStore === 'management' && product.category !== 'configuration') || this.isRancherInHarvester;\n\n      if (canSetAsHome) {\n        pageActions.push({\n          labelKey: 'nav.header.setLoginPage',\n          action:   SET_LOGIN_ACTION\n        });\n      }\n\n      return pageActions;\n    },\n\n    unmatchedRoute() {\n      return !this.$route?.matched?.length;\n    },\n\n    /**\n     * When navigation involves unloading one cluster and loading another, clusterReady toggles from true->false->true in middleware (before new route content renders)\n     * Prevent rendering \"outlet\" until the route changes to avoid re-rendering old route content after its cluster is unloaded\n     */\n    clusterAndRouteReady() {\n      const targetRoute = this.$store.getters['targetRoute'];\n      const routeReady = targetRoute ? this.currentProduct?.name === getProductFromRoute(this.$route) && this.currentProduct?.name === getProductFromRoute(targetRoute) : this.currentProduct?.name === getProductFromRoute(this.$route);\n\n      return this.clusterReady &&\n        this.clusterId === getClusterFromRoute(this.$route) && routeReady;\n    },\n\n    pinClass() {\n      return `pin-${ this.wmPin }`;\n    },\n\n  },\n\n  watch: {\n    clusterId(a, b) {\n      if ( !isEqual(a, b) ) {\n        // Store the last visited route when the cluster changes\n        this.setClusterAsLastRoute();\n      }\n    },\n\n    async currentProduct(a, b) {\n      if ( !isEqual(a, b) ) {\n        if ((a.inStore !== b.inStore || a.inStore !== 'cluster') && this.clusterId && a.name) {\n          const route = {\n            name:   'c-cluster-product',\n            params: {\n              cluster: this.clusterId,\n              product: a.name,\n            }\n          };\n\n          await this.$store.dispatch('prefs/setLastVisited', route);\n        }\n      }\n    },\n  },\n\n  async created() {\n    await this.$store.dispatch('prefs/setLastVisited', this.$route);\n  },\n\n  mounted() {\n    this.wmPin = window.localStorage.getItem('wm-pin') || BOTTOM;\n\n    // two-way binding this.wmPin <-> draggableZone.pin\n    this.$refs.draggableZone.pin = this.wmPin;\n    this.unwatchPin = this.$watch('$refs.draggableZone.pin', (pin) => {\n      this.wmPin = pin;\n    });\n  },\n\n  unmounted() {\n    this.unwatchPin();\n  },\n\n  methods: {\n    async setClusterAsLastRoute() {\n      if (!this.clusterId || this.clusterId === BLANK_CLUSTER) {\n        return;\n      }\n      const route = {\n        name:   this.$route.name,\n        params: {\n          ...this.$route.params,\n          cluster: this.clusterId,\n        }\n      };\n\n      await this.$store.dispatch('prefs/setLastVisited', route);\n    },\n\n    handlePageAction(action) {\n      if (action.action === SET_LOGIN_ACTION) {\n        this.afterLoginRoute = this.getLoginRoute();\n        // Mark release notes as seen, so that the login route is honoured\n        markSeenReleaseNotes(this.$store);\n      }\n    },\n\n    getLoginRoute() {\n      return {\n        name:   this.$route.name,\n        params: this.$route.params\n      };\n    },\n\n    toggleNoneLocale() {\n      this.$store.dispatch('i18n/toggleNone');\n    },\n\n    toggleTheme() {\n      this.$store.dispatch('prefs/toggleTheme');\n    },\n\n    wheresMyDebugger() {\n      // vue-shortkey is preventing F8 from passing through to the browser... this works for now.\n      // eslint-disable-next-line no-debugger\n      debugger;\n    },\n\n    async toggleShell() {\n      const clusterId = this.$route.params.cluster;\n\n      if ( !clusterId ) {\n        return;\n      }\n\n      const cluster = await this.$store.dispatch('management/find', {\n        type: MANAGEMENT.CLUSTER,\n        id:   clusterId,\n      });\n\n      if (!cluster ) {\n        return;\n      }\n\n      cluster.openShell();\n    },\n  }\n};\n</script>\n\n<template>\n  <div class=\"dashboard-root\">\n    <FixedBanner :header=\"true\" />\n    <AwsComplianceBanner v-if=\"managementReady\" />\n    <AzureWarning v-if=\"managementReady\" />\n    <div\n      v-if=\"managementReady\"\n      class=\"dashboard-content\"\n      :class=\"{[pinClass]: true, 'dashboard-padding-left': showTopLevelMenu}\"\n    >\n      <Header />\n      <SideNav\n        v-if=\"clusterReady\"\n        class=\"default-side-nav\"\n      />\n      <main\n        v-if=\"clusterAndRouteReady\"\n        class=\"main-layout\"\n      >\n        <router-view\n          :key=\"$route.path\"\n          class=\"outlet\"\n        />\n        <ActionMenu />\n        <PromptRemove />\n        <PromptRestore />\n        <AssignTo />\n        <PromptModal />\n        <button\n          v-if=\"noLocaleShortcut\"\n          v-shortkey.once=\"['shift','l']\"\n          class=\"hide\"\n          @shortkey=\"toggleNoneLocale()\"\n        />\n        <button\n          v-if=\"themeShortcut\"\n          v-shortkey.once=\"['shift','t']\"\n          class=\"hide\"\n          @shortkey=\"toggleTheme()\"\n        />\n        <button\n          v-shortkey.once=\"['f8']\"\n          class=\"hide\"\n          @shortkey=\"wheresMyDebugger()\"\n        />\n        <button\n          v-shortkey.once=\"['`']\"\n          class=\"hide\"\n          @shortkey=\"toggleShell\"\n        />\n      </main>\n      <!-- Ensure there's an outlet to show the error (404) page -->\n      <main\n        v-else-if=\"unmatchedRoute\"\n        class=\"main-layout\"\n      >\n        <router-view\n          :key=\"$route.path\"\n          class=\"outlet\"\n        />\n      </main>\n      <div\n        v-if=\"$refs.draggableZone\"\n        class=\"wm\"\n        :class=\"{\n          'drag-end': !$refs.draggableZone.drag.active,\n          'drag-start': $refs.draggableZone.drag.active,\n        }\"\n        :draggable=\"draggable\"\n        @dragstart=\"$refs.draggableZone.onDragStart($event)\"\n        @dragend=\"$refs.draggableZone.onDragEnd($event)\"\n      >\n        <WindowManager @draggable=\"draggable=$event\" />\n      </div>\n    </div>\n    <FixedBanner :footer=\"true\" />\n    <GrowlManager />\n    <Inactivity />\n    <DraggableZone ref=\"draggableZone\" />\n  </div>\n</template>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--16-0!../../../node_modules/babel-loader/lib/index.js??ref--16-1!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./default.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--16-0!../../../node_modules/babel-loader/lib/index.js??ref--16-1!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./default.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./default.vue?vue&type=template&id=344ee134&\"\nimport script from \"./default.vue?vue&type=script&lang=js&\"\nexport * from \"./default.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","const STORE_PAGE_ACTIONS = 'pageActions';\n\nexport default {\n  created() {\n    this.updatePageActions();\n\n    const pageActionHandler = (action) => {\n      if (this.handlePageAction) {\n        this.handlePageAction(action);\n      }\n    };\n\n    this.$store.commit('pageActionHandler', pageActionHandler);\n  },\n\n  unmounted() {\n    if (this.pageActions) {\n      this.$store.commit(STORE_PAGE_ACTIONS, []);\n    }\n    this.$store.commit('clearPageActionHandler');\n  },\n\n  methods: {\n    updatePageActions() {\n      if (this.pageActions) {\n        this.$store.commit(STORE_PAGE_ACTIONS, this.pageActions);\n      }\n    }\n  },\n\n  watch: {\n    pageActions(a, b) {\n      this.updatePageActions();\n    }\n  }\n};\n","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/@vue/cli-service/node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".promptModal-modal{border-radius:var(--border-radius);overflow:scroll;max-height:100vh}.promptModal-modal ::-webkit-scrollbar-corner{background:transparent}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","export * from \"-!../../node_modules/vue-style-loader/index.js??ref--9-oneOf-1-0!../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-3!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-4!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./SideNav.vue?vue&type=style&index=0&id=caa04c9c&prod&lang=scss&scoped=true&\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/@vue/cli-service/node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".side-nav[data-v-caa04c9c]{display:flex;flex-direction:column;position:relative;background-color:var(--nav-bg);border-right:var(--nav-border-size) solid var(--nav-border);overflow-y:auto}.side-nav .nav[data-v-caa04c9c]{flex:1;overflow-y:auto}.side-nav[data-v-caa04c9c] h6{margin:0;letter-spacing:normal;line-height:15px}.side-nav[data-v-caa04c9c] h6 A{padding-left:0}.side-nav .tools[data-v-caa04c9c]{display:flex;margin:10px;text-align:center}.side-nav .tools A[data-v-caa04c9c]{align-items:center;border:1px solid var(--border);border-radius:5px;color:var(--body-text);display:flex;justify-content:center;outline:0;flex:1;padding:10px}.side-nav .tools A[data-v-caa04c9c]:hover{background:var(--nav-hover);text-decoration:none}.side-nav .tools A>I[data-v-caa04c9c]{margin-right:4px}.side-nav .tools.router-link-active:not(:hover) A[data-v-caa04c9c]{background-color:var(--nav-active)}.side-nav .version[data-v-caa04c9c]{cursor:default;margin:0 10px 10px 10px}.side-nav .footer[data-v-caa04c9c]{margin:20px;display:flex;flex:0;flex-direction:row}.side-nav .footer>*[data-v-caa04c9c]{flex:1;color:var(--link);text-align:center}.side-nav .footer[data-v-caa04c9c]>:last-child{text-align:right}.side-nav .footer[data-v-caa04c9c]>:first-child{text-align:left}.side-nav .footer .version[data-v-caa04c9c]{cursor:default;margin:0}.side-nav .footer .locale-chooser[data-v-caa04c9c]{cursor:pointer}.flex[data-v-caa04c9c]{display:flex}\", \"\"]);\n// Exports\nmodule.exports = exports;\n"],"sourceRoot":""}