(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0ba193"],{3682:function(e,r,t){"use strict";t.r(r);var n=function(){var e=this,r=e._self._c;return r("main",{staticClass:"main-layout"},[r("h1",{staticClass:"text-center mt-50"},[e.testing?r("span",[e._v("\n      Testing Configuration…\n    ")]):r("span",[e._v("\n      Logging In…\n    ")])])])},a=[],o=t("1da1"),c=t("a34a"),s=t.n(c),u=(t("96cf"),t("caad"),t("ac1f"),t("5319"),t("fa3b")),i=t("de78"),l=t("72f8"),p=t("6fc2"),h=["ping","adfs","keycloak","okta","shibboleth"];function d(e,r){try{window.opener.window.onAuthTest(e,r),setTimeout((function(){window.close()}),250)}catch(t){window.close()}}function f(e){var r=e.query,t=Object(i["get"])(r,"config");return h.includes(t)}var b={fetch:function(){var e=this;return Object(o["a"])(s.a.mark((function r(){var t,n,a,o,c,i,h,d,b,w,g,v,$,k,y,x;return s.a.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(t=e.$route.query[u["l"]],n=e.$route.query[u["m"]],a=e.$route.query,o=a.error,c=a.error_description,i=a.errorCode,h=a.errorMsg,!(o||c||i||h)){r.next=8;break}return d=c||o||i,h&&(d=e.$store.getters["i18n/withFallback"]("login.serverError.".concat(h),null,h)),e.$router.replace("/auth/login?err=".concat(escape(d))),r.abrupt("return");case 8:r.prev=8,b=JSON.parse(Object(l["a"])(n)),r.next=20;break;case 12:if(r.prev=12,r.t0=r["catch"](8),!f(e.$route)){r.next=16;break}return r.abrupt("return");case 16:return w=e.$store.getters["i18n/t"]("login.error"),console.error("Failed to parse nonce",n,r.t0),e.$router.replace("/auth/login?err=".concat(escape(w))),r.abrupt("return");case 20:if(g=b,v=g.test,$=g.provider,k=g.nonce,!v){r.next=23;break}return r.abrupt("return");case 23:return r.prev=23,r.next=26,e.$store.dispatch("auth/verifyOAuth",{code:t,nonce:k,provider:$});case 26:if(y=r.sent,200!==y._status){r.next=34;break}return x=e.$route.query[u["b"]]||"/",r.next=31,Object(p["a"])({app:e.$store.app,store:e.$store,$plugin:e.$store.$plugin});case 31:e.$router.replace(x),r.next=35;break;case 34:e.$router.replace("/auth/login?err=".concat(escape(y)));case 35:r.next=40;break;case 37:r.prev=37,r.t1=r["catch"](23),e.$router.replace("/auth/login?err=".concat(escape(r.t1)));case 40:case"end":return r.stop()}}),r,null,[[8,12],[23,37]])})))()},data:function(){var e=this.$route.query[u["m"]]||"",r={};try{r=JSON.parse(Object(l["a"])(e))}catch(a){}var t=r,n=t.test;return{testing:n}},mounted:function(){if(this.testing)try{var e=this.$route.query,r=e.error,t=e.error_description,n=e[u["l"]],a=e.errorMsg,o=t||r||(n?null:"No code supplied by auth provider");a&&(o=this.$store.getters["i18n/withFallback"]("login.serverError.".concat(a),null,a)),d(o,n)}catch(c){window.close()}else window.opener&&f(this.$route)&&(window.opener.window.onAuthTest?d(null,null):d({err:"failure"}))}},w=b,g=t("0c7c"),v=Object(g["a"])(w,n,a,!1,null,null,null);r["default"]=v.exports}}]);
//# sourceMappingURL=chunk-2d0ba193.4f343233.js.map