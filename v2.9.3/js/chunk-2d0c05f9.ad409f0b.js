(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c05f9"],{4205:function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e._self._c;return e.$fetchState.pending?t("Loading"):t("div",[t("header",[t("div",{staticClass:"title"},[t("h1",{staticClass:"m-0"},[e._v("\n        "+e._s(e.t("auth.roleTemplate"))+"\n      ")])]),e._v(" "),t("div",{staticClass:"actions-container"},[t("div",{staticClass:"actions"},[e.canCreate?t("router-link",{staticClass:"btn role-primary",attrs:{to:e.createLocation}},[e._v("\n          "+e._s(e.createLabel)+"\n        ")]):e._e()],1)])]),e._v(" "),t("Tabbed",[e.tabs[e.GLOBAL].canFetch?t("Tab",{attrs:{name:e.GLOBAL,weight:e.tabs[e.GLOBAL].weight,"label-key":e.tabs[e.GLOBAL].labelKey}},[t("Banner",{staticClass:"mb-20",attrs:{color:"warning"}},[t("span",{directives:[{name:"clean-html",rawName:"v-clean-html",value:e.t("rbac.globalRoles.role.restricted-admin.deprecation",{releaseNotesUrl:e.releaseNotesUrl},!0),expression:"t('rbac.globalRoles.role.restricted-admin.deprecation', { releaseNotesUrl }, true)"}]})]),e._v(" "),t("ResourceTable",{attrs:{schema:e.tabs[e.GLOBAL].schema,rows:e.globalResources}})],1):e._e(),e._v(" "),e.tabs[e.CLUSTER].canFetch?t("Tab",{attrs:{name:e.CLUSTER,weight:e.tabs[e.CLUSTER].weight,"label-key":e.tabs[e.CLUSTER].labelKey}},[t("ResourceTable",{attrs:{schema:e.tabs[e.CLUSTER].schema,headers:e.tabs[e.CLUSTER].headers,rows:e.clusterResources}})],1):e._e(),e._v(" "),e.tabs[e.PROJECT].canFetch?t("Tab",{attrs:{name:e.PROJECT,weight:e.tabs[e.PROJECT].weight,"label-key":e.tabs[e.PROJECT].labelKey}},[t("ResourceTable",{attrs:{schema:e.tabs[e.PROJECT].schema,headers:e.tabs[e.PROJECT].headers,rows:e.namespaceResources}})],1):e._e()],1)],1)},n=[],s=(a("b64b"),a("a4d3"),a("e439"),a("159b"),a("dbb4"),a("2909")),c=a("ade3"),o=a("1da1"),l=(a("c740"),a("b0c0"),a("7db0"),a("d3b7"),a("4de4"),a("8a79"),a("a34a")),i=a.n(l),u=(a("96cf"),a("2f62")),b=a("f38f"),h=a("a4d2"),d=a("a788"),f=a("b178"),E=a("c778"),p=a("7fed"),m=a("3124"),L=a("0a0d"),T=a("bec1");function O(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function R(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?O(Object(a),!0).forEach((function(t){Object(c["a"])(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):O(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var P=p["SUBTYPE_MAPPING"].GLOBAL.key,y=p["SUBTYPE_MAPPING"].CLUSTER.key,g=p["SUBTYPE_MAPPING"].NAMESPACE.key,v={name:"c-cluster-".concat(m["NAME"],"-roles-resource-create"),params:{cluster:L["a"],resource:d["F"].GLOBAL_ROLE}},C={name:"c-cluster-".concat(m["NAME"],"-roles-resource-create"),params:{cluster:L["a"],resource:d["F"].ROLE_TEMPLATE}},A={name:"Roles",components:{Tab:b["a"],Tabbed:h["a"],ResourceTable:f["a"],Loading:E["a"],Banner:T["a"]},fetch:function(){var e=this;return Object(o["a"])(i.a.mark((function t(){var a,r;return i.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=e.$store.getters["management/schemaFor"](d["F"].GLOBAL_ROLE),r=e.$store.getters["management/schemaFor"](d["F"].ROLE_TEMPLATE),t.t0=e,t.t1=e,!a){t.next=10;break}return t.next=7,e.$store.dispatch("management/findAll",{type:d["F"].GLOBAL_ROLE});case 7:t.t2=t.sent,t.next=11;break;case 10:t.t2=[];case 11:if(t.t3=t.t2,t.t0.$set.call(t.t0,t.t1,"globalRoles",t.t3),t.t4=e,t.t5=e,!r){t.next=21;break}return t.next=18,e.$store.dispatch("management/findAll",{type:d["F"].ROLE_TEMPLATE});case 18:t.t6=t.sent,t.next=22;break;case 21:t.t6=[];case 22:t.t7=t.t6,t.t4.$set.call(t.t4,t.t5,"roleTemplates",t.t7);case 24:case"end":return t.stop()}}),t)})))()},data:function(){var e,t=this.$store.getters["management/schemaFor"](d["F"].GLOBAL_ROLE),a=this.$store.getters["management/schemaFor"](d["F"].ROLE_TEMPLATE),r=this.$store.getters["type-map/headersFor"](a),n=r.findIndex((function(e){return"default"===e.name}));return{tabs:(e={},Object(c["a"])(e,P,{canFetch:null===t||void 0===t?void 0:t.collectionMethods.find((function(e){return"GET"===e})),canCreate:null===t||void 0===t?void 0:t.resourceMethods.find((function(e){return p["CREATE_VERBS"].has(e)})),weight:3,labelKey:p["SUBTYPE_MAPPING"].GLOBAL.labelKey,schema:t,createLocation:R(R({},v),{},{query:{roleContext:P}})}),Object(c["a"])(e,y,{canFetch:null===a||void 0===a?void 0:a.collectionMethods.find((function(e){return"GET"===e})),canCreate:null===a||void 0===a?void 0:a.resourceMethods.find((function(e){return p["CREATE_VERBS"].has(e)})),labelKey:p["SUBTYPE_MAPPING"].CLUSTER.labelKey,weight:2,schema:a,headers:this.applyDefaultHeaderLabel(r,n,"tableHeaders.authRoles.clusterDefault"),createLocation:R(R({},C),{},{query:{roleContext:y}})}),Object(c["a"])(e,g,{canFetch:null===a||void 0===a?void 0:a.collectionMethods.find((function(e){return"GET"===e})),canCreate:null===a||void 0===a?void 0:a.resourceMethods.find((function(e){return p["CREATE_VERBS"].has(e)})),labelKey:p["SUBTYPE_MAPPING"].NAMESPACE.labelKey,weight:1,schema:a,headers:this.applyDefaultHeaderLabel(r,n,"tableHeaders.authRoles.projectDefault"),createLocation:R(R({},C),{},{query:{roleContext:g}})}),e),GLOBAL:P,CLUSTER:y,PROJECT:g,globalRoles:null,roleTemplates:null}},computed:R(R({},Object(u["c"])(["releaseNotesUrl"])),{},{globalResources:function(){return this.globalRoles},clusterResources:function(){return this.roleTemplates.filter((function(e){return e.context===p["SUBTYPE_MAPPING"].CLUSTER.context}))},namespaceResources:function(){return this.roleTemplates.filter((function(e){return e.context===p["SUBTYPE_MAPPING"].NAMESPACE.context}))},type:function(){return this.$route.hash.endsWith(g)?g:this.$route.hash.endsWith(y)?y:P},canCreate:function(){return this.tabs[this.type].canCreate},createLabel:function(){return this.t("rbac.roletemplate.subtypes.".concat(this.type,".createButton"))},createLocation:function(){return this.tabs[this.type].createLocation}}),methods:{applyDefaultHeaderLabel:function(e,t,a){var r=Object(s["a"])(e);return r[t]=R(R({},e[t]),{},{labelKey:a}),r}}},_=A,w=a("0c7c"),S=Object(w["a"])(_,r,n,!1,null,null,null);t["default"]=S.exports}}]);
//# sourceMappingURL=chunk-2d0c05f9.ad409f0b.js.map