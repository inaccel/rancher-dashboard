{"version":3,"sources":["webpack:///./shell/pages/c/_cluster/monitoring/index.vue","webpack:///shell/pages/c/_cluster/monitoring/index.vue","webpack:///./shell/pages/c/_cluster/monitoring/index.vue?b972","webpack:///./shell/pages/c/_cluster/monitoring/index.vue?83b2","webpack:///./shell/pages/c/_cluster/monitoring/index.vue?6f33","webpack:///./shell/pages/c/_cluster/monitoring/index.vue?8d40","webpack:///./shell/utils/install-redirect.js","webpack:///./shell/pages/c/_cluster/monitoring/index.vue?3196"],"names":["render","_vm","this","_c","_self","staticClass","attrs","_v","_l","externalLinks","fel","directives","name","rawName","value","enabled","undefined","t","expression","key","label","class","disabled","link","iconSrc","_m","description","staticRenderFns","components","LazyImage","SimpleBox","AlertTable","middleware","InstallRedirect","NAME","CHART_NAME","fetch","_this","_asyncToGenerator","_regeneratorRuntime","mark","_callee","wrap","_context","prev","next","fetchDeps","stop","data","grafanaSrc","require","prometheusSrc","currentCluster","$store","getters","availableLinks","alertmanager","grafana","prometheus","resources","MONITORING","ALERTMANAGER","PROMETHEUS","group","concat","id","methods","_this2","_callee2","hash","res","canViewAlertManager","canViewGrafana","canViewPrometheus","amMatch","grafanaMatch","rancherMonitoring","clusterPrefix","promeMatch","_context2","CATALOG","APP","apps","dispatch","type","allHash","sent","canViewAlertManagerLink","canViewGrafanaLink","canViewPrometheusLink","findBy","isEmpty","getClusterPrefix","currentVersion","filter","el","forEach","match","component","content","__esModule","default","module","i","locals","exports","add","___CSS_LOADER_API_IMPORT___","push","product","chartName","defaultResourceOrRoute","install","arguments","length","_middleware","_ref","_store$getters$curren","redirect","store","cluster","chart","_query","_typeof","abrupt","params","resource","query","_defineProperty","REPO_TYPE","repoType","REPO","repoName","CHART","VERSION","versions","version","_x","apply"],"mappings":"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","file":"js/chunk-5bb8c25e.132f6121.js","sourcesContent":["var render = function render(){var _vm=this,_c=_vm._self._c;return _c('section',[_c('header',{staticClass:\"row\"},[_c('div',{staticClass:\"col span-12\"},[_c('h1',[_c('t',{attrs:{\"k\":\"monitoring.overview.title\"}})],1),_vm._v(\" \"),_c('div',[_c('t',{attrs:{\"k\":\"monitoring.overview.subtitle\",\"raw\":true}})],1)])]),_vm._v(\" \"),_c('div',[_c('div',{staticClass:\"create-resource-container\"},[_c('div',{staticClass:\"subtypes-container\"},_vm._l((_vm.externalLinks),function(fel){return _c('a',{directives:[{name:\"clean-tooltip\",rawName:\"v-clean-tooltip\",value:(\n            !fel.enabled ? _vm.t('monitoring.overview.linkedList.na') : undefined\n          ),expression:\"\\n            !fel.enabled ? t('monitoring.overview.linkedList.na') : undefined\\n          \"}],key:fel.label,class:{ 'subtype-banner': true, disabled: !fel.enabled },attrs:{\"href\":fel.enabled ? fel.link : void 0,\"disabled\":!fel.enabled,\"target\":\"_blank\",\"rel\":\"noopener noreferrer\"}},[_c('div',{staticClass:\"subtype-content\"},[_c('div',{staticClass:\"title\"},[_c('div',{staticClass:\"subtype-logo round-image\"},[_c('LazyImage',{attrs:{\"src\":fel.iconSrc}})],1),_vm._v(\" \"),_c('h5',[_c('span',[_c('t',{attrs:{\"k\":fel.label}})],1)]),_vm._v(\" \"),_vm._m(0,true)]),_vm._v(\" \"),_c('hr'),_vm._v(\" \"),_c('div',{staticClass:\"description\"},[_c('span',[_c('t',{attrs:{\"k\":fel.description}})],1)])])])}),0)])]),_vm._v(\" \"),_c('div',[_c('SimpleBox',{staticClass:\"mt-30\",attrs:{\"title\":_vm.t('monitoring.overview.alertsList.label')}},[_c('AlertTable')],1)],1)])\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"flex-right\"},[_c('i',{staticClass:\"icon icon-external-link\"})])\n}]\n\nexport { render, staticRenderFns }","<script>\nimport isEmpty from 'lodash/isEmpty';\n\nimport InstallRedirect from '@shell/utils/install-redirect';\nimport AlertTable from '@shell/components/AlertTable';\nimport { NAME, CHART_NAME } from '@shell/config/product/monitoring';\nimport { CATALOG, MONITORING } from '@shell/config/types';\nimport { allHash } from '@shell/utils/promise';\nimport { findBy } from '@shell/utils/array';\nimport { getClusterPrefix } from '@shell/utils/grafana';\nimport LazyImage from '@shell/components/LazyImage';\nimport SimpleBox from '@shell/components/SimpleBox';\nimport { canViewAlertManagerLink, canViewGrafanaLink, canViewPrometheusLink } from '@shell/utils/monitoring';\n\nexport default {\n  components: {\n    LazyImage,\n    SimpleBox,\n    AlertTable\n  },\n\n  middleware: InstallRedirect(NAME, CHART_NAME),\n\n  async fetch() {\n    await this.fetchDeps();\n  },\n\n  data() {\n    const grafanaSrc = require('~shell/assets/images/vendor/grafana.svg');\n    const prometheusSrc = require('~shell/assets/images/vendor/prometheus.svg');\n    const currentCluster = this.$store.getters['currentCluster'];\n\n    return {\n      availableLinks: {\n        alertmanager: false,\n        grafana:      false,\n        prometheus:   false,\n      },\n      resources:     [MONITORING.ALERTMANAGER, MONITORING.PROMETHEUS],\n      externalLinks: [\n        {\n          enabled:     false,\n          group:       'alertmanager',\n          iconSrc:     prometheusSrc,\n          label:       'monitoring.overview.linkedList.alertManager.label',\n          description:\n            'monitoring.overview.linkedList.alertManager.description',\n          link: `/k8s/clusters/${ currentCluster.id }/api/v1/namespaces/cattle-monitoring-system/services/http:rancher-monitoring-alertmanager:9093/proxy`,\n        },\n        {\n          enabled:     false,\n          group:       'grafana',\n          iconSrc:     grafanaSrc,\n          label:       'monitoring.overview.linkedList.grafana.label',\n          description: 'monitoring.overview.linkedList.grafana.description',\n          link:        '',\n        },\n        {\n          enabled:     false,\n          group:       'prometheus',\n          iconSrc:     prometheusSrc,\n          label:       'monitoring.overview.linkedList.prometheusPromQl.label',\n          description:\n            'monitoring.overview.linkedList.prometheusPromQl.description',\n          link: `/k8s/clusters/${ currentCluster.id }/api/v1/namespaces/cattle-monitoring-system/services/http:rancher-monitoring-prometheus:9090/proxy/graph`,\n        },\n        {\n          enabled:     false,\n          group:       'prometheus',\n          iconSrc:     prometheusSrc,\n          label:       'monitoring.overview.linkedList.prometheusRules.label',\n          description:\n            'monitoring.overview.linkedList.prometheusRules.description',\n          link: `/k8s/clusters/${ currentCluster.id }/api/v1/namespaces/cattle-monitoring-system/services/http:rancher-monitoring-prometheus:9090/proxy/rules`,\n        },\n        {\n          enabled:     false,\n          group:       'prometheus',\n          iconSrc:     prometheusSrc,\n          label:       'monitoring.overview.linkedList.prometheusTargets.label',\n          description:\n            'monitoring.overview.linkedList.prometheusTargets.description',\n          link: `/k8s/clusters/${ currentCluster.id }/api/v1/namespaces/cattle-monitoring-system/services/http:rancher-monitoring-prometheus:9090/proxy/targets`,\n        },\n      ]\n    };\n  },\n\n  methods: {\n    async fetchDeps() {\n      const { $store, externalLinks } = this;\n      const hash = {};\n\n      if ($store.getters['cluster/canList'](CATALOG.APP)) {\n        hash.apps = $store.dispatch('cluster/findAll', { type: CATALOG.APP });\n      }\n      const res = await allHash(hash);\n\n      const canViewAlertManager = await canViewAlertManagerLink(this.$store);\n      const canViewGrafana = await canViewGrafanaLink(this.$store);\n      const canViewPrometheus = await canViewPrometheusLink(this.$store);\n\n      if (canViewAlertManager) {\n        const amMatch = findBy(externalLinks, 'group', 'alertmanager');\n\n        amMatch.enabled = true;\n      }\n      if (canViewGrafana) {\n        const grafanaMatch = findBy(externalLinks, 'group', 'grafana');\n        // Generate Grafana link\n        const currentCluster = this.$store.getters['currentCluster'];\n        const rancherMonitoring = !isEmpty(res.apps) ? findBy(res.apps, 'id', 'cattle-monitoring-system/rancher-monitoring') : '';\n        const clusterPrefix = getClusterPrefix(rancherMonitoring?.currentVersion || '', currentCluster.id);\n\n        grafanaMatch.link = `${ clusterPrefix }/api/v1/namespaces/cattle-monitoring-system/services/http:rancher-monitoring-grafana:80/proxy/`;\n        grafanaMatch.enabled = true;\n      }\n\n      if (canViewPrometheus) {\n        const promeMatch = externalLinks.filter(\n          (el) => el.group === 'prometheus'\n        );\n\n        promeMatch.forEach((match) => {\n          match.enabled = true;\n        });\n      }\n    },\n  },\n};\n</script>\n\n<template>\n  <section>\n    <header class=\"row\">\n      <div class=\"col span-12\">\n        <h1>\n          <t k=\"monitoring.overview.title\" />\n        </h1>\n        <div>\n          <t\n            k=\"monitoring.overview.subtitle\"\n            :raw=\"true\"\n          />\n        </div>\n      </div>\n    </header>\n    <div>\n      <div class=\"create-resource-container\">\n        <div class=\"subtypes-container\">\n          <a\n            v-for=\"fel in externalLinks\"\n            :key=\"fel.label\"\n            v-clean-tooltip=\"\n              !fel.enabled ? t('monitoring.overview.linkedList.na') : undefined\n            \"\n            :href=\"fel.enabled ? fel.link : void 0\"\n            :disabled=\"!fel.enabled\"\n            target=\"_blank\"\n            rel=\"noopener noreferrer\"\n            :class=\"{ 'subtype-banner': true, disabled: !fel.enabled }\"\n          >\n            <div class=\"subtype-content\">\n              <div class=\"title\">\n                <div class=\"subtype-logo round-image\">\n                  <LazyImage :src=\"fel.iconSrc\" />\n                </div>\n                <h5>\n                  <span>\n                    <t :k=\"fel.label\" />\n                  </span>\n                </h5>\n                <div class=\"flex-right\">\n                  <i class=\"icon icon-external-link\" />\n                </div>\n              </div>\n              <hr>\n              <div class=\"description\">\n                <span>\n                  <t :k=\"fel.description\" />\n                </span>\n              </div>\n            </div>\n          </a>\n        </div>\n      </div>\n    </div>\n    <div>\n      <SimpleBox\n        class=\"mt-30\"\n        :title=\"t('monitoring.overview.alertsList.label')\"\n      >\n        <AlertTable />\n      </SimpleBox>\n    </div>\n  </section>\n</template>\n\n<style lang=\"scss\" scoped>\n  .create-resource-container .subtype-banner {\n    min-height: 80px;\n    padding: 10px;\n  }\n</style>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--16-0!../../../../../node_modules/babel-loader/lib/index.js??ref--16-1!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--16-0!../../../../../node_modules/babel-loader/lib/index.js??ref--16-1!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=9528c3dc&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=9528c3dc&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"9528c3dc\",\n  null\n  \n)\n\nexport default component.exports","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-3!../../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-4!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=9528c3dc&prod&lang=scss&scoped=true&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"289dffe2\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".create-resource-container .subtype-banner[data-v-9528c3dc]{min-height:80px;padding:10px}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","import { REPO_TYPE, REPO, CHART, VERSION } from '@shell/config/query-params';\n\nexport default function(product, chartName, defaultResourceOrRoute, install = true) {\n  return async function middleware({ redirect, store } ) {\n    const cluster = store.getters['currentCluster']?.id || 'local';\n\n    if ( store.getters['type-map/isProductActive'](product) ) {\n      // If the product is installed and there's a default resource, redirect there\n\n      if ( defaultResourceOrRoute ) {\n        if ( typeof defaultResourceOrRoute === 'object' ) {\n          return redirect(defaultResourceOrRoute);\n        }\n\n        return redirect({\n          name:   'c-cluster-product-resource',\n          params: {\n            cluster,\n            product,\n            resource: defaultResourceOrRoute\n          },\n        });\n      }\n\n      // Otherwise just let the middleware pass through\n    } else if (install) {\n      // The product is not installed, redirect to the details chart\n\n      await store.dispatch('catalog/load');\n\n      const chart = store.getters['catalog/chart']({ chartName });\n\n      if ( chart ) {\n        return redirect({\n          name:   'c-cluster-apps-charts-chart',\n          params: { cluster },\n          query:  {\n            [REPO_TYPE]: chart.repoType,\n            [REPO]:      chart.repoName,\n            [CHART]:     chart.chartName,\n            [VERSION]:   chart.versions[0].version\n          },\n        });\n      } else {\n        // The chart's not available\n        store.dispatch('loadingError', `Chart not found for ${ product }`);\n      }\n    } else {\n      return redirect({\n        name:   'c-cluster-explorer',\n        params: { cluster },\n      });\n    }\n  };\n}\n","export * from \"-!../../../../../node_modules/vue-style-loader/index.js??ref--9-oneOf-1-0!../../../../../node_modules/@vue/cli-service/node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-3!../../../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-4!../../../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=9528c3dc&prod&lang=scss&scoped=true&\""],"sourceRoot":""}