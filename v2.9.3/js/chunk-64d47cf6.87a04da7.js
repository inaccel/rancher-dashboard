(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-64d47cf6"],{2678:function(t,e,n){"use strict";var r=n("ade3"),i=function(){var t,e=this,n=e._self._c;return n("div",{staticClass:"message-icon",class:{vertical:e.vertical,subtle:e.subtle}},[n("i",{staticClass:"icon",class:(t={},Object(r["a"])(t,e.icon,!0),Object(r["a"])(t,e.iconState,!!e.iconState),t)}),e._v(" "),n("div",{staticClass:"message"},[e._t("message",(function(){return[e.messageKey?[e._v("\n        "+e._s(e.t(e.messageKey))+"\n      ")]:[e._v("\n        "+e._s(e.message)+"\n      ")]]}))],2)])},a=[],o={props:{vertical:{type:Boolean,default:!1},icon:{type:String,required:!0},iconState:{type:String,default:null},message:{type:String,default:null},messageKey:{type:String,default:null},subtle:{type:Boolean,default:!1}}},s=o,u=(n("c655"),n("0c7c")),l=Object(u["a"])(s,i,a,!1,null,"fcc3e7d2",null);e["a"]=l.exports},"3ec3":function(t,e,n){var r=n("4bad");e=r(!1),e.push([t.i,".masthead[data-v-f3071dc4]{padding-bottom:10px;border-bottom:1px solid var(--border);margin-bottom:10px}HEADER[data-v-f3071dc4]{margin:0}HEADER .title[data-v-f3071dc4]{overflow:hidden}.primaryheader[data-v-f3071dc4],.primaryheader h1[data-v-f3071dc4]{display:flex;flex-direction:row;align-items:center}.primaryheader h1[data-v-f3071dc4]{margin:0;overflow:hidden}.primaryheader h1 .mastehead-resource-title[data-v-f3071dc4]{padding:0 8px;text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.subheader[data-v-f3071dc4]{display:flex;flex-direction:row;color:var(--input-label)}.subheader>*[data-v-f3071dc4]{margin:5px 20px 5px 0}.subheader .live-data[data-v-f3071dc4]{color:var(--body-text)}.state-banner[data-v-f3071dc4]{margin:3px 0 0 0}.masthead-state[data-v-f3071dc4]{font-size:medium}.masthead-istio .icon[data-v-f3071dc4]{vertical-align:middle;color:var(--primary)}.left-right-split[data-v-f3071dc4]{display:grid;align-items:center}.left-right-split .left-half[data-v-f3071dc4]{grid-column:1}.left-right-split .right-half[data-v-f3071dc4]{grid-column:2}div.actions-container>div.actions[data-v-f3071dc4]{display:flex;flex-direction:row;justify-content:flex-end}",""]),t.exports=e},"3f80":function(t,e,n){var r=n("e8cc");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);var i=n("499e").default;i("396c18ec",r,!0,{sourceMap:!1,shadowMode:!1})},"5a0e":function(t,e,n){var r=n("4bad");e=r(!1),e.push([t.i,".vertical[data-v-fcc3e7d2]{flex-direction:column;width:100%}.subtle[data-v-fcc3e7d2]{opacity:.7}.message-icon[data-v-fcc3e7d2]{display:flex;align-items:center;justify-content:center;flex:1;flex-direction:column}.message-icon>I[data-v-fcc3e7d2]{font-size:64px;margin-bottom:20px}.message-icon>I.info[data-v-fcc3e7d2]{color:var(--primary)}.message-icon>I.error[data-v-fcc3e7d2]{color:var(--error)}.message-icon>I.warning[data-v-fcc3e7d2]{color:var(--warning)}.message-icon>I.success[data-v-fcc3e7d2]{color:var(--success)}.message-icon>.message[data-v-fcc3e7d2]{font-size:20px;margin-bottom:40px;max-width:60%;text-align:center;line-height:30px}",""]),t.exports=e},"5df3":function(t,e,n){"use strict";n("3f80")},"6de1":function(t,e,n){var r=n("3ec3");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);var i=n("499e").default;i("37f2ef86",r,!0,{sourceMap:!1,shadowMode:!1})},"79b8b":function(t,e,n){var r=n("4bad");e=r(!1),e.push([t.i,'.detail-top:not(.empty){padding-top:10px;border-top:1px solid var(--border);margin-top:10px}.detail-top .namespaceLinkList:not(:first-child):before{content:", "}.detail-top .tags{display:inline-flex;flex-direction:row;flex-wrap:wrap;position:relative;top:-2px}.detail-top .tags .label{position:relative;top:4px}.detail-top .tags .tag{margin:2px 4px 0 2px;font-size:12px}.detail-top .annotation{margin-top:10px}.detail-top .label{color:var(--input-label);margin:0 4px 0 0}.detail-top__label-button{padding:4px}.detail-top .details{display:flex;flex-direction:row;flex-wrap:wrap}.detail-top .details .detail{margin-right:20px;margin-bottom:3px}.detail-top .details:not(:first-of-type){margin-top:3px}.detail-top>div:not(:last-of-type){margin-bottom:4px}.detail-top .icon{vertical-align:top}',""]),t.exports=e},"8c4a":function(t,e,n){var r=n("5a0e");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);var i=n("499e").default;i("42b288f7",r,!0,{sourceMap:!1,shadowMode:!1})},9518:function(t,e,n){var r=n("79b8b");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);var i=n("499e").default;i("61914441",r,!0,{sourceMap:!1,shadowMode:!1})},c655:function(t,e,n){"use strict";n("8c4a")},c854:function(t,e,n){"use strict";var r=function(){var t=this,e=t._self._c;return t.$fetchState.pending||t.notFound?e("Loading"):e("div",[t.showMasthead?e("Masthead",{attrs:{resource:t.resource,value:t.liveModel,mode:t.mode,"real-mode":t.realMode,as:t.as,"has-graph":t.hasGraph,"has-detail":t.hasCustomDetail,"has-edit":t.hasCustomEdit,"can-view-yaml":t.canViewYaml,"resource-subtype":t.resourceSubtype,"parent-route-override":t.parentRouteOverride,"store-override":t.storeOverride}},[t.isView&&t.isDetail?e("DetailTop",{attrs:{value:t.liveModel}}):t._e()],1):t._e(),t._v(" "),t.isGraph&&t.canViewChart?e("ForceDirectedTreeChart",{attrs:{data:t.chartData,"fdc-config":t.getGraphConfig}}):t.isYaml?e("ResourceYaml",{ref:"resourceyaml",class:{"flex-content":t.flexContent},attrs:{mode:t.mode,yaml:t.yaml,"offer-preview":t.offerPreview,"done-route":t.doneRoute,"done-override":t.value.doneOverride},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}}):e(t.showComponent,t._b({ref:"comp",tag:"component",class:{"flex-content":t.flexContent},attrs:{"done-params":t.doneParams,"done-route":t.doneRoute,mode:t.mode,"initial-value":t.initialModel,"live-value":t.liveModel,"real-mode":t.realMode},on:{"set-subtype":t.setSubtype},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}},"component",t._data,!1)),t._v(" "),t.isView?e("button",{directives:[{name:"shortkey",rawName:"v-shortkey.once",value:["shift","d"],expression:"['shift','d']",modifiers:{once:!0}}],staticClass:"hide",attrs:{"data-testid":t.componentTestid+"-detail"},on:{shortkey:function(e){return t.keyAction("goToDetail")}}}):t._e(),t._v(" "),t.isView?e("button",{directives:[{name:"shortkey",rawName:"v-shortkey.once",value:["shift","c"],expression:"['shift','c']",modifiers:{once:!0}}],staticClass:"hide",attrs:{"data-testid":t.componentTestid+"-config"},on:{shortkey:function(e){return t.keyAction("goToViewConfig")}}}):t._e(),t._v(" "),t.isView?e("button",{directives:[{name:"shortkey",rawName:"v-shortkey.once",value:["shift","y"],expression:"['shift','y']",modifiers:{once:!0}}],staticClass:"hide",attrs:{"data-testid":t.componentTestid+"-yaml"},on:{shortkey:function(e){return t.keyAction("goToViewYaml")}}}):t._e(),t._v(" "),t.isView?e("button",{directives:[{name:"shortkey",rawName:"v-shortkey.once",value:["shift","e"],expression:"['shift','e']",modifiers:{once:!0}}],staticClass:"hide",attrs:{"data-testid":t.componentTestid+"-edit"},on:{shortkey:function(e){return t.keyAction("goToEdit")}}}):t._e()],1)},i=[],a=n("1da1"),o=n("a34a"),s=n.n(o),u=(n("96cf"),n("caad"),n("2532"),n("99af"),n("b64b"),n("2490")),l=n("c778"),c=n("63d9"),h=n("fa3b"),f=n("a788"),d=n("f29a"),p=function(){var t=this,e=t._self._c;return e("div",{staticClass:"masthead"},[e("header",[e("div",{staticClass:"title"},[e("div",{staticClass:"primaryheader"},[e("h1",[t.isCreate?e("TabTitle",{attrs:{showChild:!1}},[t._v("\n            "+t._s(t.parent.displayName)+"\n          ")]):e("TabTitle",{attrs:{showChild:!1}},[t._v("\n            "+t._s(t.displayName)+"\n          ")]),t._v(" "),t.location?e("router-link",{attrs:{to:t.location}},[t._v("\n            "+t._s(t.parent.displayName)+":\n          ")]):e("span",[t._v(t._s(t.parent.displayName)+":")]),t._v(" "),t.value.detailPageHeaderActionOverride&&t.value.detailPageHeaderActionOverride(t.realMode)?e("span",[t._v(t._s(t.value.detailPageHeaderActionOverride(t.realMode)))]):e("t",{staticClass:"mastehead-resource-title",attrs:{k:"resourceDetail.header."+t.realMode,subtype:t.resourceSubtype,name:t.displayName,escapehtml:!1}}),t._v(" "),!t.isCreate&&t.parent.showState?e("BadgeState",{staticClass:"masthead-state",attrs:{value:t.value}}):t._e(),t._v(" "),!t.isCreate&&t.value.injectionEnabled?e("span",{staticClass:"masthead-istio"},[e("i",{directives:[{name:"clean-tooltip",rawName:"v-clean-tooltip",value:t.t("projectNamespaces.isIstioInjectionEnabled"),expression:"t('projectNamespaces.isIstioInjectionEnabled')"}],staticClass:"icon icon-sm icon-istio"})]):t._e()],1)]),t._v(" "),t.isCreate?t._e():e("div",{staticClass:"subheader"},[t.isNamespace&&t.project?e("span",[t._v(t._s(t.t("resourceDetail.masthead.project"))+": "),e("router-link",{attrs:{to:t.project.detailLocation}},[t._v(t._s(t.project.nameDisplay))])],1):t.isWorkspace?e("span",[t._v(t._s(t.t("resourceDetail.masthead.workspace"))+": "),e("router-link",{attrs:{to:t.workspaceLocation}},[t._v(t._s(t.namespace))])],1):t.namespace&&!t.hasMultipleNamespaces?e("span",[t._v("\n          "+t._s(t.t("resourceDetail.masthead.namespace"))+":\n          "),t.hideNamespaceLocation?e("span",[t._v("\n            "+t._s(t.namespace)+"\n          ")]):e("router-link",{attrs:{to:t.namespaceLocation,"data-testid":"masthead-subheader-namespace"}},[t._v("\n            "+t._s(t.namespace)+"\n          ")])],1):t._e(),t._v(" "),t.parent.showAge?e("span",[t._v(t._s(t.t("resourceDetail.masthead.age"))+": "),e("LiveDate",{staticClass:"live-date",attrs:{value:t.value.creationTimestamp}})],1):t._e(),t._v(" "),t.value.showPodRestarts?e("span",[t._v(t._s(t.t("resourceDetail.masthead.restartCount"))+":"),e("span",{staticClass:"live-data"},[t._v(" "+t._s(t.value.restartCount))])]):t._e()])]),t._v(" "),t._t("right",(function(){return[e("div",{staticClass:"actions-container align-start"},[e("div",{staticClass:"actions"},[t.detailsAction&&t.currentView===t.DETAIL_VIEW&&t.isView?e("button",{staticClass:"btn role-primary actions mr-10",attrs:{type:"button",disabled:!t.detailsAction.enabled},on:{click:t.invokeDetailsAction}},[t._v("\n            "+t._s(t.detailsAction.label)+"\n          ")]):t._e(),t._v(" "),t.showSensitiveToggle?e("ButtonGroup",{staticClass:"mr-10",attrs:{value:!!t.hideSensitiveData,"icon-size":"lg",options:t.sensitiveOptions},on:{input:t.toggleSensitiveData}}):t._e(),t._v(" "),t.viewOptions&&t.isView?e("ButtonGroup",{staticClass:"mr-10",attrs:{options:t.viewOptions},model:{value:t.currentView,callback:function(e){t.currentView=e},expression:"currentView"}}):t._e(),t._v(" "),t.isView?e("button",{ref:"actions",staticClass:"btn role-multi-action actions",attrs:{"aria-haspopup":"true",type:"button"},on:{click:t.showActions}},[e("i",{staticClass:"icon icon-actions"})]):t._e()],1)])]}))],2),t._v(" "),e("ExtensionPanel",{attrs:{resource:t.value,type:t.extensionType,location:t.extensionLocation}}),t._v(" "),t.banner&&t.isView&&!t.parent.hideBanner?e("Banner",{staticClass:"state-banner mb-10",attrs:{color:t.banner.color,label:t.banner.message}}):t._e(),t._v(" "),t.managedWarning.show?e("Banner",{staticClass:"mb-20",attrs:{color:"warning",label:t.t("resourceDetail.masthead.managedWarning",t.managedWarning)}}):t._e(),t._v(" "),t._t("default")],2)},v=[],m=n("ade3"),y=(n("b0c0"),n("a4d3"),n("4de4"),n("d3b7"),n("e439"),n("159b"),n("dbb4"),n("7388")),_=n("5557"),g=n("4297"),w=n("bec1"),x=n("de78"),b=n("ee21"),A=n("e528"),k=n("2004"),N=n("e9fc"),C=n("ead0");function E(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function M(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?E(Object(n),!0).forEach((function(e){Object(m["a"])(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var S={name:"MastheadResourceDetail",components:{BadgeState:g["a"],Banner:w["a"],ButtonGroup:_["a"],ExtensionPanel:N["a"],TabTitle:C["a"]},props:{value:{type:Object,default:function(){return{}}},mode:{type:String,default:"create"},realMode:{type:String,default:"create"},as:{type:String,default:h["W"]},hasGraph:{type:Boolean,default:!1},hasDetail:{type:Boolean,default:!1},hasEdit:{type:Boolean,default:!1},storeOverride:{type:String,default:null},resource:{type:String,default:null},resourceSubtype:{type:String,default:null},parentRouteOverride:{type:String,default:null}},data:function(){return{DETAIL_VIEW:h["N"],extensionType:k["c"].PANEL,extensionLocation:k["d"].DETAILS_MASTHEAD}},computed:{schema:function(){var t=this.storeOverride||this.$store.getters["currentStore"](this.resource);return this.$store.getters["".concat(t,"/schemaFor")](this.resource)},isView:function(){return this.mode===h["V"]},isEdit:function(){return this.mode===h["O"]},isCreate:function(){return this.mode===h["M"]},isNamespace:function(){var t;return(null===(t=this.schema)||void 0===t?void 0:t.id)===f["I"]},isProject:function(){var t;return(null===(t=this.schema)||void 0===t?void 0:t.id)===f["F"].PROJECT},isProjectHelmChart:function(){var t;return(null===(t=this.schema)||void 0===t?void 0:t.id)===f["v"].PROJECTHELMCHART},hasMultipleNamespaces:function(){return!!this.value.namespaces},namespace:function(){var t,e,n,r;return null!==(t=this.value)&&void 0!==t&&null!==(e=t.metadata)&&void 0!==e&&e.namespace?null===(n=this.value)||void 0===n||null===(r=n.metadata)||void 0===r?void 0:r.namespace:null},detailsAction:function(){var t;return null===(t=this.value)||void 0===t?void 0:t.detailsAction},shouldHifenize:function(){var t,e,n;return("view"===this.mode||"edit"===this.mode)&&(null===(t=this.resourceSubtype)||void 0===t?void 0:t.length)&&(null===(e=this.value)||void 0===e||null===(n=e.nameDisplay)||void 0===n?void 0:n.length)},namespaceLocation:function(){return this.isNamespace?null:this.value.namespaceLocation||{name:"c-cluster-product-resource-id",params:{cluster:this.$route.params.cluster,product:this.$store.getters["productId"],resource:f["I"],id:this.$route.params.namespace}}},isWorkspace:function(){var t,e;return this.$store.getters["productId"]===b["NAME"]&&!(null===(t=this.value)||void 0===t||null===(e=t.metadata)||void 0===e||!e.namespace)},workspaceLocation:function(){return{name:"c-cluster-product-resource-id",params:{cluster:this.$route.params.cluster,product:this.$store.getters["productId"],resource:f["r"].WORKSPACE,id:this.$route.params.namespace}}},project:function(){if(this.isNamespace){var t=this.$store.getters["currentCluster"];if(t){var e,n,r=((null===(e=this.value)||void 0===e||null===(n=e.metadata)||void 0===n?void 0:n.labels)||{})[y["y"]];return this.$store.getters["management/byId"](f["F"].PROJECT,"".concat(t.id,"/").concat(r))}}return null},banner:function(){var t,e,n,r,i,a;if(null!==(t=this.value)&&void 0!==t&&null!==(e=t.stateObj)&&void 0!==e&&e.error){var o=this.t("resourceDetail.masthead.defaultBannerMessage.error",void 0,!0);return{color:"error",message:this.value.stateObj.message||o}}if(null!==(n=this.value)&&void 0!==n&&null!==(r=n.spec)&&void 0!==r&&r.paused)return{color:"info",message:this.t("asyncButton.pause.description")};if(null!==(i=this.value)&&void 0!==i&&null!==(a=i.stateObj)&&void 0!==a&&a.transitioning){var s=this.t("resourceDetail.masthead.defaultBannerMessage.transitioning",void 0,!0);return{color:"info",message:this.value.stateObj.message||s}}return null},parent:function(){var t,e,n=(null===(t=this.value)||void 0===t?void 0:t.parentNameOverride)||this.$store.getters["type-map/labelFor"](this.schema),r=this.$store.getters["currentProduct"].name,i={name:"c-cluster-product-resource",params:{resource:this.resource,product:r}},a=(null===(e=this.value)||void 0===e?void 0:e.parentLocationOverride)||i;this.parentRouteOverride&&(a.name=this.parentRouteOverride);var o=this.$store.getters["type-map/optionsFor"](this.resource),s=M({displayName:n,location:a},o);return s},hideSensitiveData:function(){return this.$store.getters["prefs/get"](A["HIDE_SENSITIVE"])},sensitiveOptions:function(){return[{tooltipKey:"resourceDetail.masthead.sensitive.hide",icon:"icon-hide",value:!0},{tooltipKey:"resourceDetail.masthead.sensitive.show",icon:"icon-show",value:!1}]},viewOptions:function(){var t,e=[];return this.hasDetail&&e.push({labelKey:"resourceDetail.masthead.detail",value:h["N"]}),this.hasEdit&&!1!==(null===(t=this.parent)||void 0===t?void 0:t.showConfigView)&&e.push({labelKey:"resourceDetail.masthead.config",value:h["L"]}),this.hasGraph&&e.push({labelKey:"resourceDetail.masthead.graph",value:h["Q"]}),this.canViewYaml&&e.push({labelKey:"resourceDetail.masthead.yaml",value:h["W"]}),e.length<2?null:e},currentView:{get:function(){return this.as},set:function(t){var e,n,r,i;switch(t){case h["N"]:this.$router.applyQuery((e={},Object(m["a"])(e,h["u"],h["U"]),Object(m["a"])(e,h["a"],h["U"]),e));break;case h["L"]:this.$router.applyQuery((n={},Object(m["a"])(n,h["u"],h["U"]),Object(m["a"])(n,h["a"],h["L"]),n));break;case h["Q"]:this.$router.applyQuery((r={},Object(m["a"])(r,h["u"],h["U"]),Object(m["a"])(r,h["a"],h["Q"]),r));break;case h["W"]:this.$router.applyQuery((i={},Object(m["a"])(i,h["u"],h["U"]),Object(m["a"])(i,h["a"],h["W"]),i));break}}},showSensitiveToggle:function(){return!!this.value.hasSensitiveData&&this.mode===h["V"]&&this.as!==h["W"]},managedWarning:function(){var t,e=this.value,n=(null===e||void 0===e||null===(t=e.metadata)||void 0===t?void 0:t.labels)||{},r=n[y["r"].MANAGED_BY]||"",i=n[y["r"].MANAGED_NAME]||n[y["r"].INSTANCE]||"";return{show:this.mode===h["O"]&&!!r,type:(null===e||void 0===e?void 0:e.kind)||"",hasName:i?"yes":"no",appName:i,managedBy:r}},displayName:function(){var t=this.value.nameDisplay;return this.isProjectHelmChart&&(t=this.value.projectDisplayName),this.shouldHifenize?" - ".concat(t):t},location:function(){var t=this.parent;return null===t||void 0===t?void 0:t.location},hideNamespaceLocation:function(){return this.$store.getters["currentProduct"].hideNamespaceLocation||null===this.value.namespaceLocation}},methods:{get:x["get"],showActions:function(){this.$store.commit("action-menu/show",{resources:this.value,elem:this.$refs.actions})},toggleSensitiveData:function(t){this.$store.dispatch("prefs/set",{key:A["HIDE_SENSITIVE"],value:!!t})},invokeDetailsAction:function(){var t=this.detailsAction;if(t){var e=this.value[t.action];e&&e.apply(this.value,[])}}}},D=S,O=(n("e247"),n("0c7c")),T=Object(O["a"])(D,p,v,!1,null,"f3071dc4",null),j=T.exports,L=(n("e01a"),function(){var t=this,e=t._self._c;return e("div",{staticClass:"detail-top",class:{empty:t.isEmpty}},[t.hasNamespaces?e("div",{staticClass:"labels"},[e("span",{staticClass:"label"},[t._v("\n      "+t._s(t.t("resourceDetail.detailTop.namespaces"))+":\n    ")]),t._v(" "),e("span",t._l(t.namespaces,(function(n){return e("router-link",{key:n.name,staticClass:"namespaceLinkList",attrs:{to:n.detailLocation}},[t._v("\n        "+t._s(n.name)+"\n      ")])})),1)]):t._e(),t._v(" "),t.description?e("div",{staticClass:"description"},[e("span",{staticClass:"label"},[t._v("\n      "+t._s(t.t("resourceDetail.detailTop.description"))+":\n    ")]),t._v(" "),e("span",{staticClass:"content"},[t._v(t._s(t.description))])]):t._e(),t._v(" "),t.hasDetails?e("div",t._l(t.details,(function(n,r){return e("div",{key:r,staticClass:"details"},t._l(n,(function(n){return e("div",{key:n.label||n.slotName,staticClass:"detail"},[e("span",{staticClass:"label"},[t._v("\n          "+t._s(n.label)+":\n        ")]),t._v(" "),n.formatter?e(n.formatter,t._b({tag:"component",attrs:{value:n.content}},"component",n.formatterOpts,!1)):e("span",[t._v(t._s(n.content))])],1)})),0)})),0):t._e(),t._v(" "),t.hasLabels?e("div",{staticClass:"labels"},[e("div",{staticClass:"tags"},[e("span",{staticClass:"label"},[t._v("\n        "+t._s(t.t("resourceDetail.detailTop.labels"))+":\n      ")]),t._v(" "),t._l(t.labels,(function(n,r){return e("Tag",{key:r+n},[t.internalIcons[r]?e("i",{staticClass:"icon",class:t.internalIcons[r]}):t._e(),t._v(" "),t.internalTooltips[r]?e("span",{directives:[{name:"clean-tooltip",rawName:"v-clean-tooltip",value:n?"".concat(r," : ").concat(n):r,expression:"prop ? `${key} : ${prop}` : key"}]},[e("span",[t._v(t._s(t.internalTooltips[r]?t.internalTooltips[r]:r))]),t._v(" "),t.showAllLabels?e("span",[t._v(": "+t._s(r))]):t._e()]):e("span",[t._v(t._s(n?"".concat(r," : ").concat(n):r))])])})),t._v(" "),t.showFilteredSystemLabels?e("a",{staticClass:"detail-top__label-button",attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.toggleLabels.apply(null,arguments)}}},[t._v("\n        "+t._s(t.t("resourceDetail.detailTop.".concat(t.showAllLabels?"hideLabels":"showLabels")))+"\n      ")]):t._e()],2)]):t._e(),t._v(" "),t.hasAnnotations?e("div",{staticClass:"annotations"},[e("span",{staticClass:"label"},[t._v("\n      "+t._s(t.t("resourceDetail.detailTop.annotations"))+":\n    ")]),t._v(" "),e("a",{attrs:{href:"#"},on:{click:function(e){return e.preventDefault(),t.toggleAnnotations.apply(null,arguments)}}},[t._v("\n      "+t._s(t.t("resourceDetail.detailTop.".concat(t.annotationsVisible?"hideAnnotations":"showAnnotations"),{annotations:t.annotationCount}))+"\n    ")]),t._v(" "),t.annotationsVisible?e("div",t._l(t.annotations,(function(t,n){return e("DetailText",{key:n,staticClass:"annotation",attrs:{value:t,label:n}})})),1):t._e()]):t._e(),t._v(" "),e("ExtensionPanel",{attrs:{resource:t.value,type:t.extensionType,location:t.extensionLocation}})],1)}),P=[],I=n("2909"),z=(n("d81d"),n("d73c")),$=n("13ea"),R=n.n($),V=n("a4062"),q={components:{DetailText:V["a"],Tag:z["a"],ExtensionPanel:N["a"]},props:{value:{type:Object,default:function(){return{}}},moreDetails:{type:Array,default:function(){return[]}},tooltips:{type:Object,default:function(){return{}}},icons:{type:Object,default:function(){return{}}}},data:function(){return{extensionType:k["c"].PANEL,extensionLocation:k["d"].DETAIL_TOP,annotationsVisible:!1,showAllLabels:!1,view:h["V"]}},computed:{namespaces:function(){var t;return((null===(t=this.value)||void 0===t?void 0:t.namespaces)||[]).map((function(t){var e;return{name:null===t||void 0===t||null===(e=t.metadata)||void 0===e?void 0:e.name,detailLocation:t.detailLocation}}))},details:function(){var t,e=[].concat(Object(I["a"])(this.moreDetails||[]),Object(I["a"])((null===(t=this.value)||void 0===t?void 0:t.details)||[])).filter((function(t){return t.separator||!!"".concat(t.content)&&void 0!==t.content&&null!==t.content})),n=[],r=[];return e.forEach((function(t){t.separator?(n.push(r),r=[]):r.push(t)})),r.length&&n.push(r),n},labels:function(){var t,e;return this.showFilteredSystemLabels?null===(t=this.value)||void 0===t?void 0:t.filteredSystemLabels:(null===(e=this.value)||void 0===e?void 0:e.labels)||{}},internalTooltips:function(){var t;return(null===(t=this.value)||void 0===t?void 0:t.detailTopTooltips)||this.tooltips},internalIcons:function(){var t;return(null===(t=this.value)||void 0===t?void 0:t.detailTopIcons)||this.icons},annotations:function(){var t;return(null===(t=this.value)||void 0===t?void 0:t.annotations)||{}},description:function(){var t;return null===(t=this.value)||void 0===t?void 0:t.description},hasDetails:function(){return!R()(this.details)},hasLabels:function(){return!R()(this.labels)},hasAnnotations:function(){return!R()(this.annotations)},hasDescription:function(){return!R()(this.description)},hasNamespaces:function(){return!R()(this.namespaces)},annotationCount:function(){return Object.keys(this.annotations||{}).length},isEmpty:function(){var t=this.hasDetails||this.hasLabels||this.hasAnnotations||this.hasDescription||this.hasNamespaces;return!t},showFilteredSystemLabels:function(){var t,e;if(null!==(t=this.value)&&void 0!==t&&t.labels&&null!==(e=this.value)&&void 0!==e&&e.filteredSystemLabels){var n=Object.keys(this.value.labels).length,r=Object.keys(this.value.filteredSystemLabels).length;return n!==r}return!1}},methods:{toggleLabels:function(){this.showAllLabels=!this.showAllLabels},toggleAnnotations:function(t){this.annotationsVisible=!this.annotationsVisible}}},B=q,F=(n("e237"),Object(O["a"])(B,L,P,!1,null,null,null)),X=F.exports,Y=n("2678"),H=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"chart-container",attrs:{"data-testid":"gitrepo_graph"}},[t.isChartFirstRenderAnimationFinished?t._e():e("div",{staticClass:"loading-container"},[e("p",{directives:[{name:"show",rawName:"v-show",value:!t.isChartFirstRendered,expression:"!isChartFirstRendered"}]},[t._v("\n        "+t._s(t.t("fleet.fdc.loadingChart"))+"\n      ")]),t._v(" "),e("p",{directives:[{name:"show",rawName:"v-show",value:t.isChartFirstRendered&&!t.isChartFirstRenderAnimationFinished,expression:"isChartFirstRendered && !isChartFirstRenderAnimationFinished"}]},[t._v("\n        "+t._s(t.t("fleet.fdc.renderingChart"))+"\n      ")]),t._v(" "),e("i",{staticClass:"mt-10 icon-spinner icon-spin"})]),t._v(" "),e("div",{attrs:{id:"tree"}}),t._v(" "),e("div",{staticClass:"more-info-container"},[e("div",{staticClass:"more-info"},[e("table",t._l(t.moreInfo,(function(n,r){return e("tr",{key:r},["single-error"!==n.type?e("td",{class:{"align-middle":"state-badge"===n.type}},[e("span",{staticClass:"more-info-item-label"},[t._v(t._s(t.t(n.labelKey))+":")])]):t._e(),t._v(" "),"title-link"===n.type?e("td",[n.valueObj.detailLocation?e("span",[e("router-link",{attrs:{to:n.valueObj.detailLocation}},[t._v("\n                  "+t._s(n.valueObj.id)+"\n                ")])],1):e("span",[t._v(t._s(n.valueObj.id))])]):"state-badge"===n.type?e("td",{staticClass:"align-middle"},[e("span",[e("BadgeState",{staticClass:"state-bagde",attrs:{color:"bg-".concat(n.valueObj.stateColor),label:n.valueObj.stateLabel}})],1)]):t._e(),t._v(" "),"single-error"===n.type?e("td",{staticClass:"single-error",attrs:{colspan:"2"}},[e("p",[t._v(t._s(n.value))])]):e("td",[t._v("\n              "+t._s(n.value)+"\n            ")])])})),0)])])])])},W=[],U=(n("c740"),n("9911"),n("a15b"),n("cca6"),{value:()=>{}});function G(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new K(r)}function K(t){this._=t}function Q(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function Z(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function J(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=U,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}K.prototype=G.prototype={constructor:K,on:function(t,e){var n,r=this._,i=Q(t+"",r),a=-1,o=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!==typeof e)throw new Error("invalid callback: "+e);while(++a<o)if(n=(t=i[a]).type)r[n]=J(r[n],t.name,e);else if(null==e)for(n in r)r[n]=J(r[n],t.name,null);return this}while(++a<o)if((n=(t=i[a]).type)&&(n=Z(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new K(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),a=0;a<n;++a)i[a]=arguments[a+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(r=this._[t],a=0,n=r.length;a<n;++a)r[a].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(e,n)}};var tt=G;function et(){}var nt=function(t){return null==t?et:function(){return this.querySelector(t)}},rt=function(t){"function"!==typeof t&&(t=nt(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a,o,s=e[i],u=s.length,l=r[i]=new Array(u),c=0;c<u;++c)(a=s[c])&&(o=t.call(a,a.__data__,c,s))&&("__data__"in a&&(o.__data__=a.__data__),l[c]=o);return new Qe(r,this._parents)};function it(t){return null==t?[]:Array.isArray(t)?t:Array.from(t)}function at(){return[]}var ot=function(t){return null==t?at:function(){return this.querySelectorAll(t)}};function st(t){return function(){return it(t.apply(this,arguments))}}var ut=function(t){t="function"===typeof t?st(t):ot(t);for(var e=this._groups,n=e.length,r=[],i=[],a=0;a<n;++a)for(var o,s=e[a],u=s.length,l=0;l<u;++l)(o=s[l])&&(r.push(t.call(o,o.__data__,l,s)),i.push(o));return new Qe(r,i)},lt=function(t){return function(){return this.matches(t)}};function ct(t){return function(e){return e.matches(t)}}var ht=Array.prototype.find;function ft(t){return function(){return ht.call(this.children,t)}}function dt(){return this.firstElementChild}var pt=function(t){return this.select(null==t?dt:ft("function"===typeof t?t:ct(t)))},vt=Array.prototype.filter;function mt(){return Array.from(this.children)}function yt(t){return function(){return vt.call(this.children,t)}}var _t=function(t){return this.selectAll(null==t?mt:yt("function"===typeof t?t:ct(t)))},gt=function(t){"function"!==typeof t&&(t=lt(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a,o=e[i],s=o.length,u=r[i]=[],l=0;l<s;++l)(a=o[l])&&t.call(a,a.__data__,l,o)&&u.push(a);return new Qe(r,this._parents)},wt=function(t){return new Array(t.length)},xt=function(){return new Qe(this._enter||this._groups.map(wt),this._parents)};function bt(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}bt.prototype={constructor:bt,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var At=function(t){return function(){return t}};function kt(t,e,n,r,i,a){for(var o,s=0,u=e.length,l=a.length;s<l;++s)(o=e[s])?(o.__data__=a[s],r[s]=o):n[s]=new bt(t,a[s]);for(;s<u;++s)(o=e[s])&&(i[s]=o)}function Nt(t,e,n,r,i,a,o){var s,u,l,c=new Map,h=e.length,f=a.length,d=new Array(h);for(s=0;s<h;++s)(u=e[s])&&(d[s]=l=o.call(u,u.__data__,s,e)+"",c.has(l)?i[s]=u:c.set(l,u));for(s=0;s<f;++s)l=o.call(t,a[s],s,a)+"",(u=c.get(l))?(r[s]=u,u.__data__=a[s],c.delete(l)):n[s]=new bt(t,a[s]);for(s=0;s<h;++s)(u=e[s])&&c.get(d[s])===u&&(i[s]=u)}function Ct(t){return t.__data__}var Et=function(t,e){if(!arguments.length)return Array.from(this,Ct);var n=e?Nt:kt,r=this._parents,i=this._groups;"function"!==typeof t&&(t=At(t));for(var a=i.length,o=new Array(a),s=new Array(a),u=new Array(a),l=0;l<a;++l){var c=r[l],h=i[l],f=h.length,d=Mt(t.call(c,c&&c.__data__,l,r)),p=d.length,v=s[l]=new Array(p),m=o[l]=new Array(p),y=u[l]=new Array(f);n(c,h,v,m,y,d,e);for(var _,g,w=0,x=0;w<p;++w)if(_=v[w]){w>=x&&(x=w+1);while(!(g=m[x])&&++x<p);_._next=g||null}}return o=new Qe(o,r),o._enter=s,o._exit=u,o};function Mt(t){return"object"===typeof t&&"length"in t?t:Array.from(t)}var St=function(){return new Qe(this._exit||this._groups.map(wt),this._parents)},Dt=function(t,e,n){var r=this.enter(),i=this,a=this.exit();return"function"===typeof t?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),null!=e&&(i=e(i),i&&(i=i.selection())),null==n?a.remove():n(a),r&&i?r.merge(i).order():i},Ot=function(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,a=r.length,o=Math.min(i,a),s=new Array(i),u=0;u<o;++u)for(var l,c=n[u],h=r[u],f=c.length,d=s[u]=new Array(f),p=0;p<f;++p)(l=c[p]||h[p])&&(d[p]=l);for(;u<i;++u)s[u]=n[u];return new Qe(s,this._parents)},Tt=function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],a=i.length-1,o=i[a];--a>=0;)(r=i[a])&&(o&&4^r.compareDocumentPosition(o)&&o.parentNode.insertBefore(r,o),o=r);return this},jt=function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=Lt);for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var o,s=n[a],u=s.length,l=i[a]=new Array(u),c=0;c<u;++c)(o=s[c])&&(l[c]=o);l.sort(e)}return new Qe(i,this._parents).order()};function Lt(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}var Pt=function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},It=function(){return Array.from(this)},zt=function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null},$t=function(){let t=0;for(const e of this)++t;return t},Rt=function(){return!this.node()},Vt=function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,a=e[n],o=0,s=a.length;o<s;++o)(i=a[o])&&t.call(i,i.__data__,o,a);return this},qt="http://www.w3.org/1999/xhtml",Bt={svg:"http://www.w3.org/2000/svg",xhtml:qt,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Ft=function(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),Bt.hasOwnProperty(e)?{space:Bt[e],local:t}:t};function Xt(t){return function(){this.removeAttribute(t)}}function Yt(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Ht(t,e){return function(){this.setAttribute(t,e)}}function Wt(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Ut(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function Gt(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}var Kt=function(t,e){var n=Ft(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?Yt:Xt:"function"===typeof e?n.local?Gt:Ut:n.local?Wt:Ht)(n,e))},Qt=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};function Zt(t){return function(){this.style.removeProperty(t)}}function Jt(t,e,n){return function(){this.style.setProperty(t,e,n)}}function te(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}var ee=function(t,e,n){return arguments.length>1?this.each((null==e?Zt:"function"===typeof e?te:Jt)(t,e,null==n?"":n)):ne(this.node(),t)};function ne(t,e){return t.style.getPropertyValue(e)||Qt(t).getComputedStyle(t,null).getPropertyValue(e)}function re(t){return function(){delete this[t]}}function ie(t,e){return function(){this[t]=e}}function ae(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}var oe=function(t,e){return arguments.length>1?this.each((null==e?re:"function"===typeof e?ae:ie)(t,e)):this.node()[t]};function se(t){return t.trim().split(/^|\s+/)}function ue(t){return t.classList||new le(t)}function le(t){this._node=t,this._names=se(t.getAttribute("class")||"")}function ce(t,e){var n=ue(t),r=-1,i=e.length;while(++r<i)n.add(e[r])}function he(t,e){var n=ue(t),r=-1,i=e.length;while(++r<i)n.remove(e[r])}function fe(t){return function(){ce(this,t)}}function de(t){return function(){he(this,t)}}function pe(t,e){return function(){(e.apply(this,arguments)?ce:he)(this,t)}}le.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var ve=function(t,e){var n=se(t+"");if(arguments.length<2){var r=ue(this.node()),i=-1,a=n.length;while(++i<a)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"===typeof e?pe:e?fe:de)(n,e))};function me(){this.textContent=""}function ye(t){return function(){this.textContent=t}}function _e(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}var ge=function(t){return arguments.length?this.each(null==t?me:("function"===typeof t?_e:ye)(t)):this.node().textContent};function we(){this.innerHTML=""}function xe(t){return function(){this.innerHTML=t}}function be(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}var Ae=function(t){return arguments.length?this.each(null==t?we:("function"===typeof t?be:xe)(t)):this.node().innerHTML};function ke(){this.nextSibling&&this.parentNode.appendChild(this)}var Ne=function(){return this.each(ke)};function Ce(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}var Ee=function(){return this.each(Ce)};function Me(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===qt&&e.documentElement.namespaceURI===qt?e.createElement(t):e.createElementNS(n,t)}}function Se(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}var De=function(t){var e=Ft(t);return(e.local?Se:Me)(e)},Oe=function(t){var e="function"===typeof t?t:De(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))};function Te(){return null}var je=function(t,e){var n="function"===typeof t?t:De(t),r=null==e?Te:"function"===typeof e?e:nt(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))};function Le(){var t=this.parentNode;t&&t.removeChild(this)}var Pe=function(){return this.each(Le)};function Ie(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function ze(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}var $e=function(t){return this.select(t?ze:Ie)},Re=function(t){return arguments.length?this.property("__data__",t):this.node().__data__};function Ve(t){return function(e){t.call(this,e,this.__data__)}}function qe(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function Be(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,a=e.length;r<a;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.options);++i?e.length=i:delete this.__on}}}function Fe(t,e,n){return function(){var r,i=this.__on,a=Ve(e);if(i)for(var o=0,s=i.length;o<s;++o)if((r=i[o]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=a,r.options=n),void(r.value=e);this.addEventListener(t.type,a,n),r={type:t.type,name:t.name,value:e,listener:a,options:n},i?i.push(r):this.__on=[r]}}var Xe=function(t,e,n){var r,i,a=qe(t+""),o=a.length;if(!(arguments.length<2)){for(s=e?Fe:Be,r=0;r<o;++r)this.each(s(a[r],e,n));return this}var s=this.node().__on;if(s)for(var u,l=0,c=s.length;l<c;++l)for(r=0,u=s[l];r<o;++r)if((i=a[r]).type===u.type&&i.name===u.name)return u.value};function Ye(t,e,n){var r=Qt(t),i=r.CustomEvent;"function"===typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function He(t,e){return function(){return Ye(this,t,e)}}function We(t,e){return function(){return Ye(this,t,e.apply(this,arguments))}}var Ue=function(t,e){return this.each(("function"===typeof e?We:He)(t,e))},Ge=function*(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r,i=t[e],a=0,o=i.length;a<o;++a)(r=i[a])&&(yield r)},Ke=[null];function Qe(t,e){this._groups=t,this._parents=e}function Ze(){return new Qe([[document.documentElement]],Ke)}function Je(){return this}Qe.prototype=Ze.prototype={constructor:Qe,select:rt,selectAll:ut,selectChild:pt,selectChildren:_t,filter:gt,data:Et,enter:xt,exit:St,join:Dt,merge:Ot,selection:Je,order:Tt,sort:jt,call:Pt,nodes:It,node:zt,size:$t,empty:Rt,each:Vt,attr:Kt,style:ee,property:oe,classed:ve,text:ge,html:Ae,raise:Ne,lower:Ee,append:Oe,insert:je,remove:Pe,clone:$e,datum:Re,on:Xe,dispatch:Ue,[Symbol.iterator]:Ge};var tn=Ze;var en=function(t,e,n){t.prototype=e.prototype=n,n.constructor=t};function nn(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function rn(){}var an=.7,on=1/an,sn="\\s*([+-]?\\d+)\\s*",un="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ln="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",cn=/^#([0-9a-f]{3,8})$/,hn=new RegExp(`^rgb\\(${sn},${sn},${sn}\\)$`),fn=new RegExp(`^rgb\\(${ln},${ln},${ln}\\)$`),dn=new RegExp(`^rgba\\(${sn},${sn},${sn},${un}\\)$`),pn=new RegExp(`^rgba\\(${ln},${ln},${ln},${un}\\)$`),vn=new RegExp(`^hsl\\(${un},${ln},${ln}\\)$`),mn=new RegExp(`^hsla\\(${un},${ln},${ln},${un}\\)$`),yn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function _n(){return this.rgb().formatHex()}function gn(){return this.rgb().formatHex8()}function wn(){return Pn(this).formatHsl()}function xn(){return this.rgb().formatRgb()}function bn(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=cn.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?An(e):3===n?new En(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?kn(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?kn(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=hn.exec(t))?new En(e[1],e[2],e[3],1):(e=fn.exec(t))?new En(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=dn.exec(t))?kn(e[1],e[2],e[3],e[4]):(e=pn.exec(t))?kn(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=vn.exec(t))?Ln(e[1],e[2]/100,e[3]/100,1):(e=mn.exec(t))?Ln(e[1],e[2]/100,e[3]/100,e[4]):yn.hasOwnProperty(t)?An(yn[t]):"transparent"===t?new En(NaN,NaN,NaN,0):null}function An(t){return new En(t>>16&255,t>>8&255,255&t,1)}function kn(t,e,n,r){return r<=0&&(t=e=n=NaN),new En(t,e,n,r)}function Nn(t){return t instanceof rn||(t=bn(t)),t?(t=t.rgb(),new En(t.r,t.g,t.b,t.opacity)):new En}function Cn(t,e,n,r){return 1===arguments.length?Nn(t):new En(t,e,n,null==r?1:r)}function En(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function Mn(){return`#${jn(this.r)}${jn(this.g)}${jn(this.b)}`}function Sn(){return`#${jn(this.r)}${jn(this.g)}${jn(this.b)}${jn(255*(isNaN(this.opacity)?1:this.opacity))}`}function Dn(){const t=On(this.opacity);return`${1===t?"rgb(":"rgba("}${Tn(this.r)}, ${Tn(this.g)}, ${Tn(this.b)}${1===t?")":`, ${t})`}`}function On(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Tn(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function jn(t){return t=Tn(t),(t<16?"0":"")+t.toString(16)}function Ln(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new zn(t,e,n,r)}function Pn(t){if(t instanceof zn)return new zn(t.h,t.s,t.l,t.opacity);if(t instanceof rn||(t=bn(t)),!t)return new zn;if(t instanceof zn)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,s=a-i,u=(a+i)/2;return s?(o=e===a?(n-r)/s+6*(n<r):n===a?(r-e)/s+2:(e-n)/s+4,s/=u<.5?a+i:2-a-i,o*=60):s=u>0&&u<1?0:o,new zn(o,s,u,t.opacity)}function In(t,e,n,r){return 1===arguments.length?Pn(t):new zn(t,e,n,null==r?1:r)}function zn(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function $n(t){return t=(t||0)%360,t<0?t+360:t}function Rn(t){return Math.max(0,Math.min(1,t||0))}function Vn(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}function qn(t,e,n,r,i){var a=t*t,o=a*t;return((1-3*t+3*a-o)*e+(4-6*a+3*o)*n+(1+3*t+3*a-3*o)*r+o*i)/6}en(rn,bn,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:_n,formatHex:_n,formatHex8:gn,formatHsl:wn,formatRgb:xn,toString:xn}),en(En,Cn,nn(rn,{brighter(t){return t=null==t?on:Math.pow(on,t),new En(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?an:Math.pow(an,t),new En(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new En(Tn(this.r),Tn(this.g),Tn(this.b),On(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Mn,formatHex:Mn,formatHex8:Sn,formatRgb:Dn,toString:Dn})),en(zn,In,nn(rn,{brighter(t){return t=null==t?on:Math.pow(on,t),new zn(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?an:Math.pow(an,t),new zn(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new En(Vn(t>=240?t-240:t+120,i,r),Vn(t,i,r),Vn(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new zn($n(this.h),Rn(this.s),Rn(this.l),On(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=On(this.opacity);return`${1===t?"hsl(":"hsla("}${$n(this.h)}, ${100*Rn(this.s)}%, ${100*Rn(this.l)}%${1===t?")":`, ${t})`}`}}));var Bn=function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],a=t[r+1],o=r>0?t[r-1]:2*i-a,s=r<e-1?t[r+2]:2*a-i;return qn((n-r/e)*e,o,i,a,s)}},Fn=function(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],a=t[r%e],o=t[(r+1)%e],s=t[(r+2)%e];return qn((n-r/e)*e,i,a,o,s)}},Xn=t=>()=>t;function Yn(t,e){return function(n){return t+n*e}}function Hn(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Wn(t){return 1===(t=+t)?Un:function(e,n){return n-e?Hn(e,n,t):Xn(isNaN(e)?n:e)}}function Un(t,e){var n=e-t;return n?Yn(t,n):Xn(isNaN(t)?e:t)}var Gn=function t(e){var n=Wn(e);function r(t,e){var r=n((t=Cn(t)).r,(e=Cn(e)).r),i=n(t.g,e.g),a=n(t.b,e.b),o=Un(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=a(e),t.opacity=o(e),t+""}}return r.gamma=t,r}(1);function Kn(t){return function(e){var n,r,i=e.length,a=new Array(i),o=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=Cn(e[n]),a[n]=r.r||0,o[n]=r.g||0,s[n]=r.b||0;return a=t(a),o=t(o),s=t(s),r.opacity=1,function(t){return r.r=a(t),r.g=o(t),r.b=s(t),r+""}}}Kn(Bn),Kn(Fn);var Qn=function(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}},Zn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Jn=new RegExp(Zn.source,"g");function tr(t){return function(){return t}}function er(t){return function(e){return t(e)+""}}var nr,rr,ir=function(t,e){var n,r,i,a=Zn.lastIndex=Jn.lastIndex=0,o=-1,s=[],u=[];t+="",e+="";while((n=Zn.exec(t))&&(r=Jn.exec(e)))(i=r.index)>a&&(i=e.slice(a,i),s[o]?s[o]+=i:s[++o]=i),(n=n[0])===(r=r[0])?s[o]?s[o]+=r:s[++o]=r:(s[++o]=null,u.push({i:o,x:Qn(n,r)})),a=Jn.lastIndex;return a<e.length&&(i=e.slice(a),s[o]?s[o]+=i:s[++o]=i),s.length<2?u[0]?er(u[0].x):tr(e):(e=u.length,function(t){for(var n,r=0;r<e;++r)s[(n=u[r]).i]=n.x(t);return s.join("")})},ar=0,or=0,sr=0,ur=1e3,lr=0,cr=0,hr=0,fr="object"===typeof performance&&performance.now?performance:Date,dr="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function pr(){return cr||(dr(vr),cr=fr.now()+hr)}function vr(){cr=0}function mr(){this._call=this._time=this._next=null}function yr(t,e,n){var r=new mr;return r.restart(t,e,n),r}function _r(){pr(),++ar;var t,e=nr;while(e)(t=cr-e._time)>=0&&e._call.call(void 0,t),e=e._next;--ar}function gr(){cr=(lr=fr.now())+hr,ar=or=0;try{_r()}finally{ar=0,xr(),cr=0}}function wr(){var t=fr.now(),e=t-lr;e>ur&&(hr-=e,lr=t)}function xr(){var t,e,n=nr,r=1/0;while(n)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:nr=e);rr=t,br(r)}function br(t){if(!ar){or&&(or=clearTimeout(or));var e=t-cr;e>24?(t<1/0&&(or=setTimeout(gr,t-fr.now()-hr)),sr&&(sr=clearInterval(sr))):(sr||(lr=fr.now(),sr=setInterval(wr,ur)),ar=1,dr(gr))}}mr.prototype=yr.prototype={constructor:mr,restart:function(t,e,n){if("function"!==typeof t)throw new TypeError("callback is not a function");n=(null==n?pr():+n)+(null==e?0:+e),this._next||rr===this||(rr?rr._next=this:nr=this,rr=this),this._call=t,this._time=n,br()},stop:function(){this._call&&(this._call=null,this._time=1/0,br())}};var Ar=function(t,e,n){var r=new mr;return e=null==e?0:+e,r.restart(n=>{r.stop(),t(n+e)},e,n),r},kr=tt("start","end","cancel","interrupt"),Nr=[],Cr=0,Er=1,Mr=2,Sr=3,Dr=4,Or=5,Tr=6,jr=function(t,e,n,r,i,a){var o=t.__transition;if(o){if(n in o)return}else t.__transition={};zr(t,n,{name:e,index:r,group:i,on:kr,tween:Nr,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:Cr})};function Lr(t,e){var n=Ir(t,e);if(n.state>Cr)throw new Error("too late; already scheduled");return n}function Pr(t,e){var n=Ir(t,e);if(n.state>Sr)throw new Error("too late; already running");return n}function Ir(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function zr(t,e,n){var r,i=t.__transition;function a(t){n.state=Er,n.timer.restart(o,n.delay,n.time),n.delay<=t&&o(t-n.delay)}function o(a){var l,c,h,f;if(n.state!==Er)return u();for(l in i)if(f=i[l],f.name===n.name){if(f.state===Sr)return Ar(o);f.state===Dr?(f.state=Tr,f.timer.stop(),f.on.call("interrupt",t,t.__data__,f.index,f.group),delete i[l]):+l<e&&(f.state=Tr,f.timer.stop(),f.on.call("cancel",t,t.__data__,f.index,f.group),delete i[l])}if(Ar((function(){n.state===Sr&&(n.state=Dr,n.timer.restart(s,n.delay,n.time),s(a))})),n.state=Mr,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Mr){for(n.state=Sr,r=new Array(h=n.tween.length),l=0,c=-1;l<h;++l)(f=n.tween[l].value.call(t,t.__data__,n.index,n.group))&&(r[++c]=f);r.length=c+1}}function s(e){var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(u),n.state=Or,1),a=-1,o=r.length;while(++a<o)r[a].call(t,i);n.state===Or&&(n.on.call("end",t,t.__data__,n.index,n.group),u())}function u(){for(var r in n.state=Tr,n.timer.stop(),delete i[e],i)return;delete t.__transition}i[e]=n,n.timer=yr(a,0,n.time)}var $r,Rr=function(t,e){var n,r,i,a=t.__transition,o=!0;if(a){for(i in e=null==e?null:e+"",a)(n=a[i]).name===e?(r=n.state>Mr&&n.state<Or,n.state=Tr,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete a[i]):o=!1;o&&delete t.__transition}},Vr=function(t){return this.each((function(){Rr(this,t)}))},qr=180/Math.PI,Br={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},Fr=function(t,e,n,r,i,a){var o,s,u;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,u/=s),t*r<e*n&&(t=-t,e=-e,u=-u,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(e,t)*qr,skewX:Math.atan(u)*qr,scaleX:o,scaleY:s}};function Xr(t){const e=new("function"===typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Br:Fr(e.a,e.b,e.c,e.d,e.e,e.f)}function Yr(t){return null==t?Br:($r||($r=document.createElementNS("http://www.w3.org/2000/svg","g")),$r.setAttribute("transform",t),(t=$r.transform.baseVal.consolidate())?(t=t.matrix,Fr(t.a,t.b,t.c,t.d,t.e,t.f)):Br)}function Hr(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}function a(t,r,i,a,o,s){if(t!==i||r!==a){var u=o.push("translate(",null,e,null,n);s.push({i:u-4,x:Qn(t,i)},{i:u-2,x:Qn(r,a)})}else(i||a)&&o.push("translate("+i+e+a+n)}function o(t,e,n,a){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),a.push({i:n.push(i(n)+"rotate(",null,r)-2,x:Qn(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}function s(t,e,n,a){t!==e?a.push({i:n.push(i(n)+"skewX(",null,r)-2,x:Qn(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}function u(t,e,n,r,a,o){if(t!==n||e!==r){var s=a.push(i(a)+"scale(",null,",",null,")");o.push({i:s-4,x:Qn(t,n)},{i:s-2,x:Qn(e,r)})}else 1===n&&1===r||a.push(i(a)+"scale("+n+","+r+")")}return function(e,n){var r=[],i=[];return e=t(e),n=t(n),a(e.translateX,e.translateY,n.translateX,n.translateY,r,i),o(e.rotate,n.rotate,r,i),s(e.skewX,n.skewX,r,i),u(e.scaleX,e.scaleY,n.scaleX,n.scaleY,r,i),e=n=null,function(t){var e,n=-1,a=i.length;while(++n<a)r[(e=i[n]).i]=e.x(t);return r.join("")}}}var Wr=Hr(Xr,"px, ","px)","deg)"),Ur=Hr(Yr,", ",")",")");function Gr(t,e){var n,r;return function(){var i=Pr(this,t),a=i.tween;if(a!==n){r=n=a;for(var o=0,s=r.length;o<s;++o)if(r[o].name===e){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function Kr(t,e,n){var r,i;if("function"!==typeof n)throw new Error;return function(){var a=Pr(this,t),o=a.tween;if(o!==r){i=(r=o).slice();for(var s={name:e,value:n},u=0,l=i.length;u<l;++u)if(i[u].name===e){i[u]=s;break}u===l&&i.push(s)}a.tween=i}}var Qr=function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=Ir(this.node(),n).tween,a=0,o=i.length;a<o;++a)if((r=i[a]).name===t)return r.value;return null}return this.each((null==e?Gr:Kr)(n,t,e))};function Zr(t,e,n){var r=t._id;return t.each((function(){var t=Pr(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return Ir(t,r).value[e]}}var Jr=function(t,e){var n;return("number"===typeof e?Qn:e instanceof bn?Gn:(n=bn(e))?(e=n,Gn):ir)(t,e)};function ti(t){return function(){this.removeAttribute(t)}}function ei(t){return function(){this.removeAttributeNS(t.space,t.local)}}function ni(t,e,n){var r,i,a=n+"";return function(){var o=this.getAttribute(t);return o===a?null:o===r?i:i=e(r=o,n)}}function ri(t,e,n){var r,i,a=n+"";return function(){var o=this.getAttributeNS(t.space,t.local);return o===a?null:o===r?i:i=e(r=o,n)}}function ii(t,e,n){var r,i,a;return function(){var o,s,u=n(this);if(null!=u)return o=this.getAttribute(t),s=u+"",o===s?null:o===r&&s===i?a:(i=s,a=e(r=o,u));this.removeAttribute(t)}}function ai(t,e,n){var r,i,a;return function(){var o,s,u=n(this);if(null!=u)return o=this.getAttributeNS(t.space,t.local),s=u+"",o===s?null:o===r&&s===i?a:(i=s,a=e(r=o,u));this.removeAttributeNS(t.space,t.local)}}var oi=function(t,e){var n=Ft(t),r="transform"===n?Ur:Jr;return this.attrTween(t,"function"===typeof e?(n.local?ai:ii)(n,r,Zr(this,"attr."+t,e)):null==e?(n.local?ei:ti)(n):(n.local?ri:ni)(n,r,e))};function si(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function ui(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function li(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&ui(t,i)),n}return i._value=e,i}function ci(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&si(t,i)),n}return i._value=e,i}var hi=function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!==typeof e)throw new Error;var r=Ft(t);return this.tween(n,(r.local?li:ci)(r,e))};function fi(t,e){return function(){Lr(this,t).delay=+e.apply(this,arguments)}}function di(t,e){return e=+e,function(){Lr(this,t).delay=e}}var pi=function(t){var e=this._id;return arguments.length?this.each(("function"===typeof t?fi:di)(e,t)):Ir(this.node(),e).delay};function vi(t,e){return function(){Pr(this,t).duration=+e.apply(this,arguments)}}function mi(t,e){return e=+e,function(){Pr(this,t).duration=e}}var yi=function(t){var e=this._id;return arguments.length?this.each(("function"===typeof t?vi:mi)(e,t)):Ir(this.node(),e).duration};function _i(t,e){if("function"!==typeof e)throw new Error;return function(){Pr(this,t).ease=e}}var gi=function(t){var e=this._id;return arguments.length?this.each(_i(e,t)):Ir(this.node(),e).ease};function wi(t,e){return function(){var n=e.apply(this,arguments);if("function"!==typeof n)throw new Error;Pr(this,t).ease=n}}var xi=function(t){if("function"!==typeof t)throw new Error;return this.each(wi(this._id,t))},bi=function(t){"function"!==typeof t&&(t=lt(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a,o=e[i],s=o.length,u=r[i]=[],l=0;l<s;++l)(a=o[l])&&t.call(a,a.__data__,l,o)&&u.push(a);return new Qi(r,this._parents,this._name,this._id)},Ai=function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),o=new Array(r),s=0;s<a;++s)for(var u,l=e[s],c=n[s],h=l.length,f=o[s]=new Array(h),d=0;d<h;++d)(u=l[d]||c[d])&&(f[d]=u);for(;s<r;++s)o[s]=e[s];return new Qi(o,this._parents,this._name,this._id)};function ki(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}function Ni(t,e,n){var r,i,a=ki(e)?Lr:Pr;return function(){var o=a(this,t),s=o.on;s!==r&&(i=(r=s).copy()).on(e,n),o.on=i}}var Ci=function(t,e){var n=this._id;return arguments.length<2?Ir(this.node(),n).on.on(t):this.each(Ni(n,t,e))};function Ei(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}var Mi=function(){return this.on("end.remove",Ei(this._id))},Si=function(t){var e=this._name,n=this._id;"function"!==typeof t&&(t=nt(t));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var s,u,l=r[o],c=l.length,h=a[o]=new Array(c),f=0;f<c;++f)(s=l[f])&&(u=t.call(s,s.__data__,f,l))&&("__data__"in s&&(u.__data__=s.__data__),h[f]=u,jr(h[f],e,n,f,h,Ir(s,n)));return new Qi(a,this._parents,e,n)},Di=function(t){var e=this._name,n=this._id;"function"!==typeof t&&(t=ot(t));for(var r=this._groups,i=r.length,a=[],o=[],s=0;s<i;++s)for(var u,l=r[s],c=l.length,h=0;h<c;++h)if(u=l[h]){for(var f,d=t.call(u,u.__data__,h,l),p=Ir(u,n),v=0,m=d.length;v<m;++v)(f=d[v])&&jr(f,e,n,v,d,p);a.push(d),o.push(u)}return new Qi(a,o,e,n)},Oi=tn.prototype.constructor,Ti=function(){return new Oi(this._groups,this._parents)};function ji(t,e){var n,r,i;return function(){var a=ne(this,t),o=(this.style.removeProperty(t),ne(this,t));return a===o?null:a===n&&o===r?i:i=e(n=a,r=o)}}function Li(t){return function(){this.style.removeProperty(t)}}function Pi(t,e,n){var r,i,a=n+"";return function(){var o=ne(this,t);return o===a?null:o===r?i:i=e(r=o,n)}}function Ii(t,e,n){var r,i,a;return function(){var o=ne(this,t),s=n(this),u=s+"";return null==s&&(this.style.removeProperty(t),u=s=ne(this,t)),o===u?null:o===r&&u===i?a:(i=u,a=e(r=o,s))}}function zi(t,e){var n,r,i,a,o="style."+e,s="end."+o;return function(){var u=Pr(this,t),l=u.on,c=null==u.value[o]?a||(a=Li(e)):void 0;l===n&&i===c||(r=(n=l).copy()).on(s,i=c),u.on=r}}var $i=function(t,e,n){var r="transform"===(t+="")?Wr:Jr;return null==e?this.styleTween(t,ji(t,r)).on("end.style."+t,Li(t)):"function"===typeof e?this.styleTween(t,Ii(t,r,Zr(this,"style."+t,e))).each(zi(this._id,t)):this.styleTween(t,Pi(t,r,e),n).on("end.style."+t,null)};function Ri(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function Vi(t,e,n){var r,i;function a(){var a=e.apply(this,arguments);return a!==i&&(r=(i=a)&&Ri(t,a,n)),r}return a._value=e,a}var qi=function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!==typeof e)throw new Error;return this.tween(r,Vi(t,e,null==n?"":n))};function Bi(t){return function(){this.textContent=t}}function Fi(t){return function(){var e=t(this);this.textContent=null==e?"":e}}var Xi=function(t){return this.tween("text","function"===typeof t?Fi(Zr(this,"text",t)):Bi(null==t?"":t+""))};function Yi(t){return function(e){this.textContent=t.call(this,e)}}function Hi(t){var e,n;function r(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&Yi(r)),e}return r._value=t,r}var Wi=function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!==typeof t)throw new Error;return this.tween(e,Hi(t))},Ui=function(){for(var t=this._name,e=this._id,n=Ji(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o,s=r[a],u=s.length,l=0;l<u;++l)if(o=s[l]){var c=Ir(o,e);jr(o,t,n,l,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Qi(r,this._parents,t,n)},Gi=function(){var t,e,n=this,r=n._id,i=n.size();return new Promise((function(a,o){var s={value:o},u={value:function(){0===--i&&a()}};n.each((function(){var n=Pr(this,r),i=n.on;i!==t&&(e=(t=i).copy(),e._.cancel.push(s),e._.interrupt.push(s),e._.end.push(u)),n.on=e})),0===i&&a()}))},Ki=0;function Qi(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Zi(t){return tn().transition(t)}function Ji(){return++Ki}var ta=tn.prototype;function ea(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}Qi.prototype=Zi.prototype={constructor:Qi,select:Si,selectAll:Di,selectChild:ta.selectChild,selectChildren:ta.selectChildren,filter:bi,merge:Ai,selection:Ti,transition:Ui,call:ta.call,nodes:ta.nodes,node:ta.node,size:ta.size,empty:ta.empty,each:ta.each,on:Ci,attr:oi,attrTween:hi,style:$i,styleTween:qi,text:Xi,textTween:Wi,remove:Mi,tween:Qr,delay:pi,duration:yi,ease:gi,easeVarying:xi,end:Gi,[Symbol.iterator]:ta[Symbol.iterator]};var na={time:null,delay:0,duration:250,ease:ea};function ra(t,e){var n;while(!(n=t.__transition)||!(n=n[e]))if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}var ia=function(t){var e,n;t instanceof Qi?(e=t._id,t=t._name):(e=Ji(),(n=na).time=pr(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o,s=r[a],u=s.length,l=0;l<u;++l)(o=s[l])&&jr(o,t,e,l,s,n||ra(o,e));return new Qi(r,this._parents,t,e)};tn.prototype.interrupt=Vr,tn.prototype.transition=ia;const{abs:aa,max:oa,min:sa}=Math;function ua(t){return[+t[0],+t[1]]}function la(t){return[ua(t[0]),ua(t[1])]}["w","e"].map(ca),["n","s"].map(ca),["n","w","e","s","nw","ne","sw","se"].map(ca);function ca(t){return{type:t}}var ha={value:()=>{}};function fa(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new da(r)}function da(t){this._=t}function pa(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function va(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function ma(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=ha,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}da.prototype=fa.prototype={constructor:da,on:function(t,e){var n,r=this._,i=pa(t+"",r),a=-1,o=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!==typeof e)throw new Error("invalid callback: "+e);while(++a<o)if(n=(t=i[a]).type)r[n]=ma(r[n],t.name,e);else if(null==e)for(n in r)r[n]=ma(r[n],t.name,null);return this}while(++a<o)if((n=(t=i[a]).type)&&(n=va(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new da(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),a=0;a<n;++a)i[a]=arguments[a+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(r=this._[t],a=0,n=r.length;a<n;++a)r[a].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(e,n)}};var ya=fa;function _a(){}var ga=function(t){return null==t?_a:function(){return this.querySelector(t)}},wa=function(t){"function"!==typeof t&&(t=ga(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a,o,s=e[i],u=s.length,l=r[i]=new Array(u),c=0;c<u;++c)(a=s[c])&&(o=t.call(a,a.__data__,c,s))&&("__data__"in a&&(o.__data__=a.__data__),l[c]=o);return new vs(r,this._parents)};function xa(t){return null==t?[]:Array.isArray(t)?t:Array.from(t)}function ba(){return[]}var Aa=function(t){return null==t?ba:function(){return this.querySelectorAll(t)}};function ka(t){return function(){return xa(t.apply(this,arguments))}}var Na=function(t){t="function"===typeof t?ka(t):Aa(t);for(var e=this._groups,n=e.length,r=[],i=[],a=0;a<n;++a)for(var o,s=e[a],u=s.length,l=0;l<u;++l)(o=s[l])&&(r.push(t.call(o,o.__data__,l,s)),i.push(o));return new vs(r,i)},Ca=function(t){return function(){return this.matches(t)}};function Ea(t){return function(e){return e.matches(t)}}var Ma=Array.prototype.find;function Sa(t){return function(){return Ma.call(this.children,t)}}function Da(){return this.firstElementChild}var Oa=function(t){return this.select(null==t?Da:Sa("function"===typeof t?t:Ea(t)))},Ta=Array.prototype.filter;function ja(){return Array.from(this.children)}function La(t){return function(){return Ta.call(this.children,t)}}var Pa=function(t){return this.selectAll(null==t?ja:La("function"===typeof t?t:Ea(t)))},Ia=function(t){"function"!==typeof t&&(t=Ca(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a,o=e[i],s=o.length,u=r[i]=[],l=0;l<s;++l)(a=o[l])&&t.call(a,a.__data__,l,o)&&u.push(a);return new vs(r,this._parents)},za=function(t){return new Array(t.length)},$a=function(){return new vs(this._enter||this._groups.map(za),this._parents)};function Ra(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}Ra.prototype={constructor:Ra,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var Va=function(t){return function(){return t}};function qa(t,e,n,r,i,a){for(var o,s=0,u=e.length,l=a.length;s<l;++s)(o=e[s])?(o.__data__=a[s],r[s]=o):n[s]=new Ra(t,a[s]);for(;s<u;++s)(o=e[s])&&(i[s]=o)}function Ba(t,e,n,r,i,a,o){var s,u,l,c=new Map,h=e.length,f=a.length,d=new Array(h);for(s=0;s<h;++s)(u=e[s])&&(d[s]=l=o.call(u,u.__data__,s,e)+"",c.has(l)?i[s]=u:c.set(l,u));for(s=0;s<f;++s)l=o.call(t,a[s],s,a)+"",(u=c.get(l))?(r[s]=u,u.__data__=a[s],c.delete(l)):n[s]=new Ra(t,a[s]);for(s=0;s<h;++s)(u=e[s])&&c.get(d[s])===u&&(i[s]=u)}function Fa(t){return t.__data__}var Xa=function(t,e){if(!arguments.length)return Array.from(this,Fa);var n=e?Ba:qa,r=this._parents,i=this._groups;"function"!==typeof t&&(t=Va(t));for(var a=i.length,o=new Array(a),s=new Array(a),u=new Array(a),l=0;l<a;++l){var c=r[l],h=i[l],f=h.length,d=Ya(t.call(c,c&&c.__data__,l,r)),p=d.length,v=s[l]=new Array(p),m=o[l]=new Array(p),y=u[l]=new Array(f);n(c,h,v,m,y,d,e);for(var _,g,w=0,x=0;w<p;++w)if(_=v[w]){w>=x&&(x=w+1);while(!(g=m[x])&&++x<p);_._next=g||null}}return o=new vs(o,r),o._enter=s,o._exit=u,o};function Ya(t){return"object"===typeof t&&"length"in t?t:Array.from(t)}var Ha=function(){return new vs(this._exit||this._groups.map(za),this._parents)},Wa=function(t,e,n){var r=this.enter(),i=this,a=this.exit();return"function"===typeof t?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),null!=e&&(i=e(i),i&&(i=i.selection())),null==n?a.remove():n(a),r&&i?r.merge(i).order():i},Ua=function(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,a=r.length,o=Math.min(i,a),s=new Array(i),u=0;u<o;++u)for(var l,c=n[u],h=r[u],f=c.length,d=s[u]=new Array(f),p=0;p<f;++p)(l=c[p]||h[p])&&(d[p]=l);for(;u<i;++u)s[u]=n[u];return new vs(s,this._parents)},Ga=function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],a=i.length-1,o=i[a];--a>=0;)(r=i[a])&&(o&&4^r.compareDocumentPosition(o)&&o.parentNode.insertBefore(r,o),o=r);return this},Ka=function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=Qa);for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var o,s=n[a],u=s.length,l=i[a]=new Array(u),c=0;c<u;++c)(o=s[c])&&(l[c]=o);l.sort(e)}return new vs(i,this._parents).order()};function Qa(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}var Za=function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},Ja=function(){return Array.from(this)},to=function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null},eo=function(){let t=0;for(const e of this)++t;return t},no=function(){return!this.node()},ro=function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,a=e[n],o=0,s=a.length;o<s;++o)(i=a[o])&&t.call(i,i.__data__,o,a);return this},io="http://www.w3.org/1999/xhtml",ao={svg:"http://www.w3.org/2000/svg",xhtml:io,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},oo=function(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),ao.hasOwnProperty(e)?{space:ao[e],local:t}:t};function so(t){return function(){this.removeAttribute(t)}}function uo(t){return function(){this.removeAttributeNS(t.space,t.local)}}function lo(t,e){return function(){this.setAttribute(t,e)}}function co(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function ho(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function fo(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}var po=function(t,e){var n=oo(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?uo:so:"function"===typeof e?n.local?fo:ho:n.local?co:lo)(n,e))},vo=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};function mo(t){return function(){this.style.removeProperty(t)}}function yo(t,e,n){return function(){this.style.setProperty(t,e,n)}}function _o(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}var go=function(t,e,n){return arguments.length>1?this.each((null==e?mo:"function"===typeof e?_o:yo)(t,e,null==n?"":n)):wo(this.node(),t)};function wo(t,e){return t.style.getPropertyValue(e)||vo(t).getComputedStyle(t,null).getPropertyValue(e)}function xo(t){return function(){delete this[t]}}function bo(t,e){return function(){this[t]=e}}function Ao(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}var ko=function(t,e){return arguments.length>1?this.each((null==e?xo:"function"===typeof e?Ao:bo)(t,e)):this.node()[t]};function No(t){return t.trim().split(/^|\s+/)}function Co(t){return t.classList||new Eo(t)}function Eo(t){this._node=t,this._names=No(t.getAttribute("class")||"")}function Mo(t,e){var n=Co(t),r=-1,i=e.length;while(++r<i)n.add(e[r])}function So(t,e){var n=Co(t),r=-1,i=e.length;while(++r<i)n.remove(e[r])}function Do(t){return function(){Mo(this,t)}}function Oo(t){return function(){So(this,t)}}function To(t,e){return function(){(e.apply(this,arguments)?Mo:So)(this,t)}}Eo.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var jo=function(t,e){var n=No(t+"");if(arguments.length<2){var r=Co(this.node()),i=-1,a=n.length;while(++i<a)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"===typeof e?To:e?Do:Oo)(n,e))};function Lo(){this.textContent=""}function Po(t){return function(){this.textContent=t}}function Io(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}var zo=function(t){return arguments.length?this.each(null==t?Lo:("function"===typeof t?Io:Po)(t)):this.node().textContent};function $o(){this.innerHTML=""}function Ro(t){return function(){this.innerHTML=t}}function Vo(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}var qo=function(t){return arguments.length?this.each(null==t?$o:("function"===typeof t?Vo:Ro)(t)):this.node().innerHTML};function Bo(){this.nextSibling&&this.parentNode.appendChild(this)}var Fo=function(){return this.each(Bo)};function Xo(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}var Yo=function(){return this.each(Xo)};function Ho(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===io&&e.documentElement.namespaceURI===io?e.createElement(t):e.createElementNS(n,t)}}function Wo(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}var Uo=function(t){var e=oo(t);return(e.local?Wo:Ho)(e)},Go=function(t){var e="function"===typeof t?t:Uo(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))};function Ko(){return null}var Qo=function(t,e){var n="function"===typeof t?t:Uo(t),r=null==e?Ko:"function"===typeof e?e:ga(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))};function Zo(){var t=this.parentNode;t&&t.removeChild(this)}var Jo=function(){return this.each(Zo)};function ts(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function es(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}var ns=function(t){return this.select(t?es:ts)},rs=function(t){return arguments.length?this.property("__data__",t):this.node().__data__};function is(t){return function(e){t.call(this,e,this.__data__)}}function as(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function os(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,a=e.length;r<a;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.options);++i?e.length=i:delete this.__on}}}function ss(t,e,n){return function(){var r,i=this.__on,a=is(e);if(i)for(var o=0,s=i.length;o<s;++o)if((r=i[o]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=a,r.options=n),void(r.value=e);this.addEventListener(t.type,a,n),r={type:t.type,name:t.name,value:e,listener:a,options:n},i?i.push(r):this.__on=[r]}}var us=function(t,e,n){var r,i,a=as(t+""),o=a.length;if(!(arguments.length<2)){for(s=e?ss:os,r=0;r<o;++r)this.each(s(a[r],e,n));return this}var s=this.node().__on;if(s)for(var u,l=0,c=s.length;l<c;++l)for(r=0,u=s[l];r<o;++r)if((i=a[r]).type===u.type&&i.name===u.name)return u.value};function ls(t,e,n){var r=vo(t),i=r.CustomEvent;"function"===typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function cs(t,e){return function(){return ls(this,t,e)}}function hs(t,e){return function(){return ls(this,t,e.apply(this,arguments))}}var fs=function(t,e){return this.each(("function"===typeof e?hs:cs)(t,e))},ds=function*(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r,i=t[e],a=0,o=i.length;a<o;++a)(r=i[a])&&(yield r)},ps=[null];function vs(t,e){this._groups=t,this._parents=e}function ms(){return new vs([[document.documentElement]],ps)}function ys(){return this}vs.prototype=ms.prototype={constructor:vs,select:wa,selectAll:Na,selectChild:Oa,selectChildren:Pa,filter:Ia,data:Xa,enter:$a,exit:Ha,join:Wa,merge:Ua,selection:ys,order:Ga,sort:Ka,call:Za,nodes:Ja,node:to,size:eo,empty:no,each:ro,attr:po,style:go,property:ko,classed:jo,text:zo,html:qo,raise:Fo,lower:Yo,append:Go,insert:Qo,remove:Jo,clone:ns,datum:rs,on:us,dispatch:fs,[Symbol.iterator]:ds};var _s=ms,gs=function(t){return"string"===typeof t?new vs([[document.querySelector(t)]],[document.documentElement]):new vs([[t]],ps)},ws=function(t){let e;while(e=t.sourceEvent)t=e;return t},xs=function(t,e){if(t=ws(t),void 0===e&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]};const bs={passive:!1},As={capture:!0,passive:!1};function ks(t){t.stopImmediatePropagation()}var Ns=function(t){t.preventDefault(),t.stopImmediatePropagation()},Cs=function(t){var e=t.document.documentElement,n=gs(t).on("dragstart.drag",Ns,As);"onselectstart"in e?n.on("selectstart.drag",Ns,As):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")};function Es(t,e){var n=t.document.documentElement,r=gs(t).on("dragstart.drag",null);e&&(r.on("click.drag",Ns,As),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var Ms=t=>()=>t;function Ss(t,{sourceEvent:e,subject:n,target:r,identifier:i,active:a,x:o,y:s,dx:u,dy:l,dispatch:c}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:a,enumerable:!0,configurable:!0},x:{value:o,enumerable:!0,configurable:!0},y:{value:s,enumerable:!0,configurable:!0},dx:{value:u,enumerable:!0,configurable:!0},dy:{value:l,enumerable:!0,configurable:!0},_:{value:c}})}function Ds(t){return!t.ctrlKey&&!t.button}function Os(){return this.parentNode}function Ts(t,e){return null==e?{x:t.x,y:t.y}:e}function js(){return navigator.maxTouchPoints||"ontouchstart"in this}Ss.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var Ls=function(){var t,e,n,r,i=Ds,a=Os,o=Ts,s=js,u={},l=ya("start","drag","end"),c=0,h=0;function f(t){t.on("mousedown.drag",d).filter(s).on("touchstart.drag",m).on("touchmove.drag",y,bs).on("touchend.drag touchcancel.drag",_).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function d(o,s){if(!r&&i.call(this,o,s)){var u=g(this,a.call(this,o,s),o,s,"mouse");u&&(gs(o.view).on("mousemove.drag",p,As).on("mouseup.drag",v,As),Cs(o.view),ks(o),n=!1,t=o.clientX,e=o.clientY,u("start",o))}}function p(r){if(Ns(r),!n){var i=r.clientX-t,a=r.clientY-e;n=i*i+a*a>h}u.mouse("drag",r)}function v(t){gs(t.view).on("mousemove.drag mouseup.drag",null),Es(t.view,n),Ns(t),u.mouse("end",t)}function m(t,e){if(i.call(this,t,e)){var n,r,o=t.changedTouches,s=a.call(this,t,e),u=o.length;for(n=0;n<u;++n)(r=g(this,s,t,e,o[n].identifier,o[n]))&&(ks(t),r("start",t,o[n]))}}function y(t){var e,n,r=t.changedTouches,i=r.length;for(e=0;e<i;++e)(n=u[r[e].identifier])&&(Ns(t),n("drag",t,r[e]))}function _(t){var e,n,i=t.changedTouches,a=i.length;for(r&&clearTimeout(r),r=setTimeout((function(){r=null}),500),e=0;e<a;++e)(n=u[i[e].identifier])&&(ks(t),n("end",t,i[e]))}function g(t,e,n,r,i,a){var s,h,d,p=l.copy(),v=xs(a||n,e);if(null!=(d=o.call(t,new Ss("beforestart",{sourceEvent:n,target:f,identifier:i,active:c,x:v[0],y:v[1],dx:0,dy:0,dispatch:p}),r)))return s=d.x-v[0]||0,h=d.y-v[1]||0,function n(a,o,l){var m,y=v;switch(a){case"start":u[i]=n,m=c++;break;case"end":delete u[i],--c;case"drag":v=xs(l||o,e),m=c;break}p.call(a,t,new Ss(a,{sourceEvent:o,subject:d,target:f,identifier:i,active:m,x:v[0]+s,y:v[1]+h,dx:v[0]-y[0],dy:v[1]-y[1],dispatch:p}),r)}}return f.filter=function(t){return arguments.length?(i="function"===typeof t?t:Ms(!!t),f):i},f.container=function(t){return arguments.length?(a="function"===typeof t?t:Ms(t),f):a},f.subject=function(t){return arguments.length?(o="function"===typeof t?t:Ms(t),f):o},f.touchable=function(t){return arguments.length?(s="function"===typeof t?t:Ms(!!t),f):s},f.on=function(){var t=l.on.apply(l,arguments);return t===l?f:t},f.clickDistance=function(t){return arguments.length?(h=(t=+t)*t,f):Math.sqrt(h)},f},Ps=function(t,e){var n,r=1;function i(){var i,a,o=n.length,s=0,u=0;for(i=0;i<o;++i)a=n[i],s+=a.x,u+=a.y;for(s=(s/o-t)*r,u=(u/o-e)*r,i=0;i<o;++i)a=n[i],a.x-=s,a.y-=u}return null==t&&(t=0),null==e&&(e=0),i.initialize=function(t){n=t},i.x=function(e){return arguments.length?(t=+e,i):t},i.y=function(t){return arguments.length?(e=+t,i):e},i.strength=function(t){return arguments.length?(r=+t,i):r},i},Is=function(t){const e=+this._x.call(null,t),n=+this._y.call(null,t);return zs(this.cover(e,n),e,n,t)};function zs(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,a,o,s,u,l,c,h,f,d=t._root,p={data:r},v=t._x0,m=t._y0,y=t._x1,_=t._y1;if(!d)return t._root=p,t;while(d.length)if((l=e>=(a=(v+y)/2))?v=a:y=a,(c=n>=(o=(m+_)/2))?m=o:_=o,i=d,!(d=d[h=c<<1|l]))return i[h]=p,t;if(s=+t._x.call(null,d.data),u=+t._y.call(null,d.data),e===s&&n===u)return p.next=d,i?i[h]=p:t._root=p,t;do{i=i?i[h]=new Array(4):t._root=new Array(4),(l=e>=(a=(v+y)/2))?v=a:y=a,(c=n>=(o=(m+_)/2))?m=o:_=o}while((h=c<<1|l)===(f=(u>=o)<<1|s>=a));return i[f]=d,i[h]=p,t}function $s(t){var e,n,r,i,a=t.length,o=new Array(a),s=new Array(a),u=1/0,l=1/0,c=-1/0,h=-1/0;for(n=0;n<a;++n)isNaN(r=+this._x.call(null,e=t[n]))||isNaN(i=+this._y.call(null,e))||(o[n]=r,s[n]=i,r<u&&(u=r),r>c&&(c=r),i<l&&(l=i),i>h&&(h=i));if(u>c||l>h)return this;for(this.cover(u,l).cover(c,h),n=0;n<a;++n)zs(this,o[n],s[n],t[n]);return this}var Rs=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,a=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,a=(r=Math.floor(e))+1;else{var o,s,u=i-n||1,l=this._root;while(n>t||t>=i||r>e||e>=a)switch(s=(e<r)<<1|t<n,o=new Array(4),o[s]=l,l=o,u*=2,s){case 0:i=n+u,a=r+u;break;case 1:n=i-u,a=r+u;break;case 2:i=n+u,r=a-u;break;case 3:n=i-u,r=a-u;break}this._root&&this._root.length&&(this._root=l)}return this._x0=n,this._y0=r,this._x1=i,this._y1=a,this},Vs=function(){var t=[];return this.visit((function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)})),t},qs=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},Bs=function(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i},Fs=function(t,e,n){var r,i,a,o,s,u,l,c=this._x0,h=this._y0,f=this._x1,d=this._y1,p=[],v=this._root;v&&p.push(new Bs(v,c,h,f,d)),null==n?n=1/0:(c=t-n,h=e-n,f=t+n,d=e+n,n*=n);while(u=p.pop())if(!(!(v=u.node)||(i=u.x0)>f||(a=u.y0)>d||(o=u.x1)<c||(s=u.y1)<h))if(v.length){var m=(i+o)/2,y=(a+s)/2;p.push(new Bs(v[3],m,y,o,s),new Bs(v[2],i,y,m,s),new Bs(v[1],m,a,o,y),new Bs(v[0],i,a,m,y)),(l=(e>=y)<<1|t>=m)&&(u=p[p.length-1],p[p.length-1]=p[p.length-1-l],p[p.length-1-l]=u)}else{var _=t-+this._x.call(null,v.data),g=e-+this._y.call(null,v.data),w=_*_+g*g;if(w<n){var x=Math.sqrt(n=w);c=t-x,h=e-x,f=t+x,d=e+x,r=v.data}}return r},Xs=function(t){if(isNaN(a=+this._x.call(null,t))||isNaN(o=+this._y.call(null,t)))return this;var e,n,r,i,a,o,s,u,l,c,h,f,d=this._root,p=this._x0,v=this._y0,m=this._x1,y=this._y1;if(!d)return this;if(d.length)while(1){if((l=a>=(s=(p+m)/2))?p=s:m=s,(c=o>=(u=(v+y)/2))?v=u:y=u,e=d,!(d=d[h=c<<1|l]))return this;if(!d.length)break;(e[h+1&3]||e[h+2&3]||e[h+3&3])&&(n=e,f=h)}while(d.data!==t)if(r=d,!(d=d.next))return this;return(i=d.next)&&delete d.next,r?(i?r.next=i:delete r.next,this):e?(i?e[h]=i:delete e[h],(d=e[0]||e[1]||e[2]||e[3])&&d===(e[3]||e[2]||e[1]||e[0])&&!d.length&&(n?n[f]=d:this._root=d),this):(this._root=i,this)};function Ys(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this}var Hs=function(){return this._root},Ws=function(){var t=0;return this.visit((function(e){if(!e.length)do{++t}while(e=e.next)})),t},Us=function(t){var e,n,r,i,a,o,s=[],u=this._root;u&&s.push(new Bs(u,this._x0,this._y0,this._x1,this._y1));while(e=s.pop())if(!t(u=e.node,r=e.x0,i=e.y0,a=e.x1,o=e.y1)&&u.length){var l=(r+a)/2,c=(i+o)/2;(n=u[3])&&s.push(new Bs(n,l,c,a,o)),(n=u[2])&&s.push(new Bs(n,r,c,l,o)),(n=u[1])&&s.push(new Bs(n,l,i,a,c)),(n=u[0])&&s.push(new Bs(n,r,i,l,c))}return this},Gs=function(t){var e,n=[],r=[];this._root&&n.push(new Bs(this._root,this._x0,this._y0,this._x1,this._y1));while(e=n.pop()){var i=e.node;if(i.length){var a,o=e.x0,s=e.y0,u=e.x1,l=e.y1,c=(o+u)/2,h=(s+l)/2;(a=i[0])&&n.push(new Bs(a,o,s,c,h)),(a=i[1])&&n.push(new Bs(a,c,s,u,h)),(a=i[2])&&n.push(new Bs(a,o,h,c,l)),(a=i[3])&&n.push(new Bs(a,c,h,u,l))}r.push(e)}while(e=r.pop())t(e.node,e.x0,e.y0,e.x1,e.y1);return this};function Ks(t){return t[0]}var Qs=function(t){return arguments.length?(this._x=t,this):this._x};function Zs(t){return t[1]}var Js=function(t){return arguments.length?(this._y=t,this):this._y};function tu(t,e,n){var r=new eu(null==e?Ks:e,null==n?Zs:n,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function eu(t,e,n,r,i,a){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=a,this._root=void 0}function nu(t){var e={data:t.data},n=e;while(t=t.next)n=n.next={data:t.data};return e}var ru=tu.prototype=eu.prototype;ru.copy=function(){var t,e,n=new eu(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=nu(r),n;t=[{source:r,target:n._root=new Array(4)}];while(r=t.pop())for(var i=0;i<4;++i)(e=r.source[i])&&(e.length?t.push({source:e,target:r.target[i]=new Array(4)}):r.target[i]=nu(e));return n},ru.add=Is,ru.addAll=$s,ru.cover=Rs,ru.data=Vs,ru.extent=qs,ru.find=Fs,ru.remove=Xs,ru.removeAll=Ys,ru.root=Hs,ru.size=Ws,ru.visit=Us,ru.visitAfter=Gs,ru.x=Qs,ru.y=Js;var iu=function(t){return function(){return t}},au=function(t){return 1e-6*(t()-.5)};function ou(t){return t.x+t.vx}function su(t){return t.y+t.vy}var uu=function(t){var e,n,r,i=1,a=1;function o(){for(var t,o,u,l,c,h,f,d=e.length,p=0;p<a;++p)for(o=tu(e,ou,su).visitAfter(s),t=0;t<d;++t)u=e[t],h=n[u.index],f=h*h,l=u.x+u.vx,c=u.y+u.vy,o.visit(v);function v(t,e,n,a,o){var s=t.data,d=t.r,p=h+d;if(!s)return e>l+p||a<l-p||n>c+p||o<c-p;if(s.index>u.index){var v=l-s.x-s.vx,m=c-s.y-s.vy,y=v*v+m*m;y<p*p&&(0===v&&(v=au(r),y+=v*v),0===m&&(m=au(r),y+=m*m),y=(p-(y=Math.sqrt(y)))/y*i,u.vx+=(v*=y)*(p=(d*=d)/(f+d)),u.vy+=(m*=y)*p,s.vx-=v*(p=1-p),s.vy-=m*p)}}}function s(t){if(t.data)return t.r=n[t.data.index];for(var e=t.r=0;e<4;++e)t[e]&&t[e].r>t.r&&(t.r=t[e].r)}function u(){if(e){var r,i,a=e.length;for(n=new Array(a),r=0;r<a;++r)i=e[r],n[i.index]=+t(i,r,e)}}return"function"!==typeof t&&(t=iu(null==t?1:+t)),o.initialize=function(t,n){e=t,r=n,u()},o.iterations=function(t){return arguments.length?(a=+t,o):a},o.strength=function(t){return arguments.length?(i=+t,o):i},o.radius=function(e){return arguments.length?(t="function"===typeof e?e:iu(+e),u(),o):t},o};function lu(t){return t.index}function cu(t,e){var n=t.get(e);if(!n)throw new Error("node not found: "+e);return n}var hu=function(t){var e,n,r,i,a,o,s=lu,u=h,l=iu(30),c=1;function h(t){return 1/Math.min(i[t.source.index],i[t.target.index])}function f(r){for(var i=0,s=t.length;i<c;++i)for(var u,l,h,f,d,p,v,m=0;m<s;++m)u=t[m],l=u.source,h=u.target,f=h.x+h.vx-l.x-l.vx||au(o),d=h.y+h.vy-l.y-l.vy||au(o),p=Math.sqrt(f*f+d*d),p=(p-n[m])/p*r*e[m],f*=p,d*=p,h.vx-=f*(v=a[m]),h.vy-=d*v,l.vx+=f*(v=1-v),l.vy+=d*v}function d(){if(r){var o,u,l=r.length,c=t.length,h=new Map(r.map((t,e)=>[s(t,e,r),t]));for(o=0,i=new Array(l);o<c;++o)u=t[o],u.index=o,"object"!==typeof u.source&&(u.source=cu(h,u.source)),"object"!==typeof u.target&&(u.target=cu(h,u.target)),i[u.source.index]=(i[u.source.index]||0)+1,i[u.target.index]=(i[u.target.index]||0)+1;for(o=0,a=new Array(c);o<c;++o)u=t[o],a[o]=i[u.source.index]/(i[u.source.index]+i[u.target.index]);e=new Array(c),p(),n=new Array(c),v()}}function p(){if(r)for(var n=0,i=t.length;n<i;++n)e[n]=+u(t[n],n,t)}function v(){if(r)for(var e=0,i=t.length;e<i;++e)n[e]=+l(t[e],e,t)}return null==t&&(t=[]),f.initialize=function(t,e){r=t,o=e,d()},f.links=function(e){return arguments.length?(t=e,d(),f):t},f.id=function(t){return arguments.length?(s=t,f):s},f.iterations=function(t){return arguments.length?(c=+t,f):c},f.strength=function(t){return arguments.length?(u="function"===typeof t?t:iu(+t),p(),f):u},f.distance=function(t){return arguments.length?(l="function"===typeof t?t:iu(+t),v(),f):l},f},fu={value:()=>{}};function du(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new pu(r)}function pu(t){this._=t}function vu(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function mu(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function yu(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=fu,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}pu.prototype=du.prototype={constructor:pu,on:function(t,e){var n,r=this._,i=vu(t+"",r),a=-1,o=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!==typeof e)throw new Error("invalid callback: "+e);while(++a<o)if(n=(t=i[a]).type)r[n]=yu(r[n],t.name,e);else if(null==e)for(n in r)r[n]=yu(r[n],t.name,null);return this}while(++a<o)if((n=(t=i[a]).type)&&(n=mu(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new pu(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),a=0;a<n;++a)i[a]=arguments[a+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(r=this._[t],a=0,n=r.length;a<n;++a)r[a].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(e,n)}};var _u,gu,wu=du,xu=0,bu=0,Au=0,ku=1e3,Nu=0,Cu=0,Eu=0,Mu="object"===typeof performance&&performance.now?performance:Date,Su="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Du(){return Cu||(Su(Ou),Cu=Mu.now()+Eu)}function Ou(){Cu=0}function Tu(){this._call=this._time=this._next=null}function ju(t,e,n){var r=new Tu;return r.restart(t,e,n),r}function Lu(){Du(),++xu;var t,e=_u;while(e)(t=Cu-e._time)>=0&&e._call.call(void 0,t),e=e._next;--xu}function Pu(){Cu=(Nu=Mu.now())+Eu,xu=bu=0;try{Lu()}finally{xu=0,zu(),Cu=0}}function Iu(){var t=Mu.now(),e=t-Nu;e>ku&&(Eu-=e,Nu=t)}function zu(){var t,e,n=_u,r=1/0;while(n)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:_u=e);gu=t,$u(r)}function $u(t){if(!xu){bu&&(bu=clearTimeout(bu));var e=t-Cu;e>24?(t<1/0&&(bu=setTimeout(Pu,t-Mu.now()-Eu)),Au&&(Au=clearInterval(Au))):(Au||(Nu=Mu.now(),Au=setInterval(Iu,ku)),xu=1,Su(Pu))}}Tu.prototype=ju.prototype={constructor:Tu,restart:function(t,e,n){if("function"!==typeof t)throw new TypeError("callback is not a function");n=(null==n?Du():+n)+(null==e?0:+e),this._next||gu===this||(gu?gu._next=this:_u=this,gu=this),this._call=t,this._time=n,$u()},stop:function(){this._call&&(this._call=null,this._time=1/0,$u())}};const Ru=1664525,Vu=1013904223,qu=4294967296;var Bu=function(){let t=1;return()=>(t=(Ru*t+Vu)%qu)/qu};function Fu(t){return t.x}function Xu(t){return t.y}var Yu=10,Hu=Math.PI*(3-Math.sqrt(5)),Wu=function(t){var e,n=1,r=.001,i=1-Math.pow(r,1/300),a=0,o=.6,s=new Map,u=ju(h),l=wu("tick","end"),c=Bu();function h(){f(),l.call("tick",e),n<r&&(u.stop(),l.call("end",e))}function f(r){var u,l,c=t.length;void 0===r&&(r=1);for(var h=0;h<r;++h)for(n+=(a-n)*i,s.forEach((function(t){t(n)})),u=0;u<c;++u)l=t[u],null==l.fx?l.x+=l.vx*=o:(l.x=l.fx,l.vx=0),null==l.fy?l.y+=l.vy*=o:(l.y=l.fy,l.vy=0);return e}function d(){for(var e,n=0,r=t.length;n<r;++n){if(e=t[n],e.index=n,null!=e.fx&&(e.x=e.fx),null!=e.fy&&(e.y=e.fy),isNaN(e.x)||isNaN(e.y)){var i=Yu*Math.sqrt(.5+n),a=n*Hu;e.x=i*Math.cos(a),e.y=i*Math.sin(a)}(isNaN(e.vx)||isNaN(e.vy))&&(e.vx=e.vy=0)}}function p(e){return e.initialize&&e.initialize(t,c),e}return null==t&&(t=[]),d(),e={tick:f,restart:function(){return u.restart(h),e},stop:function(){return u.stop(),e},nodes:function(n){return arguments.length?(t=n,d(),s.forEach(p),e):t},alpha:function(t){return arguments.length?(n=+t,e):n},alphaMin:function(t){return arguments.length?(r=+t,e):r},alphaDecay:function(t){return arguments.length?(i=+t,e):+i},alphaTarget:function(t){return arguments.length?(a=+t,e):a},velocityDecay:function(t){return arguments.length?(o=1-t,e):1-o},randomSource:function(t){return arguments.length?(c=t,s.forEach(p),e):c},force:function(t,n){return arguments.length>1?(null==n?s.delete(t):s.set(t,p(n)),e):s.get(t)},find:function(e,n,r){var i,a,o,s,u,l=0,c=t.length;for(null==r?r=1/0:r*=r,l=0;l<c;++l)s=t[l],i=e-s.x,a=n-s.y,o=i*i+a*a,o<r&&(u=s,r=o);return u},on:function(t,n){return arguments.length>1?(l.on(t,n),e):l.on(t)}}},Uu=function(){var t,e,n,r,i,a=iu(-30),o=1,s=1/0,u=.81;function l(n){var i,a=t.length,o=tu(t,Fu,Xu).visitAfter(h);for(r=n,i=0;i<a;++i)e=t[i],o.visit(f)}function c(){if(t){var e,n,r=t.length;for(i=new Array(r),e=0;e<r;++e)n=t[e],i[n.index]=+a(n,e,t)}}function h(t){var e,n,r,a,o,s=0,u=0;if(t.length){for(r=a=o=0;o<4;++o)(e=t[o])&&(n=Math.abs(e.value))&&(s+=e.value,u+=n,r+=n*e.x,a+=n*e.y);t.x=r/u,t.y=a/u}else{e=t,e.x=e.data.x,e.y=e.data.y;do{s+=i[e.data.index]}while(e=e.next)}t.value=s}function f(t,a,l,c){if(!t.value)return!0;var h=t.x-e.x,f=t.y-e.y,d=c-a,p=h*h+f*f;if(d*d/u<p)return p<s&&(0===h&&(h=au(n),p+=h*h),0===f&&(f=au(n),p+=f*f),p<o&&(p=Math.sqrt(o*p)),e.vx+=h*t.value*r/p,e.vy+=f*t.value*r/p),!0;if(!(t.length||p>=s)){(t.data!==e||t.next)&&(0===h&&(h=au(n),p+=h*h),0===f&&(f=au(n),p+=f*f),p<o&&(p=Math.sqrt(o*p)));do{t.data!==e&&(d=i[t.data.index]*r/p,e.vx+=h*d,e.vy+=f*d)}while(t=t.next)}}return l.initialize=function(e,r){t=e,n=r,c()},l.strength=function(t){return arguments.length?(a="function"===typeof t?t:iu(+t),c(),l):a},l.distanceMin=function(t){return arguments.length?(o=t*t,l):Math.sqrt(o)},l.distanceMax=function(t){return arguments.length?(s=t*t,l):Math.sqrt(s)},l.theta=function(t){return arguments.length?(u=t*t,l):Math.sqrt(u)},l};function Gu(t){var e=0,n=t.children,r=n&&n.length;if(r)while(--r>=0)e+=n[r].value;else e=1;t.value=e}var Ku=function(){return this.eachAfter(Gu)},Qu=function(t,e){let n=-1;for(const r of this)t.call(e,r,++n,this);return this},Zu=function(t,e){var n,r,i=this,a=[i],o=-1;while(i=a.pop())if(t.call(e,i,++o,this),n=i.children)for(r=n.length-1;r>=0;--r)a.push(n[r]);return this},Ju=function(t,e){var n,r,i,a=this,o=[a],s=[],u=-1;while(a=o.pop())if(s.push(a),n=a.children)for(r=0,i=n.length;r<i;++r)o.push(n[r]);while(a=s.pop())t.call(e,a,++u,this);return this},tl=function(t,e){let n=-1;for(const r of this)if(t.call(e,r,++n,this))return r},el=function(t){return this.eachAfter((function(e){var n=+t(e.data)||0,r=e.children,i=r&&r.length;while(--i>=0)n+=r[i].value;e.value=n}))},nl=function(t){return this.eachBefore((function(e){e.children&&e.children.sort(t)}))},rl=function(t){var e=this,n=il(e,t),r=[e];while(e!==n)e=e.parent,r.push(e);var i=r.length;while(t!==n)r.splice(i,0,t),t=t.parent;return r};function il(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;t=n.pop(),e=r.pop();while(t===e)i=t,t=n.pop(),e=r.pop();return i}var al=function(){var t=this,e=[t];while(t=t.parent)e.push(t);return e},ol=function(){return Array.from(this)},sl=function(){var t=[];return this.eachBefore((function(e){e.children||t.push(e)})),t},ul=function(){var t=this,e=[];return t.each((function(n){n!==t&&e.push({source:n.parent,target:n})})),e},ll=function*(){var t,e,n,r,i=this,a=[i];do{t=a.reverse(),a=[];while(i=t.pop())if(yield i,e=i.children)for(n=0,r=e.length;n<r;++n)a.push(e[n])}while(a.length)};function cl(t,e){t instanceof Map?(t=[void 0,t],void 0===e&&(e=dl)):void 0===e&&(e=fl);var n,r,i,a,o,s=new ml(t),u=[s];while(n=u.pop())if((i=e(n.data))&&(o=(i=Array.from(i)).length))for(n.children=i,a=o-1;a>=0;--a)u.push(r=i[a]=new ml(i[a])),r.parent=n,r.depth=n.depth+1;return s.eachBefore(vl)}function hl(){return cl(this).eachBefore(pl)}function fl(t){return t.children}function dl(t){return Array.isArray(t)?t[1]:null}function pl(t){void 0!==t.data.value&&(t.value=t.data.value),t.data=t.data.data}function vl(t){var e=0;do{t.height=e}while((t=t.parent)&&t.height<++e)}function ml(t){this.data=t,this.depth=this.height=0,this.parent=null}ml.prototype=cl.prototype={constructor:ml,count:Ku,each:Qu,eachAfter:Ju,eachBefore:Zu,find:tl,sum:el,sort:nl,path:rl,ancestors:al,descendants:ol,leaves:sl,links:ul,copy:hl,[Symbol.iterator]:ll};var yl,_l,gl=0,wl=0,xl=0,bl=1e3,Al=0,kl=0,Nl=0,Cl="object"===typeof performance&&performance.now?performance:Date,El="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Ml(){return kl||(El(Sl),kl=Cl.now()+Nl)}function Sl(){kl=0}function Dl(){this._call=this._time=this._next=null}function Ol(t,e,n){var r=new Dl;return r.restart(t,e,n),r}function Tl(){Ml(),++gl;var t,e=yl;while(e)(t=kl-e._time)>=0&&e._call.call(void 0,t),e=e._next;--gl}function jl(){kl=(Al=Cl.now())+Nl,gl=wl=0;try{Tl()}finally{gl=0,Pl(),kl=0}}function Ll(){var t=Cl.now(),e=t-Al;e>bl&&(Nl-=e,Al=t)}function Pl(){var t,e,n=yl,r=1/0;while(n)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:yl=e);_l=t,Il(r)}function Il(t){if(!gl){wl&&(wl=clearTimeout(wl));var e=t-kl;e>24?(t<1/0&&(wl=setTimeout(jl,t-Cl.now()-Nl)),xl&&(xl=clearInterval(xl))):(xl||(Al=Cl.now(),xl=setInterval(Ll,bl)),gl=1,El(jl))}}Dl.prototype=Ol.prototype={constructor:Dl,restart:function(t,e,n){if("function"!==typeof t)throw new TypeError("callback is not a function");n=(null==n?Ml():+n)+(null==e?0:+e),this._next||_l===this||(_l?_l._next=this:yl=this,_l=this),this._call=t,this._time=n,Il()},stop:function(){this._call&&(this._call=null,this._time=1/0,Il())}};var zl=function(t,e,n){var r=new Dl;return e=null==e?0:+e,r.restart(n=>{r.stop(),t(n+e)},e,n),r},$l=ya("start","end","cancel","interrupt"),Rl=[],Vl=0,ql=1,Bl=2,Fl=3,Xl=4,Yl=5,Hl=6,Wl=function(t,e,n,r,i,a){var o=t.__transition;if(o){if(n in o)return}else t.__transition={};Ql(t,n,{name:e,index:r,group:i,on:$l,tween:Rl,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:Vl})};function Ul(t,e){var n=Kl(t,e);if(n.state>Vl)throw new Error("too late; already scheduled");return n}function Gl(t,e){var n=Kl(t,e);if(n.state>Fl)throw new Error("too late; already running");return n}function Kl(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Ql(t,e,n){var r,i=t.__transition;function a(t){n.state=ql,n.timer.restart(o,n.delay,n.time),n.delay<=t&&o(t-n.delay)}function o(a){var l,c,h,f;if(n.state!==ql)return u();for(l in i)if(f=i[l],f.name===n.name){if(f.state===Fl)return zl(o);f.state===Xl?(f.state=Hl,f.timer.stop(),f.on.call("interrupt",t,t.__data__,f.index,f.group),delete i[l]):+l<e&&(f.state=Hl,f.timer.stop(),f.on.call("cancel",t,t.__data__,f.index,f.group),delete i[l])}if(zl((function(){n.state===Fl&&(n.state=Xl,n.timer.restart(s,n.delay,n.time),s(a))})),n.state=Bl,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Bl){for(n.state=Fl,r=new Array(h=n.tween.length),l=0,c=-1;l<h;++l)(f=n.tween[l].value.call(t,t.__data__,n.index,n.group))&&(r[++c]=f);r.length=c+1}}function s(e){var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(u),n.state=Yl,1),a=-1,o=r.length;while(++a<o)r[a].call(t,i);n.state===Yl&&(n.on.call("end",t,t.__data__,n.index,n.group),u())}function u(){for(var r in n.state=Hl,n.timer.stop(),delete i[e],i)return;delete t.__transition}i[e]=n,n.timer=Ol(a,0,n.time)}var Zl,Jl=function(t,e){var n,r,i,a=t.__transition,o=!0;if(a){for(i in e=null==e?null:e+"",a)(n=a[i]).name===e?(r=n.state>Bl&&n.state<Yl,n.state=Hl,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete a[i]):o=!1;o&&delete t.__transition}},tc=function(t){return this.each((function(){Jl(this,t)}))},ec=function(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}},nc=180/Math.PI,rc={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},ic=function(t,e,n,r,i,a){var o,s,u;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,u/=s),t*r<e*n&&(t=-t,e=-e,u=-u,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(e,t)*nc,skewX:Math.atan(u)*nc,scaleX:o,scaleY:s}};function ac(t){const e=new("function"===typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?rc:ic(e.a,e.b,e.c,e.d,e.e,e.f)}function oc(t){return null==t?rc:(Zl||(Zl=document.createElementNS("http://www.w3.org/2000/svg","g")),Zl.setAttribute("transform",t),(t=Zl.transform.baseVal.consolidate())?(t=t.matrix,ic(t.a,t.b,t.c,t.d,t.e,t.f)):rc)}function sc(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}function a(t,r,i,a,o,s){if(t!==i||r!==a){var u=o.push("translate(",null,e,null,n);s.push({i:u-4,x:ec(t,i)},{i:u-2,x:ec(r,a)})}else(i||a)&&o.push("translate("+i+e+a+n)}function o(t,e,n,a){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),a.push({i:n.push(i(n)+"rotate(",null,r)-2,x:ec(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}function s(t,e,n,a){t!==e?a.push({i:n.push(i(n)+"skewX(",null,r)-2,x:ec(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}function u(t,e,n,r,a,o){if(t!==n||e!==r){var s=a.push(i(a)+"scale(",null,",",null,")");o.push({i:s-4,x:ec(t,n)},{i:s-2,x:ec(e,r)})}else 1===n&&1===r||a.push(i(a)+"scale("+n+","+r+")")}return function(e,n){var r=[],i=[];return e=t(e),n=t(n),a(e.translateX,e.translateY,n.translateX,n.translateY,r,i),o(e.rotate,n.rotate,r,i),s(e.skewX,n.skewX,r,i),u(e.scaleX,e.scaleY,n.scaleX,n.scaleY,r,i),e=n=null,function(t){var e,n=-1,a=i.length;while(++n<a)r[(e=i[n]).i]=e.x(t);return r.join("")}}}var uc=sc(ac,"px, ","px)","deg)"),lc=sc(oc,", ",")",")");function cc(t,e){var n,r;return function(){var i=Gl(this,t),a=i.tween;if(a!==n){r=n=a;for(var o=0,s=r.length;o<s;++o)if(r[o].name===e){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function hc(t,e,n){var r,i;if("function"!==typeof n)throw new Error;return function(){var a=Gl(this,t),o=a.tween;if(o!==r){i=(r=o).slice();for(var s={name:e,value:n},u=0,l=i.length;u<l;++u)if(i[u].name===e){i[u]=s;break}u===l&&i.push(s)}a.tween=i}}var fc=function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=Kl(this.node(),n).tween,a=0,o=i.length;a<o;++a)if((r=i[a]).name===t)return r.value;return null}return this.each((null==e?cc:hc)(n,t,e))};function dc(t,e,n){var r=t._id;return t.each((function(){var t=Gl(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return Kl(t,r).value[e]}}function pc(t,e,n,r,i){var a=t*t,o=a*t;return((1-3*t+3*a-o)*e+(4-6*a+3*o)*n+(1+3*t+3*a-3*o)*r+o*i)/6}var vc=function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],a=t[r+1],o=r>0?t[r-1]:2*i-a,s=r<e-1?t[r+2]:2*a-i;return pc((n-r/e)*e,o,i,a,s)}},mc=function(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],a=t[r%e],o=t[(r+1)%e],s=t[(r+2)%e];return pc((n-r/e)*e,i,a,o,s)}},yc=t=>()=>t;function _c(t,e){return function(n){return t+n*e}}function gc(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function wc(t){return 1===(t=+t)?xc:function(e,n){return n-e?gc(e,n,t):yc(isNaN(e)?n:e)}}function xc(t,e){var n=e-t;return n?_c(t,n):yc(isNaN(t)?e:t)}var bc=function t(e){var n=wc(e);function r(t,e){var r=n((t=Cn(t)).r,(e=Cn(e)).r),i=n(t.g,e.g),a=n(t.b,e.b),o=xc(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=a(e),t.opacity=o(e),t+""}}return r.gamma=t,r}(1);function Ac(t){return function(e){var n,r,i=e.length,a=new Array(i),o=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=Cn(e[n]),a[n]=r.r||0,o[n]=r.g||0,s[n]=r.b||0;return a=t(a),o=t(o),s=t(s),r.opacity=1,function(t){return r.r=a(t),r.g=o(t),r.b=s(t),r+""}}}Ac(vc),Ac(mc);var kc=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Nc=new RegExp(kc.source,"g");function Cc(t){return function(){return t}}function Ec(t){return function(e){return t(e)+""}}var Mc=function(t,e){var n,r,i,a=kc.lastIndex=Nc.lastIndex=0,o=-1,s=[],u=[];t+="",e+="";while((n=kc.exec(t))&&(r=Nc.exec(e)))(i=r.index)>a&&(i=e.slice(a,i),s[o]?s[o]+=i:s[++o]=i),(n=n[0])===(r=r[0])?s[o]?s[o]+=r:s[++o]=r:(s[++o]=null,u.push({i:o,x:ec(n,r)})),a=Nc.lastIndex;return a<e.length&&(i=e.slice(a),s[o]?s[o]+=i:s[++o]=i),s.length<2?u[0]?Ec(u[0].x):Cc(e):(e=u.length,function(t){for(var n,r=0;r<e;++r)s[(n=u[r]).i]=n.x(t);return s.join("")})},Sc=function(t,e){var n;return("number"===typeof e?ec:e instanceof bn?bc:(n=bn(e))?(e=n,bc):Mc)(t,e)};function Dc(t){return function(){this.removeAttribute(t)}}function Oc(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Tc(t,e,n){var r,i,a=n+"";return function(){var o=this.getAttribute(t);return o===a?null:o===r?i:i=e(r=o,n)}}function jc(t,e,n){var r,i,a=n+"";return function(){var o=this.getAttributeNS(t.space,t.local);return o===a?null:o===r?i:i=e(r=o,n)}}function Lc(t,e,n){var r,i,a;return function(){var o,s,u=n(this);if(null!=u)return o=this.getAttribute(t),s=u+"",o===s?null:o===r&&s===i?a:(i=s,a=e(r=o,u));this.removeAttribute(t)}}function Pc(t,e,n){var r,i,a;return function(){var o,s,u=n(this);if(null!=u)return o=this.getAttributeNS(t.space,t.local),s=u+"",o===s?null:o===r&&s===i?a:(i=s,a=e(r=o,u));this.removeAttributeNS(t.space,t.local)}}var Ic=function(t,e){var n=oo(t),r="transform"===n?lc:Sc;return this.attrTween(t,"function"===typeof e?(n.local?Pc:Lc)(n,r,dc(this,"attr."+t,e)):null==e?(n.local?Oc:Dc)(n):(n.local?jc:Tc)(n,r,e))};function zc(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function $c(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Rc(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&$c(t,i)),n}return i._value=e,i}function Vc(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&zc(t,i)),n}return i._value=e,i}var qc=function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!==typeof e)throw new Error;var r=oo(t);return this.tween(n,(r.local?Rc:Vc)(r,e))};function Bc(t,e){return function(){Ul(this,t).delay=+e.apply(this,arguments)}}function Fc(t,e){return e=+e,function(){Ul(this,t).delay=e}}var Xc=function(t){var e=this._id;return arguments.length?this.each(("function"===typeof t?Bc:Fc)(e,t)):Kl(this.node(),e).delay};function Yc(t,e){return function(){Gl(this,t).duration=+e.apply(this,arguments)}}function Hc(t,e){return e=+e,function(){Gl(this,t).duration=e}}var Wc=function(t){var e=this._id;return arguments.length?this.each(("function"===typeof t?Yc:Hc)(e,t)):Kl(this.node(),e).duration};function Uc(t,e){if("function"!==typeof e)throw new Error;return function(){Gl(this,t).ease=e}}var Gc=function(t){var e=this._id;return arguments.length?this.each(Uc(e,t)):Kl(this.node(),e).ease};function Kc(t,e){return function(){var n=e.apply(this,arguments);if("function"!==typeof n)throw new Error;Gl(this,t).ease=n}}var Qc=function(t){if("function"!==typeof t)throw new Error;return this.each(Kc(this._id,t))},Zc=function(t){"function"!==typeof t&&(t=Ca(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a,o=e[i],s=o.length,u=r[i]=[],l=0;l<s;++l)(a=o[l])&&t.call(a,a.__data__,l,o)&&u.push(a);return new Eh(r,this._parents,this._name,this._id)},Jc=function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),o=new Array(r),s=0;s<a;++s)for(var u,l=e[s],c=n[s],h=l.length,f=o[s]=new Array(h),d=0;d<h;++d)(u=l[d]||c[d])&&(f[d]=u);for(;s<r;++s)o[s]=e[s];return new Eh(o,this._parents,this._name,this._id)};function th(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}function eh(t,e,n){var r,i,a=th(e)?Ul:Gl;return function(){var o=a(this,t),s=o.on;s!==r&&(i=(r=s).copy()).on(e,n),o.on=i}}var nh=function(t,e){var n=this._id;return arguments.length<2?Kl(this.node(),n).on.on(t):this.each(eh(n,t,e))};function rh(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}var ih=function(){return this.on("end.remove",rh(this._id))},ah=function(t){var e=this._name,n=this._id;"function"!==typeof t&&(t=ga(t));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var s,u,l=r[o],c=l.length,h=a[o]=new Array(c),f=0;f<c;++f)(s=l[f])&&(u=t.call(s,s.__data__,f,l))&&("__data__"in s&&(u.__data__=s.__data__),h[f]=u,Wl(h[f],e,n,f,h,Kl(s,n)));return new Eh(a,this._parents,e,n)},oh=function(t){var e=this._name,n=this._id;"function"!==typeof t&&(t=Aa(t));for(var r=this._groups,i=r.length,a=[],o=[],s=0;s<i;++s)for(var u,l=r[s],c=l.length,h=0;h<c;++h)if(u=l[h]){for(var f,d=t.call(u,u.__data__,h,l),p=Kl(u,n),v=0,m=d.length;v<m;++v)(f=d[v])&&Wl(f,e,n,v,d,p);a.push(d),o.push(u)}return new Eh(a,o,e,n)},sh=_s.prototype.constructor,uh=function(){return new sh(this._groups,this._parents)};function lh(t,e){var n,r,i;return function(){var a=wo(this,t),o=(this.style.removeProperty(t),wo(this,t));return a===o?null:a===n&&o===r?i:i=e(n=a,r=o)}}function ch(t){return function(){this.style.removeProperty(t)}}function hh(t,e,n){var r,i,a=n+"";return function(){var o=wo(this,t);return o===a?null:o===r?i:i=e(r=o,n)}}function fh(t,e,n){var r,i,a;return function(){var o=wo(this,t),s=n(this),u=s+"";return null==s&&(this.style.removeProperty(t),u=s=wo(this,t)),o===u?null:o===r&&u===i?a:(i=u,a=e(r=o,s))}}function dh(t,e){var n,r,i,a,o="style."+e,s="end."+o;return function(){var u=Gl(this,t),l=u.on,c=null==u.value[o]?a||(a=ch(e)):void 0;l===n&&i===c||(r=(n=l).copy()).on(s,i=c),u.on=r}}var ph=function(t,e,n){var r="transform"===(t+="")?uc:Sc;return null==e?this.styleTween(t,lh(t,r)).on("end.style."+t,ch(t)):"function"===typeof e?this.styleTween(t,fh(t,r,dc(this,"style."+t,e))).each(dh(this._id,t)):this.styleTween(t,hh(t,r,e),n).on("end.style."+t,null)};function vh(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function mh(t,e,n){var r,i;function a(){var a=e.apply(this,arguments);return a!==i&&(r=(i=a)&&vh(t,a,n)),r}return a._value=e,a}var yh=function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!==typeof e)throw new Error;return this.tween(r,mh(t,e,null==n?"":n))};function _h(t){return function(){this.textContent=t}}function gh(t){return function(){var e=t(this);this.textContent=null==e?"":e}}var wh=function(t){return this.tween("text","function"===typeof t?gh(dc(this,"text",t)):_h(null==t?"":t+""))};function xh(t){return function(e){this.textContent=t.call(this,e)}}function bh(t){var e,n;function r(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&xh(r)),e}return r._value=t,r}var Ah=function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!==typeof t)throw new Error;return this.tween(e,bh(t))},kh=function(){for(var t=this._name,e=this._id,n=Sh(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o,s=r[a],u=s.length,l=0;l<u;++l)if(o=s[l]){var c=Kl(o,e);Wl(o,t,n,l,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Eh(r,this._parents,t,n)},Nh=function(){var t,e,n=this,r=n._id,i=n.size();return new Promise((function(a,o){var s={value:o},u={value:function(){0===--i&&a()}};n.each((function(){var n=Gl(this,r),i=n.on;i!==t&&(e=(t=i).copy(),e._.cancel.push(s),e._.interrupt.push(s),e._.end.push(u)),n.on=e})),0===i&&a()}))},Ch=0;function Eh(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Mh(t){return _s().transition(t)}function Sh(){return++Ch}var Dh=_s.prototype;function Oh(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}Eh.prototype=Mh.prototype={constructor:Eh,select:ah,selectAll:oh,selectChild:Dh.selectChild,selectChildren:Dh.selectChildren,filter:Zc,merge:Jc,selection:uh,transition:kh,call:Dh.call,nodes:Dh.nodes,node:Dh.node,size:Dh.size,empty:Dh.empty,each:Dh.each,on:nh,attr:Ic,attrTween:qc,style:ph,styleTween:yh,text:wh,textTween:Ah,remove:ih,tween:fc,delay:Xc,duration:Wc,ease:Gc,easeVarying:Qc,end:Nh,[Symbol.iterator]:Dh[Symbol.iterator]};var Th={time:null,delay:0,duration:250,ease:Oh};function jh(t,e){var n;while(!(n=t.__transition)||!(n=n[e]))if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}var Lh=function(t){var e,n;t instanceof Eh?(e=t._id,t=t._name):(e=Sh(),(n=Th).time=Ml(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o,s=r[a],u=s.length,l=0;l<u;++l)(o=s[l])&&Wl(o,t,e,l,s,n||jh(o,e));return new Eh(r,this._parents,t,e)};_s.prototype.interrupt=tc,_s.prototype.transition=Lh;var Ph={value:()=>{}};function Ih(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new zh(r)}function zh(t){this._=t}function $h(t,e){return t.trim().split(/^|\s+/).map((function(t){var n="",r=t.indexOf(".");if(r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),t&&!e.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:n}}))}function Rh(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function Vh(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=Ph,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}zh.prototype=Ih.prototype={constructor:zh,on:function(t,e){var n,r=this._,i=$h(t+"",r),a=-1,o=i.length;if(!(arguments.length<2)){if(null!=e&&"function"!==typeof e)throw new Error("invalid callback: "+e);while(++a<o)if(n=(t=i[a]).type)r[n]=Vh(r[n],t.name,e);else if(null==e)for(n in r)r[n]=Vh(r[n],t.name,null);return this}while(++a<o)if((n=(t=i[a]).type)&&(n=Rh(r[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new zh(t)},call:function(t,e){if((n=arguments.length-2)>0)for(var n,r,i=new Array(n),a=0;a<n;++a)i[a]=arguments[a+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(r=this._[t],a=0,n=r.length;a<n;++a)r[a].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,a=r.length;i<a;++i)r[i].value.apply(e,n)}};var qh=Ih;function Bh(){}var Fh=function(t){return null==t?Bh:function(){return this.querySelector(t)}},Xh=function(t){"function"!==typeof t&&(t=Fh(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a,o,s=e[i],u=s.length,l=r[i]=new Array(u),c=0;c<u;++c)(a=s[c])&&(o=t.call(a,a.__data__,c,s))&&("__data__"in a&&(o.__data__=a.__data__),l[c]=o);return new Rd(r,this._parents)};function Yh(t){return null==t?[]:Array.isArray(t)?t:Array.from(t)}function Hh(){return[]}var Wh=function(t){return null==t?Hh:function(){return this.querySelectorAll(t)}};function Uh(t){return function(){return Yh(t.apply(this,arguments))}}var Gh=function(t){t="function"===typeof t?Uh(t):Wh(t);for(var e=this._groups,n=e.length,r=[],i=[],a=0;a<n;++a)for(var o,s=e[a],u=s.length,l=0;l<u;++l)(o=s[l])&&(r.push(t.call(o,o.__data__,l,s)),i.push(o));return new Rd(r,i)},Kh=function(t){return function(){return this.matches(t)}};function Qh(t){return function(e){return e.matches(t)}}var Zh=Array.prototype.find;function Jh(t){return function(){return Zh.call(this.children,t)}}function tf(){return this.firstElementChild}var ef=function(t){return this.select(null==t?tf:Jh("function"===typeof t?t:Qh(t)))},nf=Array.prototype.filter;function rf(){return Array.from(this.children)}function af(t){return function(){return nf.call(this.children,t)}}var of=function(t){return this.selectAll(null==t?rf:af("function"===typeof t?t:Qh(t)))},sf=function(t){"function"!==typeof t&&(t=Kh(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a,o=e[i],s=o.length,u=r[i]=[],l=0;l<s;++l)(a=o[l])&&t.call(a,a.__data__,l,o)&&u.push(a);return new Rd(r,this._parents)},uf=function(t){return new Array(t.length)},lf=function(){return new Rd(this._enter||this._groups.map(uf),this._parents)};function cf(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}cf.prototype={constructor:cf,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var hf=function(t){return function(){return t}};function ff(t,e,n,r,i,a){for(var o,s=0,u=e.length,l=a.length;s<l;++s)(o=e[s])?(o.__data__=a[s],r[s]=o):n[s]=new cf(t,a[s]);for(;s<u;++s)(o=e[s])&&(i[s]=o)}function df(t,e,n,r,i,a,o){var s,u,l,c=new Map,h=e.length,f=a.length,d=new Array(h);for(s=0;s<h;++s)(u=e[s])&&(d[s]=l=o.call(u,u.__data__,s,e)+"",c.has(l)?i[s]=u:c.set(l,u));for(s=0;s<f;++s)l=o.call(t,a[s],s,a)+"",(u=c.get(l))?(r[s]=u,u.__data__=a[s],c.delete(l)):n[s]=new cf(t,a[s]);for(s=0;s<h;++s)(u=e[s])&&c.get(d[s])===u&&(i[s]=u)}function pf(t){return t.__data__}var vf=function(t,e){if(!arguments.length)return Array.from(this,pf);var n=e?df:ff,r=this._parents,i=this._groups;"function"!==typeof t&&(t=hf(t));for(var a=i.length,o=new Array(a),s=new Array(a),u=new Array(a),l=0;l<a;++l){var c=r[l],h=i[l],f=h.length,d=mf(t.call(c,c&&c.__data__,l,r)),p=d.length,v=s[l]=new Array(p),m=o[l]=new Array(p),y=u[l]=new Array(f);n(c,h,v,m,y,d,e);for(var _,g,w=0,x=0;w<p;++w)if(_=v[w]){w>=x&&(x=w+1);while(!(g=m[x])&&++x<p);_._next=g||null}}return o=new Rd(o,r),o._enter=s,o._exit=u,o};function mf(t){return"object"===typeof t&&"length"in t?t:Array.from(t)}var yf=function(){return new Rd(this._exit||this._groups.map(uf),this._parents)},_f=function(t,e,n){var r=this.enter(),i=this,a=this.exit();return"function"===typeof t?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),null!=e&&(i=e(i),i&&(i=i.selection())),null==n?a.remove():n(a),r&&i?r.merge(i).order():i},gf=function(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,a=r.length,o=Math.min(i,a),s=new Array(i),u=0;u<o;++u)for(var l,c=n[u],h=r[u],f=c.length,d=s[u]=new Array(f),p=0;p<f;++p)(l=c[p]||h[p])&&(d[p]=l);for(;u<i;++u)s[u]=n[u];return new Rd(s,this._parents)},wf=function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],a=i.length-1,o=i[a];--a>=0;)(r=i[a])&&(o&&4^r.compareDocumentPosition(o)&&o.parentNode.insertBefore(r,o),o=r);return this},xf=function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=bf);for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var o,s=n[a],u=s.length,l=i[a]=new Array(u),c=0;c<u;++c)(o=s[c])&&(l[c]=o);l.sort(e)}return new Rd(i,this._parents).order()};function bf(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}var Af=function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},kf=function(){return Array.from(this)},Nf=function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null},Cf=function(){let t=0;for(const e of this)++t;return t},Ef=function(){return!this.node()},Mf=function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,a=e[n],o=0,s=a.length;o<s;++o)(i=a[o])&&t.call(i,i.__data__,o,a);return this},Sf="http://www.w3.org/1999/xhtml",Df={svg:"http://www.w3.org/2000/svg",xhtml:Sf,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Of=function(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),Df.hasOwnProperty(e)?{space:Df[e],local:t}:t};function Tf(t){return function(){this.removeAttribute(t)}}function jf(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Lf(t,e){return function(){this.setAttribute(t,e)}}function Pf(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function If(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function zf(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}var $f=function(t,e){var n=Of(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?jf:Tf:"function"===typeof e?n.local?zf:If:n.local?Pf:Lf)(n,e))},Rf=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};function Vf(t){return function(){this.style.removeProperty(t)}}function qf(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Bf(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}var Ff=function(t,e,n){return arguments.length>1?this.each((null==e?Vf:"function"===typeof e?Bf:qf)(t,e,null==n?"":n)):Xf(this.node(),t)};function Xf(t,e){return t.style.getPropertyValue(e)||Rf(t).getComputedStyle(t,null).getPropertyValue(e)}function Yf(t){return function(){delete this[t]}}function Hf(t,e){return function(){this[t]=e}}function Wf(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}var Uf=function(t,e){return arguments.length>1?this.each((null==e?Yf:"function"===typeof e?Wf:Hf)(t,e)):this.node()[t]};function Gf(t){return t.trim().split(/^|\s+/)}function Kf(t){return t.classList||new Qf(t)}function Qf(t){this._node=t,this._names=Gf(t.getAttribute("class")||"")}function Zf(t,e){var n=Kf(t),r=-1,i=e.length;while(++r<i)n.add(e[r])}function Jf(t,e){var n=Kf(t),r=-1,i=e.length;while(++r<i)n.remove(e[r])}function td(t){return function(){Zf(this,t)}}function ed(t){return function(){Jf(this,t)}}function nd(t,e){return function(){(e.apply(this,arguments)?Zf:Jf)(this,t)}}Qf.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var rd=function(t,e){var n=Gf(t+"");if(arguments.length<2){var r=Kf(this.node()),i=-1,a=n.length;while(++i<a)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"===typeof e?nd:e?td:ed)(n,e))};function id(){this.textContent=""}function ad(t){return function(){this.textContent=t}}function od(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}var sd=function(t){return arguments.length?this.each(null==t?id:("function"===typeof t?od:ad)(t)):this.node().textContent};function ud(){this.innerHTML=""}function ld(t){return function(){this.innerHTML=t}}function cd(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}var hd=function(t){return arguments.length?this.each(null==t?ud:("function"===typeof t?cd:ld)(t)):this.node().innerHTML};function fd(){this.nextSibling&&this.parentNode.appendChild(this)}var dd=function(){return this.each(fd)};function pd(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}var vd=function(){return this.each(pd)};function md(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Sf&&e.documentElement.namespaceURI===Sf?e.createElement(t):e.createElementNS(n,t)}}function yd(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}var _d=function(t){var e=Of(t);return(e.local?yd:md)(e)},gd=function(t){var e="function"===typeof t?t:_d(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))};function wd(){return null}var xd=function(t,e){var n="function"===typeof t?t:_d(t),r=null==e?wd:"function"===typeof e?e:Fh(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))};function bd(){var t=this.parentNode;t&&t.removeChild(this)}var Ad=function(){return this.each(bd)};function kd(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Nd(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}var Cd=function(t){return this.select(t?Nd:kd)},Ed=function(t){return arguments.length?this.property("__data__",t):this.node().__data__};function Md(t){return function(e){t.call(this,e,this.__data__)}}function Sd(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function Dd(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,a=e.length;r<a;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.options);++i?e.length=i:delete this.__on}}}function Od(t,e,n){return function(){var r,i=this.__on,a=Md(e);if(i)for(var o=0,s=i.length;o<s;++o)if((r=i[o]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=a,r.options=n),void(r.value=e);this.addEventListener(t.type,a,n),r={type:t.type,name:t.name,value:e,listener:a,options:n},i?i.push(r):this.__on=[r]}}var Td=function(t,e,n){var r,i,a=Sd(t+""),o=a.length;if(!(arguments.length<2)){for(s=e?Od:Dd,r=0;r<o;++r)this.each(s(a[r],e,n));return this}var s=this.node().__on;if(s)for(var u,l=0,c=s.length;l<c;++l)for(r=0,u=s[l];r<o;++r)if((i=a[r]).type===u.type&&i.name===u.name)return u.value};function jd(t,e,n){var r=Rf(t),i=r.CustomEvent;"function"===typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function Ld(t,e){return function(){return jd(this,t,e)}}function Pd(t,e){return function(){return jd(this,t,e.apply(this,arguments))}}var Id=function(t,e){return this.each(("function"===typeof e?Pd:Ld)(t,e))},zd=function*(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r,i=t[e],a=0,o=i.length;a<o;++a)(r=i[a])&&(yield r)},$d=[null];function Rd(t,e){this._groups=t,this._parents=e}function Vd(){return new Rd([[document.documentElement]],$d)}function qd(){return this}Rd.prototype=Vd.prototype={constructor:Rd,select:Xh,selectAll:Gh,selectChild:ef,selectChildren:of,filter:sf,data:vf,enter:lf,exit:yf,join:_f,merge:gf,selection:qd,order:wf,sort:xf,call:Af,nodes:kf,node:Nf,size:Cf,empty:Ef,each:Mf,attr:$f,style:Ff,property:Uf,classed:rd,text:sd,html:hd,raise:dd,lower:vd,append:gd,insert:xd,remove:Ad,clone:Cd,datum:Ed,on:Td,dispatch:Id,[Symbol.iterator]:zd};var Bd=Vd,Fd=function(t){return"string"===typeof t?new Rd([[document.querySelector(t)]],[document.documentElement]):new Rd([[t]],$d)};const Xd={capture:!0,passive:!1};var Yd=function(t){t.preventDefault(),t.stopImmediatePropagation()},Hd=function(t){var e=t.document.documentElement,n=Fd(t).on("dragstart.drag",Yd,Xd);"onselectstart"in e?n.on("selectstart.drag",Yd,Xd):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")};function Wd(t,e){var n=t.document.documentElement,r=Fd(t).on("dragstart.drag",null);e&&(r.on("click.drag",Yd,Xd),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}var Ud=1e-12;function Gd(t){return((t=Math.exp(t))+1/t)/2}function Kd(t){return((t=Math.exp(t))-1/t)/2}function Qd(t){return((t=Math.exp(2*t))-1)/(t+1)}var Zd,Jd,tp=function t(e,n,r){function i(t,i){var a,o,s=t[0],u=t[1],l=t[2],c=i[0],h=i[1],f=i[2],d=c-s,p=h-u,v=d*d+p*p;if(v<Ud)o=Math.log(f/l)/e,a=function(t){return[s+t*d,u+t*p,l*Math.exp(e*t*o)]};else{var m=Math.sqrt(v),y=(f*f-l*l+r*v)/(2*l*n*m),_=(f*f-l*l-r*v)/(2*f*n*m),g=Math.log(Math.sqrt(y*y+1)-y),w=Math.log(Math.sqrt(_*_+1)-_);o=(w-g)/e,a=function(t){var r=t*o,i=Gd(g),a=l/(n*m)*(i*Qd(e*r+g)-Kd(g));return[s+a*d,u+a*p,l*i/Gd(e*r+g)]}}return a.duration=1e3*o*e/Math.SQRT2,a}return i.rho=function(e){var n=Math.max(.001,+e),r=n*n,i=r*r;return t(n,r,i)},i}(Math.SQRT2,2,4),ep=function(t){let e;while(e=t.sourceEvent)t=e;return t},np=function(t,e){if(t=ep(t),void 0===e&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]},rp=0,ip=0,ap=0,op=1e3,sp=0,up=0,lp=0,cp="object"===typeof performance&&performance.now?performance:Date,hp="object"===typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function fp(){return up||(hp(dp),up=cp.now()+lp)}function dp(){up=0}function pp(){this._call=this._time=this._next=null}function vp(t,e,n){var r=new pp;return r.restart(t,e,n),r}function mp(){fp(),++rp;var t,e=Zd;while(e)(t=up-e._time)>=0&&e._call.call(void 0,t),e=e._next;--rp}function yp(){up=(sp=cp.now())+lp,rp=ip=0;try{mp()}finally{rp=0,gp(),up=0}}function _p(){var t=cp.now(),e=t-sp;e>op&&(lp-=e,sp=t)}function gp(){var t,e,n=Zd,r=1/0;while(n)n._call?(r>n._time&&(r=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Zd=e);Jd=t,wp(r)}function wp(t){if(!rp){ip&&(ip=clearTimeout(ip));var e=t-up;e>24?(t<1/0&&(ip=setTimeout(yp,t-cp.now()-lp)),ap&&(ap=clearInterval(ap))):(ap||(sp=cp.now(),ap=setInterval(_p,op)),rp=1,hp(yp))}}pp.prototype=vp.prototype={constructor:pp,restart:function(t,e,n){if("function"!==typeof t)throw new TypeError("callback is not a function");n=(null==n?fp():+n)+(null==e?0:+e),this._next||Jd===this||(Jd?Jd._next=this:Zd=this,Jd=this),this._call=t,this._time=n,wp()},stop:function(){this._call&&(this._call=null,this._time=1/0,wp())}};var xp=function(t,e,n){var r=new pp;return e=null==e?0:+e,r.restart(n=>{r.stop(),t(n+e)},e,n),r},bp=qh("start","end","cancel","interrupt"),Ap=[],kp=0,Np=1,Cp=2,Ep=3,Mp=4,Sp=5,Dp=6,Op=function(t,e,n,r,i,a){var o=t.__transition;if(o){if(n in o)return}else t.__transition={};Pp(t,n,{name:e,index:r,group:i,on:bp,tween:Ap,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:kp})};function Tp(t,e){var n=Lp(t,e);if(n.state>kp)throw new Error("too late; already scheduled");return n}function jp(t,e){var n=Lp(t,e);if(n.state>Ep)throw new Error("too late; already running");return n}function Lp(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function Pp(t,e,n){var r,i=t.__transition;function a(t){n.state=Np,n.timer.restart(o,n.delay,n.time),n.delay<=t&&o(t-n.delay)}function o(a){var l,c,h,f;if(n.state!==Np)return u();for(l in i)if(f=i[l],f.name===n.name){if(f.state===Ep)return xp(o);f.state===Mp?(f.state=Dp,f.timer.stop(),f.on.call("interrupt",t,t.__data__,f.index,f.group),delete i[l]):+l<e&&(f.state=Dp,f.timer.stop(),f.on.call("cancel",t,t.__data__,f.index,f.group),delete i[l])}if(xp((function(){n.state===Ep&&(n.state=Mp,n.timer.restart(s,n.delay,n.time),s(a))})),n.state=Cp,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Cp){for(n.state=Ep,r=new Array(h=n.tween.length),l=0,c=-1;l<h;++l)(f=n.tween[l].value.call(t,t.__data__,n.index,n.group))&&(r[++c]=f);r.length=c+1}}function s(e){var i=e<n.duration?n.ease.call(null,e/n.duration):(n.timer.restart(u),n.state=Sp,1),a=-1,o=r.length;while(++a<o)r[a].call(t,i);n.state===Sp&&(n.on.call("end",t,t.__data__,n.index,n.group),u())}function u(){for(var r in n.state=Dp,n.timer.stop(),delete i[e],i)return;delete t.__transition}i[e]=n,n.timer=vp(a,0,n.time)}var Ip,zp=function(t,e){var n,r,i,a=t.__transition,o=!0;if(a){for(i in e=null==e?null:e+"",a)(n=a[i]).name===e?(r=n.state>Cp&&n.state<Sp,n.state=Dp,n.timer.stop(),n.on.call(r?"interrupt":"cancel",t,t.__data__,n.index,n.group),delete a[i]):o=!1;o&&delete t.__transition}},$p=function(t){return this.each((function(){zp(this,t)}))},Rp=function(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}},Vp=180/Math.PI,qp={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},Bp=function(t,e,n,r,i,a){var o,s,u;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,u/=s),t*r<e*n&&(t=-t,e=-e,u=-u,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(e,t)*Vp,skewX:Math.atan(u)*Vp,scaleX:o,scaleY:s}};function Fp(t){const e=new("function"===typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?qp:Bp(e.a,e.b,e.c,e.d,e.e,e.f)}function Xp(t){return null==t?qp:(Ip||(Ip=document.createElementNS("http://www.w3.org/2000/svg","g")),Ip.setAttribute("transform",t),(t=Ip.transform.baseVal.consolidate())?(t=t.matrix,Bp(t.a,t.b,t.c,t.d,t.e,t.f)):qp)}function Yp(t,e,n,r){function i(t){return t.length?t.pop()+" ":""}function a(t,r,i,a,o,s){if(t!==i||r!==a){var u=o.push("translate(",null,e,null,n);s.push({i:u-4,x:Rp(t,i)},{i:u-2,x:Rp(r,a)})}else(i||a)&&o.push("translate("+i+e+a+n)}function o(t,e,n,a){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),a.push({i:n.push(i(n)+"rotate(",null,r)-2,x:Rp(t,e)})):e&&n.push(i(n)+"rotate("+e+r)}function s(t,e,n,a){t!==e?a.push({i:n.push(i(n)+"skewX(",null,r)-2,x:Rp(t,e)}):e&&n.push(i(n)+"skewX("+e+r)}function u(t,e,n,r,a,o){if(t!==n||e!==r){var s=a.push(i(a)+"scale(",null,",",null,")");o.push({i:s-4,x:Rp(t,n)},{i:s-2,x:Rp(e,r)})}else 1===n&&1===r||a.push(i(a)+"scale("+n+","+r+")")}return function(e,n){var r=[],i=[];return e=t(e),n=t(n),a(e.translateX,e.translateY,n.translateX,n.translateY,r,i),o(e.rotate,n.rotate,r,i),s(e.skewX,n.skewX,r,i),u(e.scaleX,e.scaleY,n.scaleX,n.scaleY,r,i),e=n=null,function(t){var e,n=-1,a=i.length;while(++n<a)r[(e=i[n]).i]=e.x(t);return r.join("")}}}var Hp=Yp(Fp,"px, ","px)","deg)"),Wp=Yp(Xp,", ",")",")");function Up(t,e){var n,r;return function(){var i=jp(this,t),a=i.tween;if(a!==n){r=n=a;for(var o=0,s=r.length;o<s;++o)if(r[o].name===e){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function Gp(t,e,n){var r,i;if("function"!==typeof n)throw new Error;return function(){var a=jp(this,t),o=a.tween;if(o!==r){i=(r=o).slice();for(var s={name:e,value:n},u=0,l=i.length;u<l;++u)if(i[u].name===e){i[u]=s;break}u===l&&i.push(s)}a.tween=i}}var Kp=function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=Lp(this.node(),n).tween,a=0,o=i.length;a<o;++a)if((r=i[a]).name===t)return r.value;return null}return this.each((null==e?Up:Gp)(n,t,e))};function Qp(t,e,n){var r=t._id;return t.each((function(){var t=jp(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)})),function(t){return Lp(t,r).value[e]}}function Zp(t,e,n,r,i){var a=t*t,o=a*t;return((1-3*t+3*a-o)*e+(4-6*a+3*o)*n+(1+3*t+3*a-3*o)*r+o*i)/6}var Jp=function(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],a=t[r+1],o=r>0?t[r-1]:2*i-a,s=r<e-1?t[r+2]:2*a-i;return Zp((n-r/e)*e,o,i,a,s)}},tv=function(t){var e=t.length;return function(n){var r=Math.floor(((n%=1)<0?++n:n)*e),i=t[(r+e-1)%e],a=t[r%e],o=t[(r+1)%e],s=t[(r+2)%e];return Zp((n-r/e)*e,i,a,o,s)}},ev=t=>()=>t;function nv(t,e){return function(n){return t+n*e}}function rv(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function iv(t){return 1===(t=+t)?av:function(e,n){return n-e?rv(e,n,t):ev(isNaN(e)?n:e)}}function av(t,e){var n=e-t;return n?nv(t,n):ev(isNaN(t)?e:t)}var ov=function t(e){var n=iv(e);function r(t,e){var r=n((t=Cn(t)).r,(e=Cn(e)).r),i=n(t.g,e.g),a=n(t.b,e.b),o=av(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=a(e),t.opacity=o(e),t+""}}return r.gamma=t,r}(1);function sv(t){return function(e){var n,r,i=e.length,a=new Array(i),o=new Array(i),s=new Array(i);for(n=0;n<i;++n)r=Cn(e[n]),a[n]=r.r||0,o[n]=r.g||0,s[n]=r.b||0;return a=t(a),o=t(o),s=t(s),r.opacity=1,function(t){return r.r=a(t),r.g=o(t),r.b=s(t),r+""}}}sv(Jp),sv(tv);var uv=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,lv=new RegExp(uv.source,"g");function cv(t){return function(){return t}}function hv(t){return function(e){return t(e)+""}}var fv=function(t,e){var n,r,i,a=uv.lastIndex=lv.lastIndex=0,o=-1,s=[],u=[];t+="",e+="";while((n=uv.exec(t))&&(r=lv.exec(e)))(i=r.index)>a&&(i=e.slice(a,i),s[o]?s[o]+=i:s[++o]=i),(n=n[0])===(r=r[0])?s[o]?s[o]+=r:s[++o]=r:(s[++o]=null,u.push({i:o,x:Rp(n,r)})),a=lv.lastIndex;return a<e.length&&(i=e.slice(a),s[o]?s[o]+=i:s[++o]=i),s.length<2?u[0]?hv(u[0].x):cv(e):(e=u.length,function(t){for(var n,r=0;r<e;++r)s[(n=u[r]).i]=n.x(t);return s.join("")})},dv=function(t,e){var n;return("number"===typeof e?Rp:e instanceof bn?ov:(n=bn(e))?(e=n,ov):fv)(t,e)};function pv(t){return function(){this.removeAttribute(t)}}function vv(t){return function(){this.removeAttributeNS(t.space,t.local)}}function mv(t,e,n){var r,i,a=n+"";return function(){var o=this.getAttribute(t);return o===a?null:o===r?i:i=e(r=o,n)}}function yv(t,e,n){var r,i,a=n+"";return function(){var o=this.getAttributeNS(t.space,t.local);return o===a?null:o===r?i:i=e(r=o,n)}}function _v(t,e,n){var r,i,a;return function(){var o,s,u=n(this);if(null!=u)return o=this.getAttribute(t),s=u+"",o===s?null:o===r&&s===i?a:(i=s,a=e(r=o,u));this.removeAttribute(t)}}function gv(t,e,n){var r,i,a;return function(){var o,s,u=n(this);if(null!=u)return o=this.getAttributeNS(t.space,t.local),s=u+"",o===s?null:o===r&&s===i?a:(i=s,a=e(r=o,u));this.removeAttributeNS(t.space,t.local)}}var wv=function(t,e){var n=Of(t),r="transform"===n?Wp:dv;return this.attrTween(t,"function"===typeof e?(n.local?gv:_v)(n,r,Qp(this,"attr."+t,e)):null==e?(n.local?vv:pv)(n):(n.local?yv:mv)(n,r,e))};function xv(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function bv(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Av(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&bv(t,i)),n}return i._value=e,i}function kv(t,e){var n,r;function i(){var i=e.apply(this,arguments);return i!==r&&(n=(r=i)&&xv(t,i)),n}return i._value=e,i}var Nv=function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!==typeof e)throw new Error;var r=Of(t);return this.tween(n,(r.local?Av:kv)(r,e))};function Cv(t,e){return function(){Tp(this,t).delay=+e.apply(this,arguments)}}function Ev(t,e){return e=+e,function(){Tp(this,t).delay=e}}var Mv=function(t){var e=this._id;return arguments.length?this.each(("function"===typeof t?Cv:Ev)(e,t)):Lp(this.node(),e).delay};function Sv(t,e){return function(){jp(this,t).duration=+e.apply(this,arguments)}}function Dv(t,e){return e=+e,function(){jp(this,t).duration=e}}var Ov=function(t){var e=this._id;return arguments.length?this.each(("function"===typeof t?Sv:Dv)(e,t)):Lp(this.node(),e).duration};function Tv(t,e){if("function"!==typeof e)throw new Error;return function(){jp(this,t).ease=e}}var jv=function(t){var e=this._id;return arguments.length?this.each(Tv(e,t)):Lp(this.node(),e).ease};function Lv(t,e){return function(){var n=e.apply(this,arguments);if("function"!==typeof n)throw new Error;jp(this,t).ease=n}}var Pv=function(t){if("function"!==typeof t)throw new Error;return this.each(Lv(this._id,t))},Iv=function(t){"function"!==typeof t&&(t=Kh(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var a,o=e[i],s=o.length,u=r[i]=[],l=0;l<s;++l)(a=o[l])&&t.call(a,a.__data__,l,o)&&u.push(a);return new hm(r,this._parents,this._name,this._id)},zv=function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,a=Math.min(r,i),o=new Array(r),s=0;s<a;++s)for(var u,l=e[s],c=n[s],h=l.length,f=o[s]=new Array(h),d=0;d<h;++d)(u=l[d]||c[d])&&(f[d]=u);for(;s<r;++s)o[s]=e[s];return new hm(o,this._parents,this._name,this._id)};function $v(t){return(t+"").trim().split(/^|\s+/).every((function(t){var e=t.indexOf(".");return e>=0&&(t=t.slice(0,e)),!t||"start"===t}))}function Rv(t,e,n){var r,i,a=$v(e)?Tp:jp;return function(){var o=a(this,t),s=o.on;s!==r&&(i=(r=s).copy()).on(e,n),o.on=i}}var Vv=function(t,e){var n=this._id;return arguments.length<2?Lp(this.node(),n).on.on(t):this.each(Rv(n,t,e))};function qv(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}var Bv=function(){return this.on("end.remove",qv(this._id))},Fv=function(t){var e=this._name,n=this._id;"function"!==typeof t&&(t=Fh(t));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var s,u,l=r[o],c=l.length,h=a[o]=new Array(c),f=0;f<c;++f)(s=l[f])&&(u=t.call(s,s.__data__,f,l))&&("__data__"in s&&(u.__data__=s.__data__),h[f]=u,Op(h[f],e,n,f,h,Lp(s,n)));return new hm(a,this._parents,e,n)},Xv=function(t){var e=this._name,n=this._id;"function"!==typeof t&&(t=Wh(t));for(var r=this._groups,i=r.length,a=[],o=[],s=0;s<i;++s)for(var u,l=r[s],c=l.length,h=0;h<c;++h)if(u=l[h]){for(var f,d=t.call(u,u.__data__,h,l),p=Lp(u,n),v=0,m=d.length;v<m;++v)(f=d[v])&&Op(f,e,n,v,d,p);a.push(d),o.push(u)}return new hm(a,o,e,n)},Yv=Bd.prototype.constructor,Hv=function(){return new Yv(this._groups,this._parents)};function Wv(t,e){var n,r,i;return function(){var a=Xf(this,t),o=(this.style.removeProperty(t),Xf(this,t));return a===o?null:a===n&&o===r?i:i=e(n=a,r=o)}}function Uv(t){return function(){this.style.removeProperty(t)}}function Gv(t,e,n){var r,i,a=n+"";return function(){var o=Xf(this,t);return o===a?null:o===r?i:i=e(r=o,n)}}function Kv(t,e,n){var r,i,a;return function(){var o=Xf(this,t),s=n(this),u=s+"";return null==s&&(this.style.removeProperty(t),u=s=Xf(this,t)),o===u?null:o===r&&u===i?a:(i=u,a=e(r=o,s))}}function Qv(t,e){var n,r,i,a,o="style."+e,s="end."+o;return function(){var u=jp(this,t),l=u.on,c=null==u.value[o]?a||(a=Uv(e)):void 0;l===n&&i===c||(r=(n=l).copy()).on(s,i=c),u.on=r}}var Zv=function(t,e,n){var r="transform"===(t+="")?Hp:dv;return null==e?this.styleTween(t,Wv(t,r)).on("end.style."+t,Uv(t)):"function"===typeof e?this.styleTween(t,Kv(t,r,Qp(this,"style."+t,e))).each(Qv(this._id,t)):this.styleTween(t,Gv(t,r,e),n).on("end.style."+t,null)};function Jv(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function tm(t,e,n){var r,i;function a(){var a=e.apply(this,arguments);return a!==i&&(r=(i=a)&&Jv(t,a,n)),r}return a._value=e,a}var em=function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!==typeof e)throw new Error;return this.tween(r,tm(t,e,null==n?"":n))};function nm(t){return function(){this.textContent=t}}function rm(t){return function(){var e=t(this);this.textContent=null==e?"":e}}var im=function(t){return this.tween("text","function"===typeof t?rm(Qp(this,"text",t)):nm(null==t?"":t+""))};function am(t){return function(e){this.textContent=t.call(this,e)}}function om(t){var e,n;function r(){var r=t.apply(this,arguments);return r!==n&&(e=(n=r)&&am(r)),e}return r._value=t,r}var sm=function(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(null==t)return this.tween(e,null);if("function"!==typeof t)throw new Error;return this.tween(e,om(t))},um=function(){for(var t=this._name,e=this._id,n=dm(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o,s=r[a],u=s.length,l=0;l<u;++l)if(o=s[l]){var c=Lp(o,e);Op(o,t,n,l,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new hm(r,this._parents,t,n)},lm=function(){var t,e,n=this,r=n._id,i=n.size();return new Promise((function(a,o){var s={value:o},u={value:function(){0===--i&&a()}};n.each((function(){var n=jp(this,r),i=n.on;i!==t&&(e=(t=i).copy(),e._.cancel.push(s),e._.interrupt.push(s),e._.end.push(u)),n.on=e})),0===i&&a()}))},cm=0;function hm(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function fm(t){return Bd().transition(t)}function dm(){return++cm}var pm=Bd.prototype;function vm(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}hm.prototype=fm.prototype={constructor:hm,select:Fv,selectAll:Xv,selectChild:pm.selectChild,selectChildren:pm.selectChildren,filter:Iv,merge:zv,selection:Hv,transition:um,call:pm.call,nodes:pm.nodes,node:pm.node,size:pm.size,empty:pm.empty,each:pm.each,on:Vv,attr:wv,attrTween:Nv,style:Zv,styleTween:em,text:im,textTween:sm,remove:Bv,tween:Kp,delay:Mv,duration:Ov,ease:jv,easeVarying:Pv,end:lm,[Symbol.iterator]:pm[Symbol.iterator]};var mm={time:null,delay:0,duration:250,ease:vm};function ym(t,e){var n;while(!(n=t.__transition)||!(n=n[e]))if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}var _m=function(t){var e,n;t instanceof hm?(e=t._id,t=t._name):(e=dm(),(n=mm).time=fp(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o,s=r[a],u=s.length,l=0;l<u;++l)(o=s[l])&&Op(o,t,e,l,s,n||ym(o,e));return new hm(r,this._parents,t,e)};Bd.prototype.interrupt=$p,Bd.prototype.transition=_m;var gm=t=>()=>t;function wm(t,{sourceEvent:e,target:n,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function xm(t,e,n){this.k=t,this.x=e,this.y=n}xm.prototype={constructor:xm,scale:function(t){return 1===t?this:new xm(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new xm(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var bm=new xm(1,0,0);function Am(t){while(!t.__zoom)if(!(t=t.parentNode))return bm;return t.__zoom}function km(t){t.stopImmediatePropagation()}Am.prototype=xm.prototype;var Nm=function(t){t.preventDefault(),t.stopImmediatePropagation()};function Cm(t){return(!t.ctrlKey||"wheel"===t.type)&&!t.button}function Em(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t,t.hasAttribute("viewBox")?(t=t.viewBox.baseVal,[[t.x,t.y],[t.x+t.width,t.y+t.height]]):[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]):[[0,0],[t.clientWidth,t.clientHeight]]}function Mm(){return this.__zoom||bm}function Sm(t){return-t.deltaY*(1===t.deltaMode?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function Dm(){return navigator.maxTouchPoints||"ontouchstart"in this}function Om(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],a=t.invertY(e[0][1])-n[0][1],o=t.invertY(e[1][1])-n[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),o>a?(a+o)/2:Math.min(0,a)||Math.max(0,o))}var Tm=function(){var t,e,n,r=Cm,i=Em,a=Om,o=Sm,s=Dm,u=[0,1/0],l=[[-1/0,-1/0],[1/0,1/0]],c=250,h=tp,f=qh("start","zoom","end"),d=500,p=150,v=0,m=10;function y(t){t.property("__zoom",Mm).on("wheel.zoom",k,{passive:!1}).on("mousedown.zoom",N).on("dblclick.zoom",C).filter(s).on("touchstart.zoom",E).on("touchmove.zoom",M).on("touchend.zoom touchcancel.zoom",S).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function _(t,e){return e=Math.max(u[0],Math.min(u[1],e)),e===t.k?t:new xm(e,t.x,t.y)}function g(t,e,n){var r=e[0]-n[0]*t.k,i=e[1]-n[1]*t.k;return r===t.x&&i===t.y?t:new xm(t.k,r,i)}function w(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function x(t,e,n,r){t.on("start.zoom",(function(){b(this,arguments).event(r).start()})).on("interrupt.zoom end.zoom",(function(){b(this,arguments).event(r).end()})).tween("zoom",(function(){var t=this,a=arguments,o=b(t,a).event(r),s=i.apply(t,a),u=null==n?w(s):"function"===typeof n?n.apply(t,a):n,l=Math.max(s[1][0]-s[0][0],s[1][1]-s[0][1]),c=t.__zoom,f="function"===typeof e?e.apply(t,a):e,d=h(c.invert(u).concat(l/c.k),f.invert(u).concat(l/f.k));return function(t){if(1===t)t=f;else{var e=d(t),n=l/e[2];t=new xm(n,u[0]-e[0]*n,u[1]-e[1]*n)}o.zoom(null,t)}}))}function b(t,e,n){return!n&&t.__zooming||new A(t,e)}function A(t,e){this.that=t,this.args=e,this.active=0,this.sourceEvent=null,this.extent=i.apply(t,e),this.taps=0}function k(t,...e){if(r.apply(this,arguments)){var n=b(this,e).event(t),i=this.__zoom,s=Math.max(u[0],Math.min(u[1],i.k*Math.pow(2,o.apply(this,arguments)))),c=np(t);if(n.wheel)n.mouse[0][0]===c[0]&&n.mouse[0][1]===c[1]||(n.mouse[1]=i.invert(n.mouse[0]=c)),clearTimeout(n.wheel);else{if(i.k===s)return;n.mouse=[c,i.invert(c)],zp(this),n.start()}Nm(t),n.wheel=setTimeout(h,p),n.zoom("mouse",a(g(_(i,s),n.mouse[0],n.mouse[1]),n.extent,l))}function h(){n.wheel=null,n.end()}}function N(t,...e){if(!n&&r.apply(this,arguments)){var i=t.currentTarget,o=b(this,e,!0).event(t),s=Fd(t.view).on("mousemove.zoom",f,!0).on("mouseup.zoom",d,!0),u=np(t,i),c=t.clientX,h=t.clientY;Hd(t.view),km(t),o.mouse=[u,this.__zoom.invert(u)],zp(this),o.start()}function f(t){if(Nm(t),!o.moved){var e=t.clientX-c,n=t.clientY-h;o.moved=e*e+n*n>v}o.event(t).zoom("mouse",a(g(o.that.__zoom,o.mouse[0]=np(t,i),o.mouse[1]),o.extent,l))}function d(t){s.on("mousemove.zoom mouseup.zoom",null),Wd(t.view,o.moved),Nm(t),o.event(t).end()}}function C(t,...e){if(r.apply(this,arguments)){var n=this.__zoom,o=np(t.changedTouches?t.changedTouches[0]:t,this),s=n.invert(o),u=n.k*(t.shiftKey?.5:2),h=a(g(_(n,u),o,s),i.apply(this,e),l);Nm(t),c>0?Fd(this).transition().duration(c).call(x,h,o,t):Fd(this).call(y.transform,h,o,t)}}function E(n,...i){if(r.apply(this,arguments)){var a,o,s,u,l=n.touches,c=l.length,h=b(this,i,n.changedTouches.length===c).event(n);for(km(n),o=0;o<c;++o)s=l[o],u=np(s,this),u=[u,this.__zoom.invert(u),s.identifier],h.touch0?h.touch1||h.touch0[2]===u[2]||(h.touch1=u,h.taps=0):(h.touch0=u,a=!0,h.taps=1+!!t);t&&(t=clearTimeout(t)),a&&(h.taps<2&&(e=u[0],t=setTimeout((function(){t=null}),d)),zp(this),h.start())}}function M(t,...e){if(this.__zooming){var n,r,i,o,s=b(this,e).event(t),u=t.changedTouches,c=u.length;for(Nm(t),n=0;n<c;++n)r=u[n],i=np(r,this),s.touch0&&s.touch0[2]===r.identifier?s.touch0[0]=i:s.touch1&&s.touch1[2]===r.identifier&&(s.touch1[0]=i);if(r=s.that.__zoom,s.touch1){var h=s.touch0[0],f=s.touch0[1],d=s.touch1[0],p=s.touch1[1],v=(v=d[0]-h[0])*v+(v=d[1]-h[1])*v,m=(m=p[0]-f[0])*m+(m=p[1]-f[1])*m;r=_(r,Math.sqrt(v/m)),i=[(h[0]+d[0])/2,(h[1]+d[1])/2],o=[(f[0]+p[0])/2,(f[1]+p[1])/2]}else{if(!s.touch0)return;i=s.touch0[0],o=s.touch0[1]}s.zoom("touch",a(g(r,i,o),s.extent,l))}}function S(t,...r){if(this.__zooming){var i,a,o=b(this,r).event(t),s=t.changedTouches,u=s.length;for(km(t),n&&clearTimeout(n),n=setTimeout((function(){n=null}),d),i=0;i<u;++i)a=s[i],o.touch0&&o.touch0[2]===a.identifier?delete o.touch0:o.touch1&&o.touch1[2]===a.identifier&&delete o.touch1;if(o.touch1&&!o.touch0&&(o.touch0=o.touch1,delete o.touch1),o.touch0)o.touch0[1]=this.__zoom.invert(o.touch0[0]);else if(o.end(),2===o.taps&&(a=np(a,this),Math.hypot(e[0]-a[0],e[1]-a[1])<m)){var l=Fd(this).on("dblclick.zoom");l&&l.apply(this,arguments)}}}return y.transform=function(t,e,n,r){var i=t.selection?t.selection():t;i.property("__zoom",Mm),t!==i?x(t,e,n,r):i.interrupt().each((function(){b(this,arguments).event(r).start().zoom(null,"function"===typeof e?e.apply(this,arguments):e).end()}))},y.scaleBy=function(t,e,n,r){y.scaleTo(t,(function(){var t=this.__zoom.k,n="function"===typeof e?e.apply(this,arguments):e;return t*n}),n,r)},y.scaleTo=function(t,e,n,r){y.transform(t,(function(){var t=i.apply(this,arguments),r=this.__zoom,o=null==n?w(t):"function"===typeof n?n.apply(this,arguments):n,s=r.invert(o),u="function"===typeof e?e.apply(this,arguments):e;return a(g(_(r,u),o,s),t,l)}),n,r)},y.translateBy=function(t,e,n,r){y.transform(t,(function(){return a(this.__zoom.translate("function"===typeof e?e.apply(this,arguments):e,"function"===typeof n?n.apply(this,arguments):n),i.apply(this,arguments),l)}),null,r)},y.translateTo=function(t,e,n,r,o){y.transform(t,(function(){var t=i.apply(this,arguments),o=this.__zoom,s=null==r?w(t):"function"===typeof r?r.apply(this,arguments):r;return a(bm.translate(s[0],s[1]).scale(o.k).translate("function"===typeof e?-e.apply(this,arguments):-e,"function"===typeof n?-n.apply(this,arguments):-n),t,l)}),r,o)},A.prototype={event:function(t){return t&&(this.sourceEvent=t),this},start:function(){return 1===++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0===--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(t){var e=Fd(this.that).datum();f.call(t,this.that,new wm(t,{sourceEvent:this.sourceEvent,target:y,type:t,transform:this.that.__zoom,dispatch:f}),e)}},y.wheelDelta=function(t){return arguments.length?(o="function"===typeof t?t:gm(+t),y):o},y.filter=function(t){return arguments.length?(r="function"===typeof t?t:gm(!!t),y):r},y.touchable=function(t){return arguments.length?(s="function"===typeof t?t:gm(!!t),y):s},y.extent=function(t){return arguments.length?(i="function"===typeof t?t:gm([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),y):i},y.scaleExtent=function(t){return arguments.length?(u[0]=+t[0],u[1]=+t[1],y):[u[0],u[1]]},y.translateExtent=function(t){return arguments.length?(l[0][0]=+t[0][0],l[1][0]=+t[1][0],l[0][1]=+t[0][1],l[1][1]=+t[1][1],y):[[l[0][0],l[0][1]],[l[1][0],l[1][1]]]},y.constrain=function(t){return arguments.length?(a=t,y):a},y.duration=function(t){return arguments.length?(c=+t,y):c},y.interpolate=function(t){return arguments.length?(h=t,y):h},y.on=function(){var t=f.on.apply(f,arguments);return t===f?y:t},y.clickDistance=function(t){return arguments.length?(v=(t=+t)*t,y):Math.sqrt(v)},y.tapDistance=function(t){return arguments.length?(m=+t,y):m},y},jm=n("15cb"),Lm=function(t){return'<defs>\n\x3c!-- GIT REPO ICON --\x3e\n<svg id="git" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 96 96" style="enable-background:new 0 0 96 96" xml:space="preserve"><path class="st0" d="M92.138 43.888 52.018 3.77a5.918 5.918 0 0 0-8.369 0l-8.33 8.332L45.887 22.67a7.025 7.025 0 0 1 7.23 1.684 7.031 7.031 0 0 1 1.67 7.275l10.185 10.185a7.03 7.03 0 0 1 7.275 1.67 7.04 7.04 0 0 1 0 9.958 7.042 7.042 0 0 1-11.492-7.658l-9.5-9.499v24.997a7.09 7.09 0 0 1 1.861 1.331 7.042 7.042 0 1 1-7.65-1.537V35.849a7.04 7.04 0 0 1-3.822-9.234l-10.418-10.42-27.51 27.508a5.921 5.921 0 0 0 0 8.371l40.121 40.118a5.919 5.919 0 0 0 8.37 0l39.93-39.932a5.92 5.92 0 0 0 0-8.37z"/></svg>\n\x3c!-- GENERIC BUNDLE ICON --\x3e\n<svg id="bundle" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" fill="#FFF"><path d="M16 3.2C8.931 3.2 3.2 8.931 3.2 16S8.931 28.8 16 28.8 28.8 23.069 28.8 16 23.069 3.2 16 3.2zm0 22.4c-5.302 0-9.6-4.298-9.6-9.6s4.298-9.6 9.6-9.6 9.6 4.298 9.6 9.6a9.6 9.6 0 0 1-9.6 9.6z"/><path d="m24.086 16-6.232-1.348.917-1.424-1.424.917-1.348-6.232-1.348 6.232-1.424-.917.917 1.424L7.912 16l6.232 1.348-.917 1.424 1.424-.917 1.348 6.232 1.348-6.232 1.424.917-.917-1.424L24.086 16zM16 16.814a.814.814 0 1 1 0-1.628.814.814 0 0 1 0 1.628z"/></svg>\n\x3c!-- HELM BUNDLE ICON --\x3e\n<svg id="helm" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 500 500"><defs><style>.cls-1{fill:#fff}</style></defs><path class="cls-1" d="M136.53 121.135c-.573-.543-1.195-1.127-1.81-1.718-12.617-12.121-22.382-26.136-28.28-42.702-1.65-4.636-2.897-9.365-2.675-14.359.02-.473.02-.949.052-1.422.445-6.446 4.759-9.703 11.058-8.176a27.325 27.325 0 0 1 5.732 2.196c6.89 3.456 12.506 8.564 17.67 14.166A112.527 112.527 0 0 1 160 102.55a8.296 8.296 0 0 0 .39.86c.07.13.222.213.559.52a176.357 176.357 0 0 1 81.02-24.861c-.177-.876-.282-1.546-.448-2.2a112.494 112.494 0 0 1-2.653-36.957 84.075 84.075 0 0 1 4.445-21.764 31.326 31.326 0 0 1 5.476-10.17 15.687 15.687 0 0 1 3.164-2.822 7.026 7.026 0 0 1 8.032-.056 17.279 17.279 0 0 1 5.84 6.731 53.054 53.054 0 0 1 5.263 14.677 112.505 112.505 0 0 1 2.122 33.004 95.598 95.598 0 0 1-3.49 19.91c7.121 1.312 14.21 2.33 21.147 3.978a186.38 186.38 0 0 1 20.44 6.003 188.317 188.317 0 0 1 19.77 8.57c6.346 3.163 12.386 6.94 18.718 10.537.206-.433.505-.95.706-1.502a108.66 108.66 0 0 1 32.901-46.762 37.758 37.758 0 0 1 11.822-6.883 17.246 17.246 0 0 1 3.679-.845c6.264-.717 8.893 3.224 9.356 7.932a29.944 29.944 0 0 1-.774 10.354 87.906 87.906 0 0 1-10.73 24.688c-6.79 10.972-14.85 20.855-25.093 28.83-.302.236-.568.519-1.08.99a177.78 177.78 0 0 1 26.593 30.883 10.962 10.962 0 0 1-1.689.298c-10.595.015-21.19-.019-31.786.046a4.004 4.004 0 0 1-3.172-1.69 147.875 147.875 0 0 0-88.178-46.549 143.359 143.359 0 0 0-30.28-1.169 146.407 146.407 0 0 0-82.537 31.81 140.067 140.067 0 0 0-16.976 15.843 4.728 4.728 0 0 1-3.863 1.757c-10.121-.07-20.242-.035-30.363-.035h-2.152c.618-2.408 6.84-10.938 13.883-18.553 5.252-5.679 10.817-11.07 16.468-16.818ZM394.53 347.912a176.639 176.639 0 0 1-23.974 27.164l1.862 1.55a108.315 108.315 0 0 1 33.683 48.146 34.618 34.618 0 0 1 2.202 14.42 14.885 14.885 0 0 1-.748 3.692 7.208 7.208 0 0 1-8.157 5.023 22.233 22.233 0 0 1-6.763-2.006 51.232 51.232 0 0 1-9.182-5.815 107.592 107.592 0 0 1-32.936-46.707c-.187-.514-.392-1.02-.722-1.877a194.65 194.65 0 0 1-25.012 14.008 181.67 181.67 0 0 1-26.687 9.724 187.556 187.556 0 0 1-28.305 5.388c.168.84.265 1.51.438 2.16a109.172 109.172 0 0 1 2.97 36.442 80.804 80.804 0 0 1-4.422 22.478 78.25 78.25 0 0 1-4.165 8.744 13.39 13.39 0 0 1-2.339 2.971c-3.98 4.11-8.732 4.144-12.611-.074a27.28 27.28 0 0 1-3.907-5.617c-3.077-5.776-4.66-12.056-5.791-18.46a116.863 116.863 0 0 1-1.36-26.465 94.48 94.48 0 0 1 2.885-19.186c.14-.532.268-1.07.372-1.61.026-.137-.064-.297-.171-.738a176.121 176.121 0 0 1-80.969-24.994c-.41.91-.762 1.675-1.101 2.446a110.477 110.477 0 0 1-30.901 41.42 38.16 38.16 0 0 1-12.047 6.96 12.09 12.09 0 0 1-6.516.7 7.119 7.119 0 0 1-5.403-4.49c-1.416-3.424-1.165-6.985-.684-10.517a55.453 55.453 0 0 1 4.307-14.25 112.5 112.5 0 0 1 26.512-37.763c.459-.435.93-.857 1.38-1.3a3.76 3.76 0 0 0 .366-.655 178.905 178.905 0 0 1-28.47-31.317c.985-.08 1.644-.18 2.303-.18 10.514-.01 21.029.027 31.543-.044a4.706 4.706 0 0 1 3.703 1.626 146.946 146.946 0 0 0 39.403 28.885 139.947 139.947 0 0 0 49.704 14.774q70.68 6.87 121.6-42.854a7.646 7.646 0 0 1 5.992-2.444c9.802.121 19.605.05 29.408.05h2.534ZM350.736 197.762c2.787 0 5.47.189 8.115-.05 2.995-.271 5.139.8 7.323 2.813 12.613 11.622 25.357 23.1 38.059 34.627.638.58 1.29 1.144 2.11 1.87.764-.657 1.481-1.243 2.165-1.865q19.638-17.878 39.248-35.787a5.448 5.448 0 0 1 4.204-1.646c3.218.13 6.446.038 9.84.038V303.13c-1.722.504-24.875.604-27.638.061V249.83l-.537-.254-27.238 24.841-27.458-24.736-.524.192c-.023 4.454-.008 8.908-.01 13.362q-.005 6.64-.001 13.28v26.871h-27.428c-.514-1.773-.753-99.662-.23-105.623ZM97.634 197.882h27.264c.55 1.753.658 102.972.094 105.525H97.705c-.15-6.703-.048-13.384-.067-20.061-.018-6.623-.004-13.245-.004-20.04H63.847v39.741c-2.06.615-25.334.674-27.648.123V197.894h27.538v37.19c1.968.568 30.924.673 33.872.129.009-2.978.02-6.027.024-9.076q.007-4.744.001-9.487v-18.768ZM157.576 303.368V198.195c1.617-.53 61.545-.736 65.462-.205v22.414c-.879.063-1.786.184-2.693.185q-16.008.02-32.017.009h-2.968v17.433h33.347v23.192h-33.049c-.553 1.985-.705 15.817-.256 19.646.845.057 1.75.17 2.655.17q16.01.019 32.018.009h2.97v22.32ZM254.283 303.409c-.5-2.823-.4-103.602.097-105.518h27.162v77.765c1.172.06 2.092.149 3.011.15q16.128.014 32.256.006h2.908v27.597Z"/></svg>\n\x3c!-- RESOURCE DEPLOYMENT ICON --\x3e\n<svg id="deployment" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M24.01 20.027v2h-24v-2h4v-1a2.006 2.006 0 0 1-2-2v-10a2.006 2.006 0 0 1 2-2h1.996v2H4.01v10h16v-10h-2.004v-2h2.004a2.006 2.006 0 0 1 2 2l-.01 10a1.997 1.997 0 0 1-1.99 2v1Zm-9-6.012-3-3-3 3h2v2.01h2v-2.01Zm.995-7.991a4 4 0 1 1-4-4 4.001 4.001 0 0 1 4 4Zm-4.4 2.96v-.56a.802.802 0 0 1-.8-.8v-.4L9.06 5.479a2.958 2.958 0 0 0 2.545 3.505Zm2.658-1.007a2.977 2.977 0 0 0-1.068-4.704.797.797 0 0 1-.79.75h-.8v.8a.401.401 0 0 1-.4.4h-.8v.8h2.4a.401.401 0 0 1 .4.4v1.2h.4a.787.787 0 0 1 .658.354Z" fill="#fff"/></svg>\n\x3c!-- NODE ICON --\x3e\n<svg id="node" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><g fill="#fff"><circle cx="12" cy="3" r="1"/><circle cx="20" cy="8" r="1"/><circle cx="20" cy="16" r="1"/><circle cx="4" cy="8" r="1"/><circle cx="4" cy="16" r="1"/><path d="M20 14v-4a1.992 1.992 0 0 1-1.481-3.333l-4.783-2.69a1.983 1.983 0 0 1-3.472 0l-4.783 2.69A1.992 1.992 0 0 1 4 10v4a1.992 1.992 0 0 1 1.481 3.333l4.783 2.69a1.991 1.991 0 0 1 1.236-.952v-5.142a2 2 0 1 1 1 0v5.142a1.991 1.991 0 0 1 1.236.953l4.783-2.69A1.992 1.992 0 0 1 20 14Z"/><circle cx="12" cy="21" r="1"/><circle cx="12" cy="12" r="1"/></g></svg>\n\x3c!-- RESOURCE OTHER ICON --\x3e\n<svg id="other" xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="#FFF"><path d="M27.476 10.22H14.83l-1.558-3.115a1.327 1.327 0 0 0-1.184-.732H4.522c-.731 0-1.324.593-1.324 1.324v16.606c0 .731.593 1.324 1.324 1.324h22.953c.731 0 1.324-.593 1.324-1.324v-12.76c0-.731-.593-1.324-1.324-1.324z"/></svg>\n</defs>\n<use id="customIcon" href="#'.concat(t,'" fill="#fff" />')},Pm={name:"ForceDirectedTreeChart",components:{BadgeState:g["a"]},props:{data:{type:[Array,Object],required:!0},fdcConfig:{type:Object,required:!0}},data:function(){return{dataWatcher:void 0,parsedInfo:void 0,root:void 0,allNodesData:void 0,allLinks:void 0,rootNode:void 0,node:void 0,link:void 0,svg:void 0,zoom:void 0,simulation:void 0,isChartFirstRendered:!1,isChartFirstRenderAnimationFinished:!1,moreInfo:{}}},methods:{watcherFunction:function(t){var e=this;if(t.length)if(this.isChartFirstRendered){var n=this.fdcConfig.parseData(this.data),r=this.flatten(n),i=!1;r.forEach((function(t){var n=e.allNodesData.findIndex((function(e){return t.matchingId===e.data.matchingId}));n>-1&&e.allNodesData[n].data.state!==t.state&&(e.allNodesData[n].data.state=t.state,e.allNodesData[n].data.stateLabel=t.stateLabel,e.allNodesData[n].data.stateColor=t.stateColor,i=!0,e.allNodesData[n].data.active&&e.setDetailsInfo(e.allNodesData[n].data,!1))})),i&&this.updateChart(!1,!1)}else this.parsedInfo=this.fdcConfig.parseData(this.data),this.setDetailsInfo(this.parsedInfo,!1),this.parsedInfo.active=!0,this.renderChart(),this.updateChart(!0,!0),this.isChartFirstRendered=!0},renderChart:function(){var t=this;this.zoom=Tm().scaleExtent([1/8,16]).on("zoom",this.zoomed);var e=bm.scale(1).translate(0,0);this.rootNode=this.svg.append("g").attr("class","root-node"),this.svg.call(this.zoom),this.svg.call(this.zoom.transform,e),this.simulation=Wu().force("charge",Uu().strength(this.fdcConfig.simulationParams.fdcStrength).distanceMax(this.fdcConfig.simulationParams.fdcDistanceMax)).force("collision",uu(this.fdcConfig.simulationParams.fdcForceCollide)).force("center",Ps(this.fdcConfig.chartWidth/2,this.fdcConfig.chartHeight/2)).alphaDecay(this.fdcConfig.simulationParams.fdcAlphaDecay).on("tick",this.ticked).on("end",(function(){t.isChartFirstRenderAnimationFinished||(t.zoomFit(),t.isChartFirstRenderAnimationFinished=!0)}))},updateChart:function(t,e){var n=this;t&&(this.root=cl(this.parsedInfo)),e&&(this.allNodesData=this.flatten(this.root),this.allLinks=this.root.links()),this.link=this.rootNode.selectAll(".link").data(this.allLinks,(function(t){return t.target.id})),this.link.exit().remove();var r=this.link.enter().append("line").attr("class","link").style("opacity","0.2").style("stroke-width",4);this.link=r.merge(this.link),this.node=this.rootNode.selectAll(".node").data(this.allNodesData,(function(t){return t.id})).attr("class",this.mainNodeClass),this.node.exit().remove();var i=this.node.enter().append("g").attr("class",this.mainNodeClass).style("opacity",1).on("click",(function(t,e){n.setDetailsInfo(e.data,!0)})).call(Ls().on("start",this.dragStarted).on("drag",this.dragging).on("end",this.dragEnded));i.append("circle").attr("r",this.setNodeRadius),i.append("circle").attr("r",(function(t){return n.setNodeRadius(t)-5})).attr("class","node-hover-layer"),i.append("svg").html((function(t){var e=n.fdcConfig.fetchNodeIcon(t);return Lm(e)})).attr("x",this.nodeImagePosition).attr("y",this.nodeImagePosition).attr("height",this.nodeImageSize).attr("width",this.nodeImageSize),this.node=i.merge(this.node),this.simulation.nodes(this.allNodesData),this.simulation.force("link",hu().id((function(t){return t.id})).distance(100).links(this.allLinks))},mainNodeClass:function(t){var e,n,r=null!==(e=t.data)&&void 0!==e&&e.state?t.data.state.toLowerCase():"unkown_status",i=["node"];jm["b"][r]&&jm["b"][r].color?i.push("node-".concat(jm["b"][r].color)):i.push("node-default-fill"),null!==(n=t.data)&&void 0!==n&&n.active&&i.push("active");var a=this.fdcConfig.extendNodeClass(t).concat(i);return a.join(" ")},setNodeRadius:function(t){var e=this.fdcConfig.nodeDimensions(t),n=e.radius;return n},nodeImageSize:function(t){var e=this.fdcConfig.nodeDimensions(t),n=e.size;return n},nodeImagePosition:function(t){var e=this.fdcConfig.nodeDimensions(t),n=e.position;return n},setDetailsInfo:function(t,e){var n=this;this.moreInfo=Object.assign([],this.fdcConfig.infoDetails(t)),e&&(this.allNodesData.forEach((function(e,r){e.data.matchingId===t.matchingId?n.allNodesData[r].data.active=!0:n.allNodesData[r].data.active=!1})),this.updateChart(!1,!1))},zoomFit:function(){var t=gs(".root-node"),e=30,n=t.node().getBoundingClientRect(),r=t.node().getBBox(),i=t.node().parentElement,a=i.clientWidth,o=i.clientHeight,s=n.width,u=n.height,l=r.x+s/2,c=r.y+u/2;if(0!==s&&0!==u){var h=1/Math.max(s/(a-e),u/(o-e)),f=[a/2-h*l,o/2-h*c],d=bm.translate(f[0],f[1]).scale(h);this.svg.call(this.zoom.transform,d)}},ticked:function(){this.link.attr("x1",(function(t){return t.source.x})).attr("y1",(function(t){return t.source.y})).attr("x2",(function(t){return t.target.x})).attr("y2",(function(t){return t.target.y})),this.node.attr("transform",(function(t){return"translate(".concat(t.x,", ").concat(t.y,")")}))},dragStarted:function(t,e){t.active||this.simulation.alphaTarget(.3).restart(),e.fx=e.x,e.fy=e.y},dragging:function(t,e){e.fx=t.x,e.fy=t.y},dragEnded:function(t,e){t.active||this.simulation.alphaTarget(0),e.fx=void 0,e.fy=void 0},zoomed:function(t){this.rootNode.attr("transform",t.transform)},flatten:function(t){var e=[],n=0;function r(t){t.children&&t.children.forEach(r),t.id?++n:t.id=++n,e.push(t)}return r(t),e}},mounted:function(){this.svg=gs("#tree").append("svg").attr("viewBox","0 0 ".concat(this.fdcConfig.chartWidth," ").concat(this.fdcConfig.chartHeight)).attr("preserveAspectRatio","none"),this.dataWatcher=this.$watch(this.fdcConfig.watcherProp,(function(t){this.watcherFunction(t)}),{deep:!0,immediate:!0})},unmounted:function(){this.dataWatcher()}},Im=Pm,zm=(n("5df3"),Object(O["a"])(Im,H,W,!1,null,null,null)),$m=zm.exports,Rm=n("c47f");function Vm(t){var e,n;return(null===(e=t.query)||void 0===e?void 0:e.mode)===h["R"]?h["R"]:null!==(n=t.params)&&void 0!==n&&n.id?t.query.mode||h["V"]:h["M"]}function qm(t,e){return Bm.apply(this,arguments)}function Bm(){return Bm=Object(a["a"])(s.a.mark((function t(e,n){var r,i;return s.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(i={headers:{accept:"application/yaml"}},!n.hasLink("view")){t.next=5;break}return t.next=4,n.followLink("view",i);case 4:r=t.sent.data;case 5:return t.abrupt("return",n.cleanForDownload(r));case 6:case"end":return t.stop()}}),t)}))),Bm.apply(this,arguments)}var Fm={components:{Loading:l["a"],DetailTop:X,ForceDirectedTreeChart:$m,ResourceYaml:c["a"],Masthead:j,IconMessage:Y["a"]},mixins:[u["a"]],props:{storeOverride:{type:String,default:null},resourceOverride:{type:String,default:null},parentRouteOverride:{type:String,default:null},flexContent:{type:Boolean,default:!1},componentTestid:{type:String,default:"resource-details"}},fetch:function(){var t=this;return Object(a["a"])(s.a.mark((function e(){var n,r,i,a,o,u,l,c,p,v,m,y,_,g,w,x,b,A,k,N,C,E,M,S,D,O,T,j,L,P,I;return s.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.$store,r=t.$route,i=r.params,a=t.resourceOverride||i.resource,o=t.storeOverride||n.getters["currentStore"](a),u=t.realMode,l=i.namespace,c=i.id,p=[h["K"],h["R"],h["T"]].includes(u)?h["M"]:u,v=n.getters["type-map/hasGraph"](a),m=!!v,y=n.getters["type-map/hasCustomDetail"](a,c),_=n.getters["type-map/hasCustomEdit"](a,c),g=n.getters["".concat(o,"/all")](f["U"]),w=r.query[h["a"]],b=!1,x=p!==h["V"]||!y||w&&w!==h["N"]?p===h["V"]&&m&&w===h["Q"]?h["Q"]:!_||w&&w!==h["L"]?h["W"]:h["L"]:h["N"],t.as=x,A=n.getters["type-map/optionsFor"](a),t.showMasthead=![h["M"],h["O"]].includes(p)||A.resourceEditMasthead,k=A.canYaml,A.resource&&(a=A.resource),N=n.getters["".concat(o,"/schemaFor")](a),u!==h["M"]&&u!==h["R"]){e.next=43;break}return l||(l=n.getters["defaultNamespace"]),O={type:a},null!==N&&void 0!==N&&null!==(D=N.attributes)&&void 0!==D&&D.namespaced&&(O.metadata={namespace:l}),e.next=28,n.dispatch("".concat(o,"/create"),O);case 28:return M=e.sent,e.next=31,n.dispatch("".concat(o,"/clone"),{resource:M});case 31:return E=e.sent,e.next=34,n.dispatch("".concat(o,"/clone"),{resource:M});case 34:if(C=e.sent,!0===C.forceYaml&&(x=h["W"],t.as=x),x!==h["W"]){e.next=41;break}if(null===N||void 0===N||!N.fetchResourceFields){e.next=40;break}return e.next=40,N.fetchResourceFields();case 40:S=Object(d["d"])(g,a,O);case 41:e.next=77;break;case 43:if(x!==h["Q"]){e.next=48;break}return e.next=46,Object(Rm["d"])({cluster:{inStoreType:"management",type:f["r"].CLUSTER},bundle:{inStoreType:"management",type:f["r"].BUNDLE},bundleDeployment:{inStoreType:"management",type:f["r"].BUNDLE_DEPLOYMENT}},t.$store);case 46:j=e.sent,t.canViewChart=j.cluster&&j.bundle&&j.bundleDeployment;case 48:return L=c,null!==(T=N.attributes)&&void 0!==T&&T.namespaced&&l&&(L="".concat(l,"/").concat(L)),e.prev=50,e.next=53,n.dispatch("".concat(o,"/find"),{type:a,id:L,opt:{watch:!0}});case 53:M=e.sent,e.next=61;break;case 56:e.prev=56,e.t0=e["catch"](50),404!==e.t0.status&&403!==e.t0.status||n.dispatch("loadingError",new Error(t.t("nav.failWhale.resourceIdNotFound",{resource:a,fqid:L},!0))),M={},b=L;case 61:if(u!==h["V"]){e.next=65;break}C=M,e.next=68;break;case 65:return e.next=67,n.dispatch("".concat(o,"/clone"),{resource:M});case 67:C=e.sent;case 68:return e.next=70,n.dispatch("".concat(o,"/clone"),{resource:M});case 70:if(E=e.sent,x!==h["W"]){e.next=75;break}return e.next=74,qm(t.$store,M);case 74:S=e.sent;case 75:x===h["Q"]&&(t.chartData=M),[h["K"],h["R"],h["T"]].includes(u)&&(C.cleanForNew(),S=C.cleanYaml(S,u));case 77:return e.next=79,n.dispatch("".concat(o,"/cleanForDetail"),C);case 79:for(I in C=e.sent,P={hasGraph:m,getGraphConfig:v,hasCustomDetail:y,hasCustomEdit:_,canViewYaml:k,resource:a,as:x,yaml:S,initialModel:E,liveModel:M,mode:p,value:C,notFound:b},P)t[I]=P[I];t.mode===h["M"]&&t.value.applyDefaults(t,u);case 83:case"end":return e.stop()}}),e,null,[[50,56]])})))()},data:function(){return{chartData:null,resourceSubtype:null,hasGraph:null,hasCustomDetail:null,hasCustomEdit:null,resource:null,asYaml:null,yaml:null,liveModel:null,initialModel:null,mode:null,as:null,value:null,model:null,notFound:null,canViewChart:!0}},computed:{realMode:function(){var t=Vm(this.$route);return t},isView:function(){return this.mode===h["V"]},isYaml:function(){return this.as===h["W"]},isDetail:function(){return this.as===h["N"]},isGraph:function(){return this.as===h["Q"]},offerPreview:function(){return this.as===h["W"]&&[h["O"],h["K"],h["R"],h["T"]].includes(this.mode)},showComponent:function(){switch(this.as){case h["N"]:return this.detailComponent;case h["L"]:return this.editComponent}return null}},watch:{"$route.query":function(t,e){var n=Object(x["clone"])(t),r=Object(x["clone"])(e);delete n[h["y"]],delete r[h["y"]],this.isView||(delete n[h["a"]],delete r[h["a"]]);var i=Object.keys(Object(x["diff"])(n,r));(i.includes(h["u"])||i.includes(h["a"]))&&this.$fetch()},"value.metadata.resourceVersion":function(t,e){var n=this;return Object(a["a"])(s.a.mark((function r(){return s.a.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(n.mode!==h["V"]||n.as!==h["W"]||!t||!e||t===e){r.next=4;break}return r.next=3,qm(n.$store,n.liveModel);case 3:n.yaml=r.sent;case 4:case"end":return r.stop()}}),r)})))()}},created:function(){var t=this.$route.params.id,e=this.resourceOverride||this.$route.params.resource,n=this.$store.getters["type-map/optionsFor"](e),r=n.resourceDetail||n.resource||e,i=n.resourceEdit||n.resource||e;this.detailComponent=this.$store.getters["type-map/importDetail"](r,t),this.editComponent=this.$store.getters["type-map/importEdit"](i,t)},methods:{setSubtype:function(t){this.resourceSubtype=t},keyAction:function(t){var e=this.liveModel;null!==e&&void 0!==e&&e[t]&&e[t]()}}},Xm=Fm,Ym=(n("db85"),Object(O["a"])(Xm,r,i,!1,null,"775f34c0",null));e["a"]=Ym.exports},d813:function(t,e,n){var r=n("4bad");e=r(!1),e.push([t.i,".flex-content[data-v-775f34c0]{display:flex;flex-direction:column;flex-grow:1}",""]),t.exports=e},d9d6:function(t,e,n){var r=n("d813");r.__esModule&&(r=r.default),"string"===typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);var i=n("499e").default;i("f47d0520",r,!0,{sourceMap:!1,shadowMode:!1})},db85:function(t,e,n){"use strict";n("d9d6")},e237:function(t,e,n){"use strict";n("9518")},e247:function(t,e,n){"use strict";n("6de1")},e8cc:function(t,e,n){var r=n("4bad");e=r(!1),e.push([t.i,'.chart-container{display:flex;background-color:var(--body-bg);position:relative;border:1px solid var(--border);border-radius:var(--border-radius);min-height:100px}.chart-container .loading-container{content:"";position:absolute;top:0;left:0;width:100%;height:100%;border-radius:var(--border-radius);background-color:var(--body-bg);z-index:2;display:flex;align-items:center;justify-content:center;flex-direction:column}.chart-container .loading-container i{font-size:24px}.chart-container #tree{width:70%;height:-moz-fit-content;height:fit-content}.chart-container #tree svg{margin-top:3px}.chart-container #tree .link{stroke:var(--darker)}.chart-container #tree .node{cursor:pointer}.chart-container #tree .node.active .node-hover-layer{display:block}.chart-container #tree .node.repo.active>circle{transform:scale(1.2)}.chart-container #tree .node.bundle.active>circle{transform:scale(1.35)}.chart-container #tree .node.bundle-deployment.active>circle{transform:scale(1.6)}.chart-container #tree .node.node-default-fill>circle,.chart-container #tree .node.repo>circle{fill:var(--muted)}.chart-container #tree .node:not(.repo).node-success>circle{fill:var(--success)}.chart-container #tree .node:not(.repo).node-info>circle{fill:var(--info)}.chart-container #tree .node:not(.repo).node-warning>circle{fill:var(--warning)}.chart-container #tree .node:not(.repo).node-error>circle{fill:var(--error)}.chart-container #tree .node .node-hover-layer{stroke:var(--body-bg);stroke-width:2;display:none}.chart-container .more-info-container{width:30%;position:relative;border-left:1px solid var(--border);background-color:var(--body-bg);overflow:hidden}.chart-container .more-info-container,.chart-container .more-info-container .more-info{border-top-right-radius:var(--border-radius);border-bottom-right-radius:var(--border-radius)}.chart-container .more-info-container .more-info{position:absolute;top:0;left:0;right:0;bottom:0;width:100%;padding:20px;overflow-y:auto}.chart-container .more-info-container .more-info table td{vertical-align:top;padding-bottom:10px}.chart-container .more-info-container .more-info table td.align-middle{vertical-align:middle}.chart-container .more-info-container .more-info table .more-info-item-label{color:var(--darker);margin-right:8px}.chart-container .more-info-container .more-info table .single-error{color:var(--error)}.chart-container .more-info-container .more-info table p{line-height:1.5em}',""]),t.exports=e},e9fc:function(t,e,n){"use strict";n("99af");var r=function(){var t=this,e=t._self._c;return t.extensionData.length?e("div",t._l(t.extensionData,(function(n,r){return e("div",{key:"extensionData".concat(t.location).concat(r)},[e(n.component,{tag:"component",attrs:{resource:t.resource}})],1)})),0):t._e()},i=[],a=n("55f9"),o={name:"ExtensionPanel",props:{resource:{type:Object,default:function(){return{}}},type:{type:String,default:""},location:{type:String,default:""}},data:function(){return{extensionData:Object(a["a"])(this,this.type,this.location,this.$route)}}},s=o,u=n("0c7c"),l=Object(u["a"])(s,r,i,!1,null,null,null);e["a"]=l.exports}}]);
//# sourceMappingURL=chunk-64d47cf6.87a04da7.js.map