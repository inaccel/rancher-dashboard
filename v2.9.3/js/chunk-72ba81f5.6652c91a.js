(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-72ba81f5"],{"24e5":function(e,a,t){var n=t("4bad");a=n(!1),a.push([e.i,".overlay[data-v-ee6d3416]{width:100%;height:100%;position:absolute;top:0;left:0;background-color:var(--overlay-bg);z-index:1}.ui-perf-setting P[data-v-ee6d3416]{line-height:1.25;margin-bottom:10px}.ui-perf-setting .underline[data-v-ee6d3416]{text-decoration:underline}.input[data-v-ee6d3416]{max-width:25%}",""]),e.exports=a},5233:function(e,a,t){"use strict";t("b4d4")},"71a5e":function(e,a,t){"use strict";t.r(a);var n=function(){var e=this,a=e._self._c;return e.$fetchState.pending?a("Loading"):a("div",[a("h1",{staticClass:"mb-20"},[e._v("\n    "+e._s(e.t("performance.label"))+"\n  ")]),e._v(" "),a("div",[a("div",{staticClass:"ui-perf-setting"},[a("div",{staticClass:"mt-40"},[a("h2",[e._v(e._s(e.t("performance.serverPagination.label")))]),e._v(" "),a("p",[e._v(e._s(e.t("performance.serverPagination.description")))]),e._v(" "),a("Banner",{attrs:{color:"error","label-key":"performance.experimental"}}),e._v(" "),e.steveCacheEnabled?e._e():a("Banner",{directives:[{name:"clean-html",rawName:"v-clean-html",value:e.t("performance.serverPagination.featureFlag",{ffUrl:e.ffUrl},!0),expression:"t(`performance.serverPagination.featureFlag`, { ffUrl }, true)"}],attrs:{color:"warning"}}),e._v(" "),a("Checkbox",{staticClass:"mt-10 mb-20",attrs:{mode:e.mode,label:e.t("performance.serverPagination.checkboxLabel"),primary:!0,disabled:!e.steveCacheEnabled&&!e.value.serverPagination.enabled},on:{input:function(a){return e.compatibleWarning("serverPagination",a)}},model:{value:e.value.serverPagination.enabled,callback:function(a){e.$set(e.value.serverPagination,"enabled",a)},expression:"value.serverPagination.enabled"}}),e._v(" "),a("p",{class:{"text-muted":!e.value.serverPagination.enabled}},[e._v("\n          "+e._s(e.t("performance.serverPagination.applicable"))+"\n        ")]),e._v(" "),a("p",{class:{"text-muted":!e.value.serverPagination.enabled}},[e._v("\n          "+e._s(e.steveCacheApplicableResources)+"\n        ")])],1),e._v(" "),a("div",{staticClass:"mt-20"},[a("h2",[e._v(e._s(e.t("performance.inactivity.title")))]),e._v(" "),a("p",[e._v(e._s(e.t("performance.inactivity.description")))]),e._v(" "),a("Checkbox",{staticClass:"mt-10 mb-20",attrs:{mode:e.mode,label:e.t("performance.inactivity.checkboxLabel"),primary:!0},model:{value:e.value.inactivity.enabled,callback:function(a){e.$set(e.value.inactivity,"enabled",a)},expression:"value.inactivity.enabled"}}),e._v(" "),a("div",{staticClass:"ml-20"},[a("LabeledInput",{staticClass:"input mb-10",attrs:{"data-testid":"inactivity-threshold",mode:e.mode,label:e.t("performance.inactivity.inputLabel"),disabled:!e.value.inactivity.enabled,type:"number",min:"0",rules:[e.validateInactivityThreshold]},model:{value:e.value.inactivity.threshold,callback:function(a){e.$set(e.value.inactivity,"threshold",a)},expression:"value.inactivity.threshold"}}),e._v(" "),a("span",{directives:[{name:"clean-html",rawName:"v-clean-html",value:e.t("performance.inactivity.information",{},!0),expression:"t('performance.inactivity.information', {}, true)"}],class:{"text-muted":!e.value.incrementalLoading.enabled}})],1)],1),e._v(" "),a("div",{staticClass:"mt-40"},[a("h2",[e._v(e._s(e.t("performance.websocketNotification.label")))]),e._v(" "),a("p",[e._v(e._s(e.t("performance.websocketNotification.description")))]),e._v(" "),a("Checkbox",{staticClass:"mt-10 mb-20",attrs:{mode:e.mode,label:e.t("performance.websocketNotification.checkboxLabel"),primary:!0},model:{value:e.value.disableWebsocketNotification,callback:function(a){e.$set(e.value,"disableWebsocketNotification",a)},expression:"value.disableWebsocketNotification"}})],1),e._v(" "),a("div",{staticClass:"mt-40"},[a("h2",[e._v(e._s(e.t("performance.incrementalLoad.label")))]),e._v(" "),a("p",[e._v(e._s(e.t("performance.incrementalLoad.description")))]),e._v(" "),a("Checkbox",{staticClass:"mt-10 mb-20",attrs:{value:e.value.incrementalLoading.enabled,mode:e.mode,label:e.t("performance.incrementalLoad.checkboxLabel"),primary:!0},on:{input:function(a){return e.compatibleWarning("incrementalLoading",a)}}}),e._v(" "),a("div",{staticClass:"ml-20"},[a("p",{class:{"text-muted":!e.value.incrementalLoading.enabled}},[e._v("\n            "+e._s(e.t("performance.incrementalLoad.setting"))+"\n          ")]),e._v(" "),a("LabeledInput",{staticClass:"input",attrs:{mode:e.mode,label:e.t("performance.incrementalLoad.inputLabel"),disabled:!e.value.incrementalLoading.enabled,type:"number",min:"0"},model:{value:e.value.incrementalLoading.threshold,callback:function(a){e.$set(e.value.incrementalLoading,"threshold",a)},expression:"value.incrementalLoading.threshold"}})],1)],1),e._v(" "),a("div",{staticClass:"mt-40"},[a("h2",{directives:[{name:"t",rawName:"v-t",value:"performance.manualRefresh.label",expression:"'performance.manualRefresh.label'"}]}),e._v(" "),a("p",[e._v(e._s(e.t("performance.manualRefresh.description")))]),e._v(" "),a("Banner",{attrs:{color:"error","label-key":"performance.experimental"}}),e._v(" "),a("Checkbox",{staticClass:"mt-10 mb-20",attrs:{value:e.value.manualRefresh.enabled,mode:e.mode,label:e.t("performance.manualRefresh.checkboxLabel"),primary:!0},on:{input:function(a){return e.compatibleWarning("manualRefresh",a)}}}),e._v(" "),a("div",{staticClass:"ml-20"},[a("p",{class:{"text-muted":!e.value.manualRefresh.enabled}},[e._v("\n            "+e._s(e.t("performance.manualRefresh.setting"))+"\n          ")]),e._v(" "),a("LabeledInput",{staticClass:"input",attrs:{mode:e.mode,label:e.t("performance.manualRefresh.inputLabel"),disabled:!e.value.manualRefresh.enabled,type:"number",min:"0"},model:{value:e.value.manualRefresh.threshold,callback:function(a){e.$set(e.value.manualRefresh,"threshold",e._n(a))},expression:"value.manualRefresh.threshold"}})],1)],1),e._v(" "),a("div",{staticClass:"mt-40"},[a("h2",{directives:[{name:"t",rawName:"v-t",value:"performance.gc.label",expression:"'performance.gc.label'"}]}),e._v(" "),a("p",[e._v(e._s(e.t("performance.gc.description")))]),e._v(" "),a("Banner",{attrs:{color:"error","label-key":"performance.experimental"}}),e._v(" "),a("Checkbox",{staticClass:"mt-10 mb-20",attrs:{mode:e.mode,label:e.t("performance.gc.checkboxLabel"),primary:!0},model:{value:e.value.garbageCollection.enabled,callback:function(a){e.$set(e.value.garbageCollection,"enabled",a)},expression:"value.garbageCollection.enabled"}}),e._v(" "),a("div",{staticClass:"ml-20"},[a("h3",[e._v(e._s(e.t("performance.gc.whenRun.description")))]),e._v(" "),a("div",{staticClass:"ml-20 mb-10"},[a("Checkbox",{staticClass:"mt-10 mb-10",class:{"text-muted":!e.value.garbageCollection.enabled},attrs:{mode:e.mode,label:e.t("performance.gc.whenRun.intervalCheckBox.label"),disabled:!e.value.garbageCollection.enabled,primary:!0},model:{value:e.value.garbageCollection.enabledInterval,callback:function(a){e.$set(e.value.garbageCollection,"enabledInterval",a)},expression:"value.garbageCollection.enabledInterval"}}),e._v(" "),a("div",{staticClass:"ml-20"},[a("UnitInput",{staticClass:"input",attrs:{mode:e.mode,suffix:e.t("suffix.seconds",{count:e.value.garbageCollection.interval}),label:e.t("performance.gc.whenRun.interval.inputLabel"),disabled:!e.value.garbageCollection.enabled||!e.value.garbageCollection.enabledInterval,min:"30"},model:{value:e.value.garbageCollection.interval,callback:function(a){e.$set(e.value.garbageCollection,"interval",a)},expression:"value.garbageCollection.interval"}})],1),e._v(" "),a("Checkbox",{staticClass:"mt-20 mb-10",class:{"text-muted":!e.value.garbageCollection.enabled},attrs:{mode:e.mode,label:e.t("performance.gc.whenRun.route.description"),disabled:!e.value.garbageCollection.enabled,primary:!0},model:{value:e.value.garbageCollection.enabledOnNavigate,callback:function(a){e.$set(e.value.garbageCollection,"enabledOnNavigate",a)},expression:"value.garbageCollection.enabledOnNavigate"}})],1),e._v(" "),a("h3",[e._v(e._s(e.t("performance.gc.howRun.description")))]),e._v(" "),a("div",{staticClass:"ml-20"},[a("p",{class:{"text-muted":!e.value.garbageCollection.enabled}},[e._v("\n              "+e._s(e.t("performance.gc.howRun.age.description",{},!0))+"\n            ")]),e._v(" "),a("UnitInput",{staticClass:"input",attrs:{mode:e.mode,suffix:e.t("suffix.seconds",{count:e.value.garbageCollection.ageThreshold}),label:e.t("performance.gc.howRun.age.inputLabel"),disabled:!e.value.garbageCollection.enabled,min:"30"},model:{value:e.value.garbageCollection.ageThreshold,callback:function(a){e.$set(e.value.garbageCollection,"ageThreshold",a)},expression:"value.garbageCollection.ageThreshold"}}),e._v(" "),a("p",{staticClass:"mt-20",class:{"text-muted":!e.value.garbageCollection.enabled}},[e._v("\n              "+e._s(e.t("performance.gc.howRun.count.description"))+"\n            ")]),e._v(" "),a("LabeledInput",{staticClass:"input",attrs:{mode:e.mode,label:e.t("performance.gc.howRun.count.inputLabel"),disabled:!e.value.garbageCollection.enabled,type:"number",min:"0"},model:{value:e.value.garbageCollection.countThreshold,callback:function(a){e.$set(e.value.garbageCollection,"countThreshold",e._n(a))},expression:"value.garbageCollection.countThreshold"}})],1)])],1),e._v(" "),a("div",{staticClass:"mt-40"},[a("h2",[e._v(e._s(e.t("performance.nsFiltering.label")))]),e._v(" "),a("p",[e._v(e._s(e.t("performance.nsFiltering.description")))]),e._v(" "),a("Banner",{attrs:{color:"error","label-key":"performance.experimental"}}),e._v(" "),a("Checkbox",{staticClass:"mt-10 mb-20",attrs:{value:e.value.forceNsFilterV2.enabled,mode:e.mode,label:e.t("performance.nsFiltering.checkboxLabel"),primary:!0},on:{input:function(a){return e.compatibleWarning("forceNsFilterV2",a)}}})],1),e._v(" "),a("div",{staticClass:"mt-40"},[a("h2",[e._v(e._s(e.t("performance.advancedWorker.label")))]),e._v(" "),a("p",[e._v(e._s(e.t("performance.advancedWorker.description")))]),e._v(" "),a("Banner",{attrs:{color:"error","label-key":"performance.experimental"}}),e._v(" "),a("Checkbox",{staticClass:"mt-10 mb-20",attrs:{mode:e.mode,label:e.t("performance.advancedWorker.checkboxLabel"),primary:!0},model:{value:e.value.advancedWorker.enabled,callback:function(a){e.$set(e.value.advancedWorker,"enabled",a)},expression:"value.advancedWorker.enabled"}})],1)])]),e._v(" "),e._l(e.errors,(function(e){return[a("Banner",{key:e,attrs:{color:"error",label:e}})]})),e._v(" "),"edit"===e.mode?a("div",[a("AsyncButton",{staticClass:"pull-right mt-20",attrs:{"data-testid":"performance__save-btn",mode:"apply",disabled:!e.canSave},on:{click:e.save}})],1):e._e()],2)},r=[],l=(t("b64b"),t("a4d3"),t("4de4"),t("e439"),t("dbb4"),t("3835")),i=t("ade3"),o=t("1da1"),s=(t("caad"),t("2532"),t("d3b7"),t("159b"),t("4fad"),t("99af"),t("a15b"),t("a34a")),c=t.n(s),u=(t("96cf"),t("4de2")),d=t("c778"),v=t("67c9"),b=t("bec1"),m=t("84d3"),p=t("a788"),f=t("c5b9"),h=t("fa3b"),g=t("1599"),_=t("c2de"),C=t("dfc6");function x(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function y(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?x(Object(t),!0).forEach((function(a){Object(i["a"])(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):x(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}var k={incrementalLoading:["forceNsFilterV2","serverPagination"],manualRefresh:["forceNsFilterV2","serverPagination"],forceNsFilterV2:["incrementalLoading","manualRefresh"],serverPagination:["incrementalLoading","manualRefresh"]},L={incrementalLoading:"incrementalLoad",manualRefresh:"manualRefresh",forceNsFilterV2:"nsFiltering",serverPagination:"serverPagination"},P={components:{Checkbox:u["a"],Loading:d["a"],AsyncButton:v["b"],Banner:b["a"],LabeledInput:m["a"],UnitInput:g["a"]},fetch:function(){var e=this;return Object(o["a"])(c.a.mark((function a(){var t,n;return c.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,e.$store.dispatch("management/find",{type:p["F"].SETTING,id:f["c"].UI_PERFORMANCE});case 3:e.uiPerfSetting=a.sent,a.next=13;break;case 6:return a.prev=6,a.t0=a["catch"](0),a.next=10,e.$store.dispatch("management/create",{type:p["F"].SETTING},{root:!0});case 10:e.uiPerfSetting=a.sent,e.uiPerfSetting.value=JSON.stringify(f["b"]),e.uiPerfSetting.metadata={name:f["c"].UI_PERFORMANCE};case 13:return a.prev=13,a.next=16,e.$store.dispatch("management/find",{type:p["F"].SETTING,id:f["c"].AUTH_USER_SESSION_TTL_MINUTES});case 16:e.authUserTTL=a.sent,a.next=21;break;case 19:a.prev=19,a.t1=a["catch"](13);case 21:n=(null===(t=e.uiPerfSetting)||void 0===t?void 0:t.value)||JSON.stringify(f["b"]),e.value=y(y({},f["b"]),JSON.parse(n)),e.gcStartedEnabled=e.value.garbageCollection.enabled;case 24:case"end":return a.stop()}}),a,null,[[0,6],[13,19]])})))()},data:function(){return{uiPerfSetting:null,authUserTTL:null,bannerVal:{},value:{},errors:[],gcStartedEnabled:null,isInactivityThresholdValid:!1,ffUrl:this.$router.resolve({name:"c-cluster-product-resource",params:{product:C["NAME"],resource:p["F"].FEATURE}}).href}},computed:{mode:function(){var e,a=this.$store.getters["management/schemaFor"](p["F"].SETTING);return null!==a&&void 0!==a&&null!==(e=a.resourceMethods)&&void 0!==e&&e.includes("PUT")?h["O"]:h["V"]},canSave:function(){return!this.value.inactivity.enabled||this.isInactivityThresholdValid},steveCacheEnabled:function(){return this.$store.getters["features/get"](_["STEVE_CACHE"])},steveCacheApplicableResources:function(){var e=this,a=[];return Object.entries(this.value.serverPagination.stores).forEach((function(t){var n=Object(l["a"])(t,2),r=n[0],i=n[1],o=[];i.resources.enableAll?o.push(e.t("performance.serverPagination.resources.all")):(i.resources.enableSome.enabled.forEach((function(e){o.push(e)})),i.resources.enableSome.generic&&o.push(e.t("performance.serverPagination.resources.generic",{},!0))),a.push("".concat(r,": ").concat(o.join(", ")))})),a.join(". ")}},methods:{validateInactivityThreshold:function(e){var a,t;if(null!==(a=this.authUserTTL)&&void 0!==a&&a.value)return parseInt(e)>parseInt(null===(t=this.authUserTTL)||void 0===t?void 0:t.value)?(this.isInactivityThresholdValid=!1,this.t("performance.inactivity.authUserTTL",{current:this.authUserTTL.value})):void(this.isInactivityThresholdValid=!0);this.isInactivityThresholdValid=!0},save:function(e){var a=this;return Object(o["a"])(c.a.mark((function t(){return c.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a.uiPerfSetting.value=JSON.stringify(a.value),a.errors=[],t.prev=2,t.next=5,a.uiPerfSetting.save();case 5:a.$store.dispatch("gcPreferencesUpdated",{previouslyEnabled:a.gcStartedEnabled,newPreferences:a.value.garbageCollection},{root:!0}),a.gcStartedEnabled=a.value.garbageCollection.enabled,e(!0),t.next=14;break;case 10:t.prev=10,t.t0=t["catch"](2),a.errors.push(t.t0),e(!1);case 14:case"end":return t.stop()}}),t,null,[[2,10]])})))()},compatibleWarning:function(e,a){var t=this;a?(k[e]||[]).every((function(e){return!t.value[e].enabled}))?this.value[e].enabled=!0:this.$store.dispatch("cluster/promptModal",{component:"GenericPrompt",componentProps:{applyMode:"enable",applyAction:function(a){t.value[e].enabled=!0,(k[e]||[]).forEach((function(e){t.value[e].enabled=!1})),a(!0)},title:this.t("promptRemove.title",{},!0),body:this.t("performance.".concat(L[e],".incompatibleDescription"),{},!0)}}):this.value[e].enabled=!1}}},T=P,w=(t("5233"),t("0c7c")),R=Object(w["a"])(T,n,r,!1,null,"ee6d3416",null);a["default"]=R.exports},b4d4:function(e,a,t){var n=t("24e5");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var r=t("499e").default;r("524d9fa6",n,!0,{sourceMap:!1,shadowMode:!1})}}]);
//# sourceMappingURL=chunk-72ba81f5.6652c91a.js.map