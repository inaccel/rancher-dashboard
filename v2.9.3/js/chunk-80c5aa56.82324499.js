(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-80c5aa56","chunk-2d0cfa28"],{"0cc7":function(e,t,r){var s=r("4bad");t=s(!1),t.push([e.i,".hardware-resource-gauge[data-v-5826f04a]{position:relative;display:flex;flex-direction:column}.hardware-resource-gauge .hw-gauge[data-v-5826f04a]:not(:first-of-type){margin-top:20px}.hardware-resource-gauge .values[data-v-5826f04a]{font-size:12px;padding-left:10px}",""]),e.exports=t},"1acf":function(e,t,r){"use strict";r.r(t),r.d(t,"RESOURCES",(function(){return Ue}));var s=r("ade3"),a=(r("a4d3"),r("e01a"),r("b0c0"),function(){var e=this,t=e._self._c;return t("section",{staticClass:"dashboard"},[t("header",[t("div",{staticClass:"title"},[t("h1",[t("TabTitle",[e._v("\n          "+e._s(e.t("clusterIndexPage.header"))+"\n        ")])],1),e._v(" "),e.hasDescription?t("div",{staticClass:"cluster-dashboard-description"},[t("span",[e._v(e._s(e.currentCluster.spec.description))])]):e._e()])]),e._v(" "),t("div",{staticClass:"cluster-dashboard-glance"},[t("div",{attrs:{"data-testid":"clusterProvider__label"}},[t("label",[e._v(e._s(e.t("glance.provider"))+": ")]),e._v(" "),e.isHarvesterCluster?t("span",[t("a",{attrs:{role:"button"},on:{click:e.goToHarvesterCluster}},[e._v("\n          "+e._s(e.displayProvider)+"\n        ")])]):t("span",[e._v("\n        "+e._s(e.displayProvider)+"\n      ")])]),e._v(" "),t("div",{attrs:{"data-testid":"kubernetesVersion__label"}},[t("label",[e._v(e._s(e.t("glance.version"))+": ")]),e._v(" "),t("span",[e._v(e._s(e.currentCluster.kubernetesVersionBase))]),e._v(" "),e.currentCluster.kubernetesVersionExtension?t("span",{staticStyle:{"font-size":"0.75em"}},[e._v(e._s(e.currentCluster.kubernetesVersionExtension))]):e._e()]),e._v(" "),e.nodes.length>0?t("div",{attrs:{"data-testid":"architecture__label"}},[t("label",[e._v(e._s(e.t("glance.architecture"))+": ")]),e._v(" "),t("span",{directives:[{name:"clean-tooltip",rawName:"v-clean-tooltip",value:e.architecture.tooltip,expression:"architecture.tooltip"}]},[e._v("\n        "+e._s(e.architecture.label)+"\n      ")])]):e._e(),e._v(" "),t("div",{attrs:{"data-testid":"created__label"}},[t("label",[e._v(e._s(e.t("glance.created"))+": ")]),e._v(" "),t("span",[t("LiveDate",{attrs:{value:e.currentCluster.metadata.creationTimestamp,"add-suffix":!0,"show-tooltip":!0}})],1)]),e._v(" "),t("div",{style:{flex:1}}),e._v(" "),e.showClusterTools?t("div",[t("router-link",{staticClass:"cluster-tools-link",attrs:{to:{name:"c-cluster-explorer-tools"}}},[t("span",[e._v(e._s(e.t("nav.clusterTools")))])])],1):e._e(),e._v(" "),e.currentCluster.canUpdate?t("ConfigBadge",{attrs:{cluster:e.currentCluster}}):e._e()],1),e._v(" "),t("div",{staticClass:"resource-gauges"},[t("ResourceSummary",{attrs:{"spoofed-counts":e.totalCountGaugeInput}}),e._v(" "),e.canAccessNodes?t("ResourceSummary",{attrs:{resource:"node"}}):e._e(),e._v(" "),e.canAccessDeployments?t("ResourceSummary",{attrs:{resource:"apps.deployment"}}):e._e()],1),e._v(" "),e.extensionCards.length?t("div",{staticClass:"extension-card-container mt-20"},e._l(e.extensionCards,(function(r,s){return t("SimpleBox",{key:"extensionCards".concat(s),staticClass:"extension-card",style:r.style},[t("h3",[e._v("\n        "+e._s(r.label)+"\n      ")]),e._v(" "),t(r.component,{tag:"component",attrs:{resource:e.currentCluster}})],1)})),1):e._e(),e._v(" "),e.hasStats?t("h3",{staticClass:"mt-40"},[e._v("\n    "+e._s(e.t("clusterIndexPage.sections.capacity.label"))+"\n  ")]):e._e(),e._v(" "),e.hasStats?t("div",{staticClass:"hardware-resource-gauges"},[t("HardwareResourceGauge",{attrs:{name:e.t("clusterIndexPage.hardwareResourceGauge.pods"),used:e.podsUsed}}),e._v(" "),t("HardwareResourceGauge",{attrs:{name:e.t("clusterIndexPage.hardwareResourceGauge.cores"),reserved:e.cpuReserved,used:e.cpuUsed,units:e.cpuReserved.units}}),e._v(" "),t("HardwareResourceGauge",{attrs:{name:e.t("clusterIndexPage.hardwareResourceGauge.ram"),reserved:e.ramReserved,used:e.ramUsed,units:e.ramReserved.units}})],1):e._e(),e._v(" "),e.hasStats&&e.fpgaCapacity?t("h3",{staticClass:"mt-40"},[e._v("\n    "+e._s(e.t("clusterIndexPage.sections.fpgaUsage.label"))+"\n  ")]):e._e(),e._v(" "),e.hasStats&&e.fpgaCapacity?t("div",{staticClass:"hardware-resource-gauges"},[e.intelOfsIa420fr0Capacity?t("HardwareResourceGauge",{attrs:{name:e.t("clusterIndexPage.hardwareResourceGauge.intelOfsIa420fr0"),used:e.intelOfsIa420fr0Used}}):e._e(),e._v(" "),e.intelOfsIa420fr0UsmCapacity?t("HardwareResourceGauge",{attrs:{name:e.t("clusterIndexPage.hardwareResourceGauge.intelOfsIa420fr0Usm"),used:e.intelOfsIa420fr0UsmUsed}}):e._e(),e._v(" "),e.intelOfsIa840fr0Capacity?t("HardwareResourceGauge",{attrs:{name:e.t("clusterIndexPage.hardwareResourceGauge.intelOfsIa840fr0"),used:e.intelOfsIa840fr0Used}}):e._e(),e._v(" "),e.intelOfsIa840fr0UsmCapacity?t("HardwareResourceGauge",{attrs:{name:e.t("clusterIndexPage.hardwareResourceGauge.intelOfsIa840fr0Usm"),used:e.intelOfsIa840fr0UsmUsed}}):e._e(),e._v(" "),e.intelPacA10Capacity?t("HardwareResourceGauge",{attrs:{name:e.t("clusterIndexPage.hardwareResourceGauge.intelPacA10"),used:e.intelPacA10Used}}):e._e(),e._v(" "),e.intelPacS10Capacity?t("HardwareResourceGauge",{attrs:{name:e.t("clusterIndexPage.hardwareResourceGauge.intelPacS10"),used:e.intelPacS10Used}}):e._e(),e._v(" "),e.intelPacS10UsmCapacity?t("HardwareResourceGauge",{attrs:{name:e.t("clusterIndexPage.hardwareResourceGauge.intelPacS10Usm"),used:e.intelPacS10UsmUsed}}):e._e()],1):e._e(),e._v(" "),e.clusterServices?t("div",e._l(e.clusterServices,(function(r){return t("div",{key:r.name,staticClass:"k8s-service-status",class:Object(s["a"])({},r.status,!0),attrs:{"data-testid":"k8s-service-".concat(r.name)}},[r.status===e.STATES_ENUM.IN_PROGRESS?t("i",{staticClass:"icon icon-spinner icon-spin"}):r.status===e.STATES_ENUM.HEALTHY?t("i",{staticClass:"icon icon-checkmark"}):t("i",{staticClass:"icon icon-warning"}),e._v(" "),t("div",{staticClass:"label"},[e._v("\n        "+e._s(e.t(r.labelKey))+"\n      ")])])})),0):e._e(),e._v(" "),t("div",{staticClass:"mt-30"},[t("Tabbed",{on:{changed:e.tabChange}},[t("Tab",{attrs:{name:"cluster-events",label:e.t("clusterIndexPage.sections.events.label"),weight:2}},[t("span",{staticClass:"events-table-link"},[t("router-link",{attrs:{to:e.allEventsLink}},[t("span",[e._v(e._s(e.t("glance.eventsTable")))])])],1),e._v(" "),t("EventsTable")],1),e._v(" "),e.hasMonitoring?t("Tab",{attrs:{name:"cluster-alerts",label:e.t("clusterIndexPage.sections.alerts.label"),weight:1}},["cluster-alerts"===e.selectedTab?t("AlertTable"):e._e()],1):e._e(),e._v(" "),e.showCertificates?t("Tab",{attrs:{name:"cluster-certs",label:e.t("clusterIndexPage.sections.certs.label"),weight:1}},[t("span",{staticClass:"cert-table-link"},[t("router-link",{attrs:{to:e.allSecretsLink}},[t("span",[e._v(e._s(e.t("glance.secretsTable")))])])],1),e._v(" "),"cluster-certs"===e.selectedTab?t("Certificates"):e._e()],1):e._e()],1)],1),e._v(" "),e.hasMetricsTabs?t("Tabbed",{staticClass:"mt-30",attrs:{"default-tab":"cluster-metrics","use-hash":!1}},[e.showClusterMetrics?t("Tab",{attrs:{name:"cluster-metrics",label:e.t("clusterIndexPage.sections.clusterMetrics.label"),weight:2},scopedSlots:e._u([{key:"default",fn:function(r){return[r.active?t("DashboardMetrics",{attrs:{"detail-url":e.CLUSTER_METRICS_DETAIL_URL,"summary-url":e.CLUSTER_METRICS_SUMMARY_URL,"graph-height":"825px"}}):e._e()]}}],null,!1,1229087076)}):e._e(),e._v(" "),e.showK8sMetrics?t("Tab",{attrs:{name:"k8s-metrics",label:e.t("clusterIndexPage.sections.k8sMetrics.label"),weight:1},scopedSlots:e._u([{key:"default",fn:function(r){return[r.active?t("DashboardMetrics",{attrs:{"detail-url":e.K8S_METRICS_DETAIL_URL,"summary-url":e.K8S_METRICS_SUMMARY_URL,"graph-height":"550px"}}):e._e()]}}],null,!1,2044967979)}):e._e(),e._v(" "),e.showEtcdMetrics?t("Tab",{attrs:{name:"etcd-metrics",label:e.t("clusterIndexPage.sections.etcdMetrics.label"),weight:0},scopedSlots:e._u([{key:"default",fn:function(r){return[r.active?t("DashboardMetrics",{staticClass:"etcd-metrics",attrs:{"detail-url":e.ETCD_METRICS_DETAIL_URL,"summary-url":e.ETCD_METRICS_SUMMARY_URL,"graph-height":"550px"}},[t("EtcdInfoBanner")],1):e._e()]}}],null,!1,4260631169)}):e._e()],1):e._e()],1)}),n=[],i=(r("e439"),r("dbb4"),r("fb6a"),r("a630"),r("ac1f"),r("d28b"),r("1da1")),c=r("2909"),o=r("a34a"),u=r.n(o),l=(r("96cf"),r("4de4"),r("d3b7"),r("159b"),r("b64b"),r("99af"),r("caad"),r("e260"),r("6062"),r("3ca3"),r("e3df"),r("015a"),r("85ca"),r("74d4"),r("dee5"),r("b628"),r("658e"),r("0b52"),r("9661"),r("0a8d"),r("e495"),r("72d0"),r("2705"),r("a9a1"),r("4a2e"),r("0466"),r("ddb0"),r("7db0"),r("4fad"),r("d81d"),r("25eb"),r("a9e3"),r("2ca0"),r("6372")),d=r("2f62"),f=r("a788"),p=r("7388"),v=r("fa98"),h=r("d458"),m=r("bec1"),g=r("04e8"),b=r("9149"),_=r("ec09"),y=r("a4d2"),C=r("f38f"),O=r("680c"),x=function(){var e=this,t=e._self._c;return e.$fetchState.pending?t("Loading"):t("Banner",{staticClass:"banner",attrs:{color:"info"}},[t("div",{staticClass:"datum"},[t("label",[e._v(e._s(e.t("etcdInfoBanner.hasLeader")))]),e._v(" "+e._s(e.hasLeader)+",\n  ")]),e._v(" "),t("div",{staticClass:"datum"},[t("label",[e._v(e._s(e.t("etcdInfoBanner.leaderChanges")))]),e._v(" "+e._s(e.leaderChanges)+",\n  ")]),e._v(" "),t("div",{staticClass:"datum"},[t("label",[e._v(e._s(e.t("etcdInfoBanner.failedProposals")))]),e._v(" "+e._s(e.failedProposals)+"\n  ")])])},S=[],w=r("c778");function I(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?I(Object(r),!0).forEach((function(t){Object(s["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):I(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var P={components:{Banner:m["a"],Loading:w["a"]},fetch:function(){var e=this;return Object(i["a"])(u.a.mark((function t(){var r,s,a,n;return u.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=e.$store.getters["currentProduct"].inStore,s="",!e.$store.getters["".concat(r,"/canList")](f["f"].APP)){t.next=12;break}return t.prev=3,t.next=6,e.$store.dispatch("".concat(r,"/find"),{type:f["f"].APP,id:"cattle-monitoring-system/rancher-monitoring"});case 6:a=t.sent,s=null===a||void 0===a?void 0:a.currentVersion,t.next=12;break;case 10:t.prev=10,t.t0=t["catch"](3);case 12:return t.next=14,Object(O["e"])(s,e.$store.dispatch,e.currentCluster.id);case 14:return n=t.sent,e.hasLeader=n?"Yes":"No",t.next=18,Object(O["f"])(s,e.$store.dispatch,e.currentCluster.id);case 18:return e.leaderChanges=t.sent,t.next=21,Object(O["c"])(s,e.$store.dispatch,e.currentCluster.id);case 21:e.failedProposals=t.sent;case 22:case"end":return t.stop()}}),t,null,[[3,10]])})))()},data:function(){return{hasLeader:"No",leaderChanges:0,failedProposals:0}},computed:E({},Object(d["c"])(["currentCluster"]))},T=P,R=(r("6ac3"),r("0c7c")),j=Object(R["a"])(T,x,S,!1,null,"2699bc48",null),U=j.exports,A=r("96c7"),k=r("c859"),D=function(){var e=this,t=e._self._c;return t("SimpleBox",{staticClass:"hardware-resource-gauge"},[t("div",{staticClass:"chart"},[t("h3",[e._v("\n      "+e._s(e.name)+"\n    ")]),e._v(" "),!e.reserved||void 0===e.reserved.total&&void 0===e.reserved.useful?e._e():t("div",{staticClass:"hw-gauge"},[t("ConsumptionGauge",{attrs:{capacity:e.reserved.total,used:e.reserved.useful,"color-stops":e.colorStops},scopedSlots:e._u([{key:"title",fn:function(){return[t("span",[e._v("\n            "+e._s(e.t("clusterIndexPage.hardwareResourceGauge.reserved"))+"\n            "),t("span",{staticClass:"values text-muted"},[e.reserved.formattedUseful?t("span",[e._v("\n                "+e._s(e.reserved.formattedUseful)+"\n              ")]):t("span",[e._v("\n                "+e._s(e.maxDecimalPlaces(e.reserved.useful))+"\n              ")]),e._v("\n              /\n              "),e.reserved.formattedTotal?t("span",[e._v("\n                "+e._s(e.reserved.formattedTotal)+"\n              ")]):t("span",[e._v("\n                "+e._s(e.maxDecimalPlaces(e.reserved.total))+" "+e._s(e.reserved.units)+"\n              ")])])]),e._v(" "),t("span",[e._v("\n            "+e._s(e.percentage(e.reserved))+"\n          ")])]},proxy:!0}],null,!1,2282187084)})],1),e._v(" "),e.used&&void 0!==e.used.useful?t("div",{staticClass:"hw-gauge"},[t("ConsumptionGauge",{attrs:{capacity:e.used.total,used:e.used.useful,"color-stops":e.colorStops},scopedSlots:e._u([{key:"title",fn:function(){return[t("span",[e._v("\n            "+e._s(e.t("clusterIndexPage.hardwareResourceGauge.used"))+"\n            "),t("span",{staticClass:"values text-muted"},[e.used.formattedUseful?t("span",[e._v("\n                "+e._s(e.used.formattedUseful)+"\n              ")]):t("span",[e._v("\n                "+e._s(e.maxDecimalPlaces(e.used.useful))+"\n              ")]),e._v("\n              /\n              "),e.used.formattedTotal?t("span",[e._v("\n                "+e._s(e.used.formattedTotal)+"\n              ")]):t("span",[e._v("\n                "+e._s(e.maxDecimalPlaces(e.used.total))+" "+e._s(e.used.units)+"\n              ")])])]),e._v(" "),t("span",[e._v("\n            "+e._s(e.percentage(e.used))+"\n          ")])]},proxy:!0}],null,!1,2729230671)})],1):e._e()])])},M=[],L=(r("b680"),r("8e01")),N=r("8af7"),$={components:{ConsumptionGauge:L["a"],SimpleBox:N["a"]},props:{name:{type:String,required:!0},units:{type:String,default:""},used:{type:Object,default:null},reserved:{type:Object,default:null}},computed:{colorStops:function(){return{0:"--success",30:"--warning",70:"--error"}}},methods:{maxDecimalPlaces:function(e){return Math.round(100*e)/100},strokes:function(e,t){return{primaryStrokeColor:this.rgba(e,1),primaryStrokeGradientColor:this.rgba(t,1),secondaryStrokeColor:this.rgba(e,.1),secondaryStrokeGradientColor:this.rgba(t,.1)}},rgba:function(e,t){return"rgba(var(".concat(e,"), ").concat(t,")")},percentage:function(e){return 0===e.total?"":"".concat((e.useful/e.total*100).toFixed(2),"%")}}},G=$,H=(r("8c4fc"),Object(R["a"])(G,D,M,!1,null,"5826f04a",null)),B=H.exports,K=r("de78"),Y=function(){var e=this,t=e._self._c;return t("div",{staticClass:"config-badge"},[t("div",[t("a",{staticClass:"badge-install btn btn-sm role-secondary",attrs:{"data-testid":"add-custom-cluster-badge"},on:{click:e.customBadgeDialog}},[t("i",{directives:[{name:"clean-tooltip",rawName:"v-clean-tooltip",value:e.tooltip,expression:"tooltip"}],staticClass:"icon icon-brush-icon"})])])])},F=[],V=r("fa3b"),W={props:{cluster:{type:Object,required:!0}},name:"ConfigBadge",computed:{tooltip:function(){return this.t("clusterBadge.customizeAppearance")}},methods:{customBadgeDialog:function(){this.$store.dispatch("cluster/promptModal",{component:"AddCustomBadgeDialog",componentProps:{mode:V["O"]}})}}},q=W,z=(r("eaf0"),Object(R["a"])(q,Y,F,!1,null,"31f4ef16",null)),J=z.exports,X=function(){var e=this,t=e._self._c;return t("SortableTable",{attrs:{loading:e.$fetchState.pending,rows:e.events,headers:e.eventHeaders,"key-field":"id",search:!1,"table-actions":!1,"row-actions":!1,paging:!0,"rows-per-page":10,"default-sort-by":"date"}})},Q=[],Z=r("40d2"),ee=r("650c");function te(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function re(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?te(Object(r),!0).forEach((function(t){Object(s["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):te(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var se={components:{SortableTable:Z["b"]},fetch:function(){var e=this;return Object(i["a"])(u.a.mark((function t(){return u.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(ee["fetchClusterResources"])(e.$store,f["p"]);case 2:e.events=t.sent;case 3:case"end":return t.stop()}}),t)})))()},data:function(){var e=re(re(re({},b["tb"]),{canBeVariable:!0}),{},{width:130}),t=[e,b["hb"],b["bb"],b["db"],{name:"date",label:"Date",labelKey:"clusterIndexPage.sections.events.date.label",value:"timestamp",sort:"timestamp:desc",formatter:"Date",width:220,defaultSort:!0}];return{events:[],eventHeaders:t}},mounted:function(){this.dismissRouteHandler=this.$router.beforeEach(this.onRouteChange)},methods:{onRouteChange:function(e,t,r){var s=this;return Object(i["a"])(u.a.mark((function t(){return u.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(s.$route.name===e.name){t.next=3;break}return t.next=3,s.$store.dispatch("cluster/forgetType",f["p"]);case 3:r();case 4:case"end":return t.stop()}}),t)})))()}},beforeDestroy:function(){this.dismissRouteHandler()}},ae=se,ne=Object(R["a"])(ae,X,Q,!1,null,null,null),ie=ne.exports,ce=r("2004"),oe=r("55f9"),ue=function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[e.expiredData.expiring?t("Banner",{attrs:{"data-testid":"cert-expiring-banner",color:"warning",label:e.expiredData.expiring}}):e._e(),e._v(" "),e.expiredData.expired?t("Banner",{attrs:{color:"error",label:e.expiredData.expired}}):e._e(),e._v(" "),t("ResourceTable",{attrs:{loading:e.$fetchState.pending,schema:e.schema,headers:e.headers,rows:e.certs,"paging-label":"secret.certificate.paging","paging-params":e.pagingParams,"ignore-filter":!0},scopedSlots:e._u([{key:"col:certState",fn:function(e){var r=e.row;return[t("td",[t("BadgeState",{attrs:{color:r.certStateBackground,label:r.certStateDisplay}})],1)]}}])})],1)},le=[],de=r("f6b5"),fe=r("b178"),pe=r("1f91"),ve=r("15cb"),he=r("4297");function me(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function ge(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?me(Object(r),!0).forEach((function(t){Object(s["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):me(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var be=Object(de["defineComponent"])({components:{ResourceTable:fe["a"],Banner:m["a"],BadgeState:he["a"]},fetch:function(){var e=this;return Object(i["a"])(u.a.mark((function t(){return u.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.$store.dispatch("cluster/forgetType",f["V"]),t.next=3,e.$store.dispatch("cluster/findAll",{type:f["V"],opt:{watch:!1,filter:{"metadata.fields.1":pe["TYPES"].TLS}}});case 3:e.certs=t.sent;case 4:case"end":return t.stop()}}),t)})))()},data:function(){var e=this;return{schema:this.$store.getters["cluster/schemaFor"](f["V"]),headers:[ge(ge({},b["Eb"]),{},{formatter:null,name:"certState",sort:["certState","nameSort"],value:"certState"}),b["db"],b["eb"],{name:"cn",labelKey:"secret.certificate.cn",value:function(t){if(t.cn)return t.cn+(t.unrepeatedSans.length?" ".concat(e.t("secret.certificate.plusMore",{n:t.unrepeatedSans.length})):"")},sort:["cn"],search:["cn"]},{name:"cert-expires2",labelKey:"secret.certificate.expiresDuration",value:function(e){return e.timeTilExpirationDate},formatter:"LiveDate",sort:["timeTilExpiration"],search:["timeTilExpiration"],defaultSort:!0,width:100},{name:"cert-expires",labelKey:"secret.certificate.expiresOn",value:"cachedCertInfo.notAfter",formatter:"Date",sort:["cachedCertInfo.notAfter"],search:["cachedCertInfo.notAfter"]},{name:"cert-lifetime",labelKey:"secret.certificate.lifetime",value:function(e){return e.certLifetime},sort:["certLifetime"],search:["certLifetime"]},b["b"]],certs:[],pagingParams:{pluralLabel:this.t("secret.certificate.certificates"),singularLabel:this.t("secret.certificate.certificate")}}},computed:{expiredData:function(){for(var e=0,t=0,r=0;r<this.certs.length;r++){var s=this.certs[r];s.certState===ve["c"].EXPIRING&&e++,s.certState===ve["c"].EXPIRED&&t++}return{expiring:e?this.t("secret.certificate.warnings.expiring",{count:e}):"",expired:t?this.t("secret.certificate.warnings.expired",{count:t}):""}}},beforeDestroy:function(){this.$store.dispatch("cluster/forgetType",f["V"])}}),_e=be,ye=Object(R["a"])(_e,ue,le,!1,null,null,null),Ce=ye.exports,Oe=r("98bd"),xe=r("ead0"),Se=r("e9a7"),we=r.n(Se),Ie=r("8f50");function Ee(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=Pe(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var s=0,a=function(){};return{s:a,n:function(){return s>=e.length?{done:!0}:{done:!1,value:e[s++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,n=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw n}}}}function Pe(e,t){if(e){if("string"===typeof e)return Te(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Te(e,t):void 0}}function Te(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,s=new Array(t);r<t;r++)s[r]=e[r];return s}function Re(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,s)}return r}function je(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(r),!0).forEach((function(t){Object(s["a"])(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Re(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ue=[f["I"],f["x"],f["P"],f["hb"].DEPLOYMENT,f["hb"].STATEFUL_SET,f["hb"].JOB,f["hb"].DAEMON_SET,f["W"]],Ae="/api/v1/namespaces/cattle-monitoring-system/services/http:rancher-monitoring-grafana:80/proxy/d/rancher-cluster-nodes-1/rancher-cluster-nodes?orgId=1",ke="/api/v1/namespaces/cattle-monitoring-system/services/http:rancher-monitoring-grafana:80/proxy/d/rancher-cluster-1/rancher-cluster?orgId=1",De="/api/v1/namespaces/cattle-monitoring-system/services/http:rancher-monitoring-grafana:80/proxy/d/rancher-k8s-components-nodes-1/rancher-kubernetes-components-nodes?orgId=1",Me="/api/v1/namespaces/cattle-monitoring-system/services/http:rancher-monitoring-grafana:80/proxy/d/rancher-k8s-components-1/rancher-kubernetes-components?orgId=1",Le="/api/v1/namespaces/cattle-monitoring-system/services/http:rancher-monitoring-grafana:80/proxy/d/rancher-etcd-nodes-1/rancher-etcd-nodes?orgId=1",Ne="/api/v1/namespaces/cattle-monitoring-system/services/http:rancher-monitoring-grafana:80/proxy/d/rancher-etcd-1/rancher-etcd?orgId=1",$e=["etcd","scheduler","controller-manager"],Ge={name:"ClusterExplorerIndexPage",components:{EtcdInfoBanner:U,DashboardMetrics:l["a"],HardwareResourceGauge:B,ResourceSummary:k["a"],Tab:C["a"],Tabbed:y["a"],AlertTable:h["a"],Banner:m["a"],ConfigBadge:J,EventsTable:ie,SimpleBox:N["a"],Certificates:Ce,TabTitle:xe["a"]},mixins:[A["a"]],fetch:function(){Object(ee["fetchClusterResources"])(this.$store,f["K"]),Object(ee["fetchClusterResources"])(this.$store,f["N"]),this.currentCluster&&(Object(v["e"])(Object(O["a"])(this.$store,this.currentCluster.id,[Ae,ke]),this,"showClusterMetrics","Determine cluster metrics"),Object(v["e"])(Object(O["a"])(this.$store,this.currentCluster.id,[De,Me]),this,"showK8sMetrics","Determine k8s metrics"),Object(v["e"])(Object(O["a"])(this.$store,this.currentCluster.id,[Le,Ne]),this,"showEtcdMetrics","Determine etcd metrics"),Object(v["e"])(Object(_["c"])(this.$store),this,"canViewMetrics","Determine Grafana Permission"),this.currentCluster.isLocal&&this.$store.getters["management/schemaFor"](f["F"].NODE)&&this.$store.dispatch("management/findAll",{type:f["F"].NODE}),this.canViewAgents=this.$store.getters["cluster/canList"](f["hb"].DEPLOYMENT)&&this.$store.getters["cluster/canList"](f["hb"].STATEFUL_SET),this.canViewAgents&&this.loadAgents()),this.showCertificates=!Ie["a"].isSteveCacheEnabled({rootGetters:this.$store.getters})},data:function(){var e=this.$store.getters["cluster/all"](f["j"]),t=[b["Eb"],b["db"],b["yb"]];return{nodeHeaders:t,constraints:[],cattleDeployment:"loading",fleetDeployment:"loading",fleetStatefulSet:"loading",canViewAgents:!1,disconnected:!1,events:[],nodeMetrics:[],showClusterMetrics:!1,showK8sMetrics:!1,showEtcdMetrics:!1,canViewMetrics:!1,CLUSTER_METRICS_DETAIL_URL:Ae,CLUSTER_METRICS_SUMMARY_URL:ke,K8S_METRICS_DETAIL_URL:De,K8S_METRICS_SUMMARY_URL:Me,ETCD_METRICS_DETAIL_URL:Le,ETCD_METRICS_SUMMARY_URL:Ne,STATES_ENUM:ve["c"],clusterCounts:e,selectedTab:"cluster-events",extensionCards:Object(oe["a"])(this,ce["c"].CARD,ce["b"].CLUSTER_DASHBOARD_CARD,this.$route),showCertificates:!1}},beforeDestroy:function(){this.$store.dispatch("cluster/forgetType",f["p"]),this.$store.dispatch("cluster/forgetType",f["K"]),this.$store.dispatch("cluster/forgetType",f["o"]),this.$store.dispatch("cluster/forgetType",f["G"].NODE),this.$store.dispatch("cluster/forgetType",f["F"].NODE),this.$store.dispatch("cluster/forgetType",f["hb"].DEPLOYMENT),clearInterval(this.interval)},computed:je(je(je({},Object(d["c"])(["currentCluster"])),Object(_["f"])()),{},{nodes:function(){return this.$store.getters["cluster/all"](f["K"])},pods:function(){var e=this.$store.getters["cluster/all"](f["N"]);return e.filter((function(e){return e.spec.nodeName}))},mgmtNodes:function(){return this.$store.getters["management/all"](f["F"].CLUSTER)},showClusterTools:function(){return this.$store.getters["cluster/canList"](f["f"].CLUSTER_REPO)&&this.$store.getters["cluster/canList"](f["f"].APP)},displayProvider:function(){var e,t,r="other",s=(null===(e=this.currentCluster)||void 0===e||null===(t=e.status)||void 0===t?void 0:t.provider)||r;return"rke.windows"===s&&(s="rkeWindows"),this.$store.getters["i18n/exists"]("cluster.provider.".concat(s))||(s="other"),this.t("cluster.provider.".concat(s))},nodesArchitecture:function(){var e,t=this,r={};return null===(e=this.nodes)||void 0===e||e.forEach((function(e){var s,a;if(null===(s=e.metadata)||void 0===s||null===(a=s.state)||void 0===a||!a.transitioning){var n,i=null===(n=e.labels)||void 0===n?void 0:n[p["v"]],c=i?we()(i):t.t("cluster.architecture.label.unknown");r[c]=(r[c]||0)+1}})),r},architecture:function(){var e=this,t=Object.keys(this.nodesArchitecture);switch(t.length){case 0:return{label:this.t("generic.provisioning")};case 1:return{label:t[0]};default:return{label:this.t("cluster.architecture.label.mixed"),tooltip:t.reduce((function(t,r){return"".concat(t).concat(r,": ").concat(e.nodesArchitecture[r],"<br>")}),"")}}},isHarvesterCluster:function(){var e;return null===(e=this.currentCluster)||void 0===e?void 0:e.isHarvester},isRKE:function(){return["rke","rke.windows","rke2","rke2.windows"].includes((this.currentCluster.status.provider||"").toLowerCase())},accessibleResources:function(){var e,t,r=this,s=Object.keys((null===(e=this.clusterCounts)||void 0===e||null===(t=e[0])||void 0===t?void 0:t.counts)||{}).filter((function(e){return r.$store.getters["type-map/isIgnored"]({id:e})})),a=Object(c["a"])(new Set([].concat(Object(c["a"])(s),Ue)));return a.filter((function(e){return r.$store.getters["cluster/schemaFor"](e)}))},clusterServices:function(){var e=this,t=[];return $e.forEach((function(r){t.push({name:r,status:e.getComponentStatus(r),labelKey:"clusterIndexPage.sections.componentStatus.".concat(r)})})),this.canViewAgents&&(this.currentCluster.isLocal||t.push({name:"cattle",status:this.cattleStatus,labelKey:"clusterIndexPage.sections.componentStatus.cattle"}),t.push({name:"fleet",status:this.fleetStatus,labelKey:"clusterIndexPage.sections.componentStatus.fleet"})),t},cattleStatus:function(){var e,t,r=this.cattleDeployment;return"loading"===r?ve["c"].IN_PROGRESS:!r||this.disconnected||null!==(e=r.status.conditions)&&void 0!==e&&e.find((function(e){return"True"!==e.status}))||null!==(t=r.metadata.state)&&void 0!==t&&t.error?ve["c"].UNHEALTHY:r.spec.replicas!==r.status.readyReplicas||r.status.unavailableReplicas>0?ve["c"].WARNING:ve["c"].HEALTHY},fleetStatus:function(){var e=this.currentCluster.isLocal?Object(c["a"])(this.fleetStatefulSet?[this.fleetStatefulSet,this.fleetDeployment]:[this.fleetDeployment]):[this.fleetStatefulSet];if(e.find((function(e){return"loading"===e})))return ve["c"].IN_PROGRESS;var t,r=Ee(e);try{for(r.s();!(t=r.n()).done;){var s,a,n=t.value;if(!n||null!==(s=n.status.conditions)&&void 0!==s&&s.find((function(e){return"True"!==e.status}))||null!==(a=n.metadata.state)&&void 0!==a&&a.error)return ve["c"].UNHEALTHY}}catch(l){r.e(l)}finally{r.f()}var i,o=Ee(e);try{for(o.s();!(i=o.n()).done;){var u=i.value;if(u.spec.replicas!==u.status.readyReplicas||u.status.unavailableReplicas>0)return ve["c"].WARNING}}catch(l){o.e(l)}finally{o.f()}return ve["c"].HEALTHY},totalCountGaugeInput:function(){var e=this,t={name:this.t("clusterIndexPage.resourceGauge.totalResources"),total:0,useful:0,warningCount:0,errorCount:0};return this.accessibleResources.forEach((function(r){var s=Object(k["b"])(e.$store,r);Object.entries(s).forEach((function(e){t[e[0]]+=e[1]}))})),t},hasStats:function(){var e,t,r,s;return(null===(e=this.currentCluster)||void 0===e||null===(t=e.status)||void 0===t?void 0:t.allocatable)&&(null===(r=this.currentCluster)||void 0===r||null===(s=r.status)||void 0===s?void 0:s.requested)},cpuReserved:function(){var e,t,r,s,a,n,i=Object(g["g"])(null===(e=this.currentCluster)||void 0===e||null===(t=e.status)||void 0===t||null===(r=t.allocatable)||void 0===r?void 0:r.cpu);return{total:i,useful:Object(g["g"])(null===(s=this.currentCluster)||void 0===s||null===(a=s.status)||void 0===a||null===(n=a.requested)||void 0===n?void 0:n.cpu),units:this.t("clusterIndexPage.hardwareResourceGauge.units.cores",{count:i})}},podsUsed:function(){var e,t,r,s,a,n;return{total:Object(g["g"])((null===(e=this.currentCluster)||void 0===e||null===(t=e.status)||void 0===t||null===(r=t.allocatable)||void 0===r?void 0:r.pods)||"0"),useful:Object(g["g"])((null===(s=this.currentCluster)||void 0===s||null===(a=s.status)||void 0===a||null===(n=a.requested)||void 0===n?void 0:n.pods)||"0")}},ramReserved:function(){var e,t,r,s,a,n;return Object(g["d"])(null===(e=this.currentCluster)||void 0===e||null===(t=e.status)||void 0===t||null===(r=t.allocatable)||void 0===r?void 0:r.memory,null===(s=this.currentCluster)||void 0===s||null===(a=s.status)||void 0===a||null===(n=a.requested)||void 0===n?void 0:n.memory)},metricAggregations:function(){var e=this,t=this.nodes;if(this.currentCluster.isLocal){var r=this.nodes.reduce((function(e,t){return e[t.id]=t,e}),{});t=this.mgmtNodes.filter((function(e){var t,s,a=(null===(t=e.metadata)||void 0===t||null===(s=t.labels)||void 0===s?void 0:s["management.cattle.io/nodename"])||e.id;return!!r[a]}))}var s=t.some((function(e){return e.hasARole&&!e.isWorker})),a=this.nodeMetrics.filter((function(t){var r=e.nodes.find((function(e){return e.id===t.id}));return r&&(!s||r.isWorker)})),n={cpu:0,memory:0};return Object(K["isEmpty"])(a)?null:a.reduce((function(e,t){return e.cpu+=Object(g["g"])(t.usage.cpu),e.memory+=Object(g["g"])(t.usage.memory),e}),n)},cpuUsed:function(){var e,t,r,s,a=Object(g["g"])(null===(e=this.currentCluster)||void 0===e||null===(t=e.status)||void 0===t||null===(r=t.capacity)||void 0===r?void 0:r.cpu);return{total:a,useful:null===(s=this.metricAggregations)||void 0===s?void 0:s.cpu,units:this.t("clusterIndexPage.hardwareResourceGauge.units.cores",{count:a})}},ramUsed:function(){var e,t,r,s;return Object(g["d"])(null===(e=this.currentCluster)||void 0===e||null===(t=e.status)||void 0===t||null===(r=t.capacity)||void 0===r?void 0:r.memory,null===(s=this.metricAggregations)||void 0===s?void 0:s.memory)},intelOfsIa420fr0Usage:function(){return this.pods.filter((function(e){return"Succeeded"!==e.status.phase&&"Failed"!==e.status.phase})).map((function(e){var t,r,s=0;return null===(t=e.spec.containers)||void 0===t||t.forEach((function(e){var t,r,a=Number.parseInt((null===(t=e.resources)||void 0===t||null===(r=t.limits)||void 0===r?void 0:r["intel/ofs_ia420fr0"])||"0");s+=a})),null===(r=e.spec.initContainers)||void 0===r||r.forEach((function(e){var t,r,a=Number.parseInt((null===(t=e.resources)||void 0===t||null===(r=t.limits)||void 0===r?void 0:r["intel/ofs_ia420fr0"])||"0");a>s&&(s=a)})),s})).reduce((function(e,t){return e+t}),0)},intelOfsIa420fr0Capacity:function(){return this.nodes.map((function(e){return Number.parseInt(e.status.capacity["intel/ofs_ia420fr0"]||"0")})).reduce((function(e,t){return e+t}),0)},intelOfsIa420fr0Used:function(){return{total:this.intelOfsIa420fr0Capacity,useful:this.intelOfsIa420fr0Usage}},intelOfsIa420fr0UsmUsage:function(){return this.pods.filter((function(e){return"Succeeded"!==e.status.phase&&"Failed"!==e.status.phase})).map((function(e){var t,r,s=0;return null===(t=e.spec.containers)||void 0===t||t.forEach((function(e){var t,r,a=Number.parseInt((null===(t=e.resources)||void 0===t||null===(r=t.limits)||void 0===r?void 0:r["intel/ofs_ia420fr0_usm"])||"0");s+=a})),null===(r=e.spec.initContainers)||void 0===r||r.forEach((function(e){var t,r,a=Number.parseInt((null===(t=e.resources)||void 0===t||null===(r=t.limits)||void 0===r?void 0:r["intel/ofs_ia420fr0_usm"])||"0");a>s&&(s=a)})),s})).reduce((function(e,t){return e+t}),0)},intelOfsIa420fr0UsmCapacity:function(){return this.nodes.map((function(e){return Number.parseInt(e.status.capacity["intel/ofs_ia420fr0_usm"]||"0")})).reduce((function(e,t){return e+t}),0)},intelOfsIa420fr0UsmUsed:function(){return{total:this.intelOfsIa420fr0UsmCapacity,useful:this.intelOfsIa420fr0UsmUsage}},intelOfsIa840fr0Usage:function(){return this.pods.filter((function(e){return"Succeeded"!==e.status.phase&&"Failed"!==e.status.phase})).map((function(e){var t,r,s=0;return null===(t=e.spec.containers)||void 0===t||t.forEach((function(e){var t,r,a=Number.parseInt((null===(t=e.resources)||void 0===t||null===(r=t.limits)||void 0===r?void 0:r["intel/ofs_ia840fr0"])||"0");s+=a})),null===(r=e.spec.initContainers)||void 0===r||r.forEach((function(e){var t,r,a=Number.parseInt((null===(t=e.resources)||void 0===t||null===(r=t.limits)||void 0===r?void 0:r["intel/ofs_ia840fr0"])||"0");a>s&&(s=a)})),s})).reduce((function(e,t){return e+t}),0)},intelOfsIa840fr0Capacity:function(){return this.nodes.map((function(e){return Number.parseInt(e.status.capacity["intel/ofs_ia840fr0"]||"0")})).reduce((function(e,t){return e+t}),0)},intelOfsIa840fr0Used:function(){return{total:this.intelOfsIa840fr0Capacity,useful:this.intelOfsIa840fr0Usage}},intelOfsIa840fr0UsmUsage:function(){return this.pods.filter((function(e){return"Succeeded"!==e.status.phase&&"Failed"!==e.status.phase})).map((function(e){var t,r,s=0;return null===(t=e.spec.containers)||void 0===t||t.forEach((function(e){var t,r,a=Number.parseInt((null===(t=e.resources)||void 0===t||null===(r=t.limits)||void 0===r?void 0:r["intel/ofs_ia840fr0_usm"])||"0");s+=a})),null===(r=e.spec.initContainers)||void 0===r||r.forEach((function(e){var t,r,a=Number.parseInt((null===(t=e.resources)||void 0===t||null===(r=t.limits)||void 0===r?void 0:r["intel/ofs_ia840fr0_usm"])||"0");a>s&&(s=a)})),s})).reduce((function(e,t){return e+t}),0)},intelOfsIa840fr0UsmCapacity:function(){return this.nodes.map((function(e){return Number.parseInt(e.status.capacity["intel/ofs_ia840fr0_usm"]||"0")})).reduce((function(e,t){return e+t}),0)},intelOfsIa840fr0UsmUsed:function(){return{total:this.intelOfsIa840fr0UsmCapacity,useful:this.intelOfsIa840fr0UsmUsage}},intelPacA10Usage:function(){return this.pods.filter((function(e){return"Succeeded"!==e.status.phase&&"Failed"!==e.status.phase})).map((function(e){var t,r,s=0;return null===(t=e.spec.containers)||void 0===t||t.forEach((function(e){var t,r,a=Number.parseInt((null===(t=e.resources)||void 0===t||null===(r=t.limits)||void 0===r?void 0:r["intel/pac_a10"])||"0");s+=a})),null===(r=e.spec.initContainers)||void 0===r||r.forEach((function(e){var t,r,a=Number.parseInt((null===(t=e.resources)||void 0===t||null===(r=t.limits)||void 0===r?void 0:r["intel/pac_a10"])||"0");a>s&&(s=a)})),s})).reduce((function(e,t){return e+t}),0)},intelPacA10Capacity:function(){return this.nodes.map((function(e){return Number.parseInt(e.status.capacity["intel/pac_a10"]||"0")})).reduce((function(e,t){return e+t}),0)},intelPacA10Used:function(){return{total:this.intelPacA10Capacity,useful:this.intelPacA10Usage}},intelPacS10Usage:function(){return this.pods.filter((function(e){return"Succeeded"!==e.status.phase&&"Failed"!==e.status.phase})).map((function(e){var t,r,s=0;return null===(t=e.spec.containers)||void 0===t||t.forEach((function(e){var t,r,a=Number.parseInt((null===(t=e.resources)||void 0===t||null===(r=t.limits)||void 0===r?void 0:r["intel/pac_s10"])||"0");s+=a})),null===(r=e.spec.initContainers)||void 0===r||r.forEach((function(e){var t,r,a=Number.parseInt((null===(t=e.resources)||void 0===t||null===(r=t.limits)||void 0===r?void 0:r["intel/pac_s10"])||"0");a>s&&(s=a)})),s})).reduce((function(e,t){return e+t}),0)},intelPacS10Capacity:function(){return this.nodes.map((function(e){return Number.parseInt(e.status.capacity["intel/pac_s10"]||"0")})).reduce((function(e,t){return e+t}),0)},intelPacS10Used:function(){return{total:this.intelPacS10Capacity,useful:this.intelPacS10Usage}},intelPacS10UsmUsage:function(){return this.pods.filter((function(e){return"Succeeded"!==e.status.phase&&"Failed"!==e.status.phase})).map((function(e){var t,r,s=0;return null===(t=e.spec.containers)||void 0===t||t.forEach((function(e){var t,r,a=Number.parseInt((null===(t=e.resources)||void 0===t||null===(r=t.limits)||void 0===r?void 0:r["intel/pac_s10_usm"])||"0");s+=a})),null===(r=e.spec.initContainers)||void 0===r||r.forEach((function(e){var t,r,a=Number.parseInt((null===(t=e.resources)||void 0===t||null===(r=t.limits)||void 0===r?void 0:r["intel/pac_s10_usm"])||"0");a>s&&(s=a)})),s})).reduce((function(e,t){return e+t}),0)},intelPacS10UsmCapacity:function(){return this.nodes.map((function(e){return Number.parseInt(e.status.capacity["intel/pac_s10_usm"]||"0")})).reduce((function(e,t){return e+t}),0)},intelPacS10UsmUsed:function(){return{total:this.intelPacS10UsmCapacity,useful:this.intelPacS10UsmUsage}},fpgaCapacity:function(){return this.intelOfsIa420fr0Capacity+this.intelOfsIa420fr0UsmCapacity+this.intelOfsIa840fr0Capacity+this.intelOfsIa840fr0UsmCapacity+this.intelPacA10Capacity+this.intelPacS10Capacity+this.intelPacS10UsmCapacity},hasMonitoring:function(){var e,t,r,s,a;return!(null===(e=this.clusterCounts)||void 0===e||null===(t=e[0])||void 0===t||null===(r=t.counts)||void 0===r||null===(s=r[f["f"].APP])||void 0===s||null===(a=s.namespaces)||void 0===a||!a["cattle-monitoring-system"])},canAccessNodes:function(){var e,t,r;return!(null===(e=this.clusterCounts)||void 0===e||null===(t=e[0])||void 0===t||null===(r=t.counts)||void 0===r||!r[f["K"]])},canAccessDeployments:function(){var e,t,r;return!(null===(e=this.clusterCounts)||void 0===e||null===(t=e[0])||void 0===t||null===(r=t.counts)||void 0===r||!r[f["hb"].DEPLOYMENT])},hasMetricsTabs:function(){return this.canViewMetrics&&(this.showClusterMetrics||this.showK8sMetrics||this.showEtcdMetrics)},hasBadge:function(){var e;return!(null===(e=this.currentCluster)||void 0===e||!e.badge)},hasDescription:function(){var e,t;return!(null===(e=this.currentCluster)||void 0===e||null===(t=e.spec)||void 0===t||!t.description)},allEventsLink:function(){return{name:"c-cluster-product-resource",params:{product:Oe["NAME"],resource:f["p"]}}},allSecretsLink:function(){return{name:"c-cluster-product-resource",params:{product:Oe["NAME"],resource:f["V"]}}}}),methods:{loadAgents:function(){var e=this;this.currentCluster.isLocal?(this.setAgentResource("fleetDeployment",f["hb"].DEPLOYMENT,"cattle-fleet-system/fleet-controller"),this.setAgentResource("fleetStatefulSet",f["hb"].STATEFUL_SET,"cattle-fleet-local-system/fleet-agent")):(this.setAgentResource("fleetStatefulSet",f["hb"].STATEFUL_SET,"cattle-fleet-system/fleet-agent"),this.setAgentResource("cattleDeployment",f["hb"].DEPLOYMENT,"cattle-system/cattle-cluster-agent"),this.interval=setInterval((function(){e.disconnected=!!e.$store.getters["cluster/inError"]({type:f["K"]})}),1e3))},setAgentResource:function(e,t,r){var s=this;return Object(i["a"])(u.a.mark((function a(){return u.a.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,s.$store.dispatch("cluster/find",{type:t,id:r});case 3:s[e]=a.sent,a.next=9;break;case 6:a.prev=6,a.t0=a["catch"](0),s[e]=null;case 9:case"end":return a.stop()}}),a,null,[[0,6]])})))()},getComponentStatus:function(e){var t,r,s=((null===(t=this.currentCluster)||void 0===t||null===(r=t.status)||void 0===r?void 0:r.componentStatuses)||[]).filter((function(t){return t.name.startsWith(e)}));if(!s.length)return ve["c"].HEALTHY;var a=s.reduce((function(e,t){var r=t.conditions.find((function(e){return"True"!==e.status}));return r?e+1:e}),0);return a>0?ve["c"].UNHEALTHY:ve["c"].HEALTHY},showActions:function(){this.$store.commit("action-menu/show",{resources:this.currentCluster,elem:this.$refs["cluster-actions"]})},loadMetrics:function(){var e=this;return Object(i["a"])(u.a.mark((function t(){return u.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(ee["fetchClusterResources"])(e.$store,f["G"].NODE,{force:!0});case 2:e.nodeMetrics=t.sent;case 3:case"end":return t.stop()}}),t)})))()},tabChange:function(e){this.selectedTab=null===e||void 0===e?void 0:e.selectedName},goToHarvesterCluster:function(){var e=this;return Object(i["a"])(u.a.mark((function t(){var r,s;return u.a.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("management/findAll",{type:f["e"].RANCHER_CLUSTER});case 3:return r=t.sent,s=r.find((function(t){return t.mgmt.id===e.currentCluster.id})),t.next=7,s.goToHarvesterCluster();case 7:t.next=11;break;case 9:t.prev=9,t.t0=t["catch"](0);case 11:case"end":return t.stop()}}),t,null,[[0,9]])})))()}}},He=Ge,Be=(r("b13e"),Object(R["a"])(He,a,n,!1,null,"829f0c94",null));t["default"]=Be.exports},"60e4":function(e,t,r){var s=r("4bad");t=s(!1),t.push([e.i,".badge-install[data-v-31f4ef16]:hover{cursor:pointer}.badge-install[data-v-31f4ef16]{display:flex;margin-left:10px}.badge-install[data-v-31f4ef16]:hover{border-color:var(--lightest)}.badge-install>I[data-v-31f4ef16]{line-height:inherit}.badge-install[data-v-31f4ef16]:focus{outline:0}",""]),e.exports=t},"650c":function(e,t,r){"use strict";r.r(t),r.d(t,"fetchClusterResources",(function(){return i}));var s=r("1da1"),a=r("a34a"),n=r.n(a);r("96cf");function i(e,t){return c.apply(this,arguments)}function c(){return c=Object(s["a"])(n.a.mark((function e(t,r){var s,a,i,c=arguments;return n.a.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(s=c.length>2&&void 0!==c[2]?c[2]:{},a=t.getters["cluster/schemaFor"](r),!a){e.next=14;break}return e.prev=3,e.next=6,t.dispatch("cluster/findAll",{type:r,opt:s});case 6:return i=e.sent,e.abrupt("return",i);case 10:return e.prev=10,e.t0=e["catch"](3),console.error("Failed fetching cluster resource ".concat(r," with error:"),e.t0),e.abrupt("return",[]);case 14:return e.abrupt("return",[]);case 15:case"end":return e.stop()}}),e,null,[[3,10]])}))),c.apply(this,arguments)}},"6ac3":function(e,t,r){"use strict";r("f017")},"7f84":function(e,t,r){var s=r("60e4");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var a=r("499e").default;a("52eda872",s,!0,{sourceMap:!1,shadowMode:!1})},"8c4fc":function(e,t,r){"use strict";r("febb")},b037:function(e,t,r){var s=r("4bad");t=s(!1),t.push([e.i,".extension-card-container[data-v-829f0c94]{display:grid;grid-template-columns:repeat(auto-fit,minmax(calc(33.33333% - 40px),1fr));grid-column-gap:15px;grid-row-gap:20px}@media only screen and (max-width:992px){.extension-card-container[data-v-829f0c94]{grid-template-columns:1fr!important}}.cluster-dashboard-glance[data-v-829f0c94]{align-items:center;border-top:1px solid var(--border);border-bottom:1px solid var(--border);padding:10px 0;display:flex}.cluster-dashboard-glance[data-v-829f0c94]>:not(:nth-last-child(-n+2)){margin-right:40px}.cluster-dashboard-glance>:not(:nth-last-child(-n+2)) SPAN[data-v-829f0c94]{font-weight:700}.title h1[data-v-829f0c94]{margin:0}.title .cluster-dashboard-description[data-v-829f0c94]{margin:5px 0;opacity:.7}.actions-span[data-v-829f0c94]{align-self:center}.events[data-v-829f0c94]{margin-top:30px}.graph-options[data-v-829f0c94]{display:flex;flex-direction:row;justify-content:space-between;align-items:center}.etcd-metrics[data-v-829f0c94] .external-link{top:-107px}.cluster-tools-tip[data-v-829f0c94]{margin-top:0}.cluster-tools-link[data-v-829f0c94]{display:flex;margin-right:10px}.cluster-tools-link>I[data-v-829f0c94]{line-height:inherit;margin-right:4px}.cluster-tools-link[data-v-829f0c94]:focus{outline:0}.cert-table-link[data-v-829f0c94],.events-table-link[data-v-829f0c94]{display:flex;justify-content:flex-end;margin-bottom:20px}.k8s-service-status[data-v-829f0c94]{align-items:center;display:inline-flex;border:1px solid;border-color:var(--border);margin-top:20px}.k8s-service-status .label[data-v-829f0c94]{border-left:1px solid var(--border)}.k8s-service-status[data-v-829f0c94]:not(:last-child){margin-right:20px}.k8s-service-status>div[data-v-829f0c94]{padding:5px 20px}.k8s-service-status>I[data-v-829f0c94]{text-align:center;padding:5px 10px}.k8s-service-status.unhealthy[data-v-829f0c94]{border-color:var(--error-border)}.k8s-service-status.unhealthy>I[data-v-829f0c94]{color:var(--error)}.k8s-service-status.warning>I[data-v-829f0c94]{color:var(--warning)}.k8s-service-status.healthy>I[data-v-829f0c94]{color:var(--success)}",""]),e.exports=t},b13e:function(e,t,r){"use strict";r("b61d")},b61d:function(e,t,r){var s=r("b037");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var a=r("499e").default;a("178bc70a",s,!0,{sourceMap:!1,shadowMode:!1})},e5a3:function(e,t,r){var s=r("4bad");t=s(!1),t.push([e.i,".banner[data-v-2699bc48]{display:flex;justify-content:space-evenly;align-items:center}.banner .datum[data-v-2699bc48]{text-align:center;margin-right:5px}.banner[data-v-2699bc48] label{color:var(--info)}",""]),e.exports=t},eaf0:function(e,t,r){"use strict";r("7f84")},f017:function(e,t,r){var s=r("e5a3");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var a=r("499e").default;a("58e1fc12",s,!0,{sourceMap:!1,shadowMode:!1})},febb:function(e,t,r){var s=r("0cc7");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);var a=r("499e").default;a("4d413d10",s,!0,{sourceMap:!1,shadowMode:!1})}}]);
//# sourceMappingURL=chunk-80c5aa56.82324499.js.map